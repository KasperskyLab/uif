"use strict";(self.webpackChunk_kaspersky_hexa_ui=self.webpackChunk_kaspersky_hexa_ui||[]).push([[5879],{"./.storybook/components/Meta/withMeta.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{C:()=>withMeta});var Link=__webpack_require__("./src/link/Link.tsx"),Space=__webpack_require__("./src/space/Space.tsx"),Typography=__webpack_require__("./src/typography/Typography.tsx"),react=__webpack_require__("./node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),Grid=__webpack_require__("./src/grid/Grid.tsx"),GridItem=__webpack_require__("./src/grid/GridItem.tsx"),js=__webpack_require__("./node_modules/@kaspersky/hexa-ui-core/esm/colors/js/index.js"),StatusOkOutline=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/24/StatusOkOutline.js"),StatusNoThreadOutline=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/24/StatusNoThreadOutline.js");const metaDod={designTokens:"Design tokens",useThemedHook:"Theme hook",unitTests:"Unit tests",screenshotTests:"Screenshot tests",migration:"Migration",apiTable:"API",storybook:"Storybook",pixsoView:"Pixso"},MetaDod=({list})=>{const metaDodKeys=(0,react.useMemo)((()=>Object.keys(metaDod)),[]);return react.createElement(Grid.x,{layout:{cols:["repeat(2, 240px)"]}},metaDodKeys.map((key=>react.createElement(GridItem.E,{key},react.createElement(Space.$,{size:8},list[key]?react.createElement(StatusOkOutline.A,{color:js.CE.icon.status.statusgrass.light}):react.createElement(StatusNoThreadOutline.A,{color:js.CE.icon.status.statusneutral.light}),react.createElement(Typography.E,null,metaDod[key]))))))};MetaDod.__docgenInfo={description:"",methods:[],displayName:"MetaDod",props:{list:{required:!0,tsType:{name:"Partial",elements:[{name:"Record",elements:[{name:"union",raw:"keyof typeof metaDod",elements:[{name:"literal",value:"designTokens"},{name:"literal",value:"useThemedHook"},{name:"literal",value:"unitTests"},{name:"literal",value:"screenshotTests"},{name:"literal",value:"migration"},{name:"literal",value:"apiTable"},{name:"literal",value:"storybook"},{name:"literal",value:"pixsoView"}]},{name:"boolean"}],raw:"Record<keyof typeof metaDod, boolean>"}],raw:"Partial<Record<keyof typeof metaDod, boolean>>"},description:""}}};const StyledHeading=(0,styled_components_browser_esm.Ay)(Typography.D).withConfig({displayName:"withMeta__StyledHeading",componentId:"sc-1xyrw4j-0"})(["border:none !important;padding:0 !important;margin:0 !important;"]),StyledLink=(0,styled_components_browser_esm.Ay)(Link.N).withConfig({displayName:"withMeta__StyledLink",componentId:"sc-1xyrw4j-1"})(["height:20px !important;> span{font-family:inherit !important;font-size:inherit !important;}"]);function withMeta(list,Component){return props=>react.createElement(Space.$,{gap:32,direction:"vertical",align:"start"},react.createElement(Space.$,{gap:16,direction:"vertical",align:"start"},react.createElement(StyledHeading,{type:"H2"},null==list?void 0:list.component),((null==list?void 0:list.pixsoView)||(null==list?void 0:list.designLink))&&react.createElement(Space.$,{gap:16},(null==list?void 0:list.pixsoView)&&react.createElement(StyledLink,{href:list.pixsoView,target:"_blank",decoration:"icon",size:"medium"},"Документация в Pixso"),(null==list?void 0:list.designLink)&&react.createElement(StyledLink,{href:list.designLink,target:"_blank",decoration:"icon",size:"medium"},"Компонент в Pixso"))),react.createElement(Space.$,{gap:16,direction:"vertical",align:"start"},react.createElement(Typography.D,{type:"H4"},"Назначение"),react.createElement(Typography.E,null,(null==list?void 0:list.usage)||"-")),react.createElement(Space.$,{gap:16,direction:"vertical",align:"start"},react.createElement(Typography.D,{type:"H4"},"Технические особенности"),react.createElement(Typography.E,null,(null==list?void 0:list.description)||"-")),(null==list?void 0:list.dod)&&react.createElement(MetaDod,{list:list.dod}),Component&&react.createElement(Component,props))}},"./.storybook/components/Warnings.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{$i:()=>TableTreeInfo,KX:()=>TooltipCompositionWarning,Wr:()=>FieldWithCustomLabelInfo,dN:()=>ControllableActiveKeyInfo,ih:()=>StyledTag});var _src_link__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/link/Link.tsx"),_src_section_message__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/section-message/SectionMessage.tsx"),_src_tag__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/tag/Tag.tsx"),_src_typography__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/typography/Typography.tsx"),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js");const StyledTag=(0,__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js").Ay)(_src_tag__WEBPACK_IMPORTED_MODULE_2__.v).withConfig({displayName:"Warnings__StyledTag",componentId:"sc-1qskoyw-0"})(["margin:0;"]),TooltipStoryLink=()=>react__WEBPACK_IMPORTED_MODULE_4__.createElement(_src_link__WEBPACK_IMPORTED_MODULE_0__.N,{href:"./?path=/story/hexa-ui-components-tooltip--with-disabled-component",target:"_blank"},"Tooltip Story"),TooltipCompositionWarning=({propName})=>react__WEBPACK_IMPORTED_MODULE_4__.createElement(_src_section_message__WEBPACK_IMPORTED_MODULE_1__.H,{closable:!1,mode:"info",style:{marginBottom:16}},react__WEBPACK_IMPORTED_MODULE_4__.createElement(_src_typography__WEBPACK_IMPORTED_MODULE_3__.P,null,react__WEBPACK_IMPORTED_MODULE_4__.createElement(StyledTag,null,propName||"tooltip")," is not a prop of this component. The example shows possible composition. If ",react__WEBPACK_IMPORTED_MODULE_4__.createElement(StyledTag,null,"Tooltip")," not working with ",react__WEBPACK_IMPORTED_MODULE_4__.createElement(StyledTag,null,"disabled")," components see ",react__WEBPACK_IMPORTED_MODULE_4__.createElement(TooltipStoryLink,null)),react__WEBPACK_IMPORTED_MODULE_4__.createElement(_src_typography__WEBPACK_IMPORTED_MODULE_3__.P,null,react__WEBPACK_IMPORTED_MODULE_4__.createElement(StyledTag,null,propName||"tooltip")," не является пропом компонента. Пример показывает возможную композицию. Если ",react__WEBPACK_IMPORTED_MODULE_4__.createElement(StyledTag,null,"Tooltip")," на ",react__WEBPACK_IMPORTED_MODULE_4__.createElement(StyledTag,null,"disabled")," компоненте не срабатывает смотри ",react__WEBPACK_IMPORTED_MODULE_4__.createElement(TooltipStoryLink,null))),TableTreeInfo=()=>react__WEBPACK_IMPORTED_MODULE_4__.createElement(_src_section_message__WEBPACK_IMPORTED_MODULE_1__.H,{closable:!1,mode:"warning"},react__WEBPACK_IMPORTED_MODULE_4__.createElement(_src_typography__WEBPACK_IMPORTED_MODULE_3__.E,null,"Each node (table row) must have a unique ",react__WEBPACK_IMPORTED_MODULE_4__.createElement(StyledTag,null,"key")," property with ",react__WEBPACK_IMPORTED_MODULE_4__.createElement(StyledTag,null,"React.Key")," type to make expanding/collapsing feature work correctly"),react__WEBPACK_IMPORTED_MODULE_4__.createElement(_src_typography__WEBPACK_IMPORTED_MODULE_3__.E,null,"Для корректной работы разворачивания/сворачивания узлов дерева у каждого узла (строки таблицы) должен быть уникальный ключ ",react__WEBPACK_IMPORTED_MODULE_4__.createElement(StyledTag,null,"key")," типа ",react__WEBPACK_IMPORTED_MODULE_4__.createElement(StyledTag,null,"React.Key"))),ControllableActiveKeyInfo=()=>react__WEBPACK_IMPORTED_MODULE_4__.createElement(_src_section_message__WEBPACK_IMPORTED_MODULE_1__.H,{closable:!1,mode:"info"},react__WEBPACK_IMPORTED_MODULE_4__.createElement(_src_typography__WEBPACK_IMPORTED_MODULE_3__.P,null,"This story demonstrates the ability to control the state of an active navigation item from outside the component."),react__WEBPACK_IMPORTED_MODULE_4__.createElement(_src_typography__WEBPACK_IMPORTED_MODULE_3__.P,null,"Данный пример стори демонстрирует возможность контроля состояния активного элемента навигации извне компонента.")),FieldWithCustomLabelInfo=()=>react__WEBPACK_IMPORTED_MODULE_4__.createElement(_src_section_message__WEBPACK_IMPORTED_MODULE_1__.H,{closable:!1,mode:"info"},react__WEBPACK_IMPORTED_MODULE_4__.createElement(_src_typography__WEBPACK_IMPORTED_MODULE_3__.P,null,"A label can contain a React Node with any suitable content. The appearance of a custom label must be approved by the design system team. This story shows approved examples."),react__WEBPACK_IMPORTED_MODULE_4__.createElement(_src_typography__WEBPACK_IMPORTED_MODULE_3__.P,null,"Label может содержать React Node с произвольным контентом. Внешний вид кастомного лейбла обязательно необходимо согласовать с командой дизайн-системы. В этой сторе показаны одобренные примеры."));TooltipCompositionWarning.__docgenInfo={description:"",methods:[],displayName:"TooltipCompositionWarning",props:{propName:{required:!1,tsType:{name:"string"},description:""}}},TableTreeInfo.__docgenInfo={description:"",methods:[],displayName:"TableTreeInfo"},ControllableActiveKeyInfo.__docgenInfo={description:"",methods:[],displayName:"ControllableActiveKeyInfo"},FieldWithCustomLabelInfo.__docgenInfo={description:"",methods:[],displayName:"FieldWithCustomLabelInfo"}},"./design-system/palette/Palette.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{u:()=>StaticPalette,r:()=>ThemedPalette});var ThemeKey=__webpack_require__("./design-system/types/ThemeKey.ts"),Typography=__webpack_require__("./src/typography/Typography.tsx"),react=__webpack_require__("./node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),js=__webpack_require__("./node_modules/@kaspersky/hexa-ui-core/esm/colors/js/index.js");const convertHexUnitTo256=hexStr=>parseInt(hexStr.repeat(2/hexStr.length),16),hexToRGBA=hex=>{if(!(hex=>/^#([A-Fa-f0-9]{3,4}){1,2}$/.test(hex))(hex))return"";const chunkSize=Math.floor((hex.length-1)/3),hexArr=((st,chunkSize)=>st.match(new RegExp(`.{${chunkSize}}`,"g")))(hex.slice(1),chunkSize),[r,g,b,a]=hexArr.map(convertHexUnitTo256);return`rgba(${r}, ${g}, ${b}, ${String((a=>void 0!==a?a/255:1)(a)).slice(0,3)})`},getTokenByColorValue=(colors,value)=>Object.keys(colors).find((token=>colors[token]===value&&token.includes("_"))),ColorItem=styled_components_browser_esm.Ay.div.withConfig({displayName:"Palette__ColorItem",componentId:"sc-ir1kn8-0"})(["display:flex;align-items:center;gap:8px;",";"],(props=>props.margin&&`margin-left: ${props.margin}px;`)),Text=(0,styled_components_browser_esm.Ay)(Typography.E).withConfig({displayName:"Palette__Text",componentId:"sc-ir1kn8-1"})(["",";",";"],(props=>props.width&&`width: ${props.width}px;`),(props=>props.margin&&`margin-left: ${props.margin}px;`)),ColorItemRow=styled_components_browser_esm.Ay.div.withConfig({displayName:"Palette__ColorItemRow",componentId:"sc-ir1kn8-2"})(["display:flex;padding:8px;justify-content:space-between;align-items:center;min-width:450px;.ds-colorBox{background-color:",";width:48px;height:32px;}",""],(props=>props.color),(props=>props.theme===ThemeKey.H.Dark&&`\n    background-color: ${js.Tj.coldgrey_900};\n    color: ${js.Tj.neutral_0};\n  `)),ColorBox=styled_components_browser_esm.Ay.div.withConfig({displayName:"Palette__ColorBox",componentId:"sc-ir1kn8-3"})(["margin:0 8px;.ds-colorBox{background-color:",";width:150px;height:50px;}"],(props=>props.color)),ColorGroup=styled_components_browser_esm.Ay.div.withConfig({displayName:"Palette__ColorGroup",componentId:"sc-ir1kn8-4"})(["padding:10px 10px 20px 10px;display:flex;"]),Container=styled_components_browser_esm.Ay.div.withConfig({displayName:"Palette__Container",componentId:"sc-ir1kn8-5"})(["display:flex;flex-direction:column;gap:16px;min-width:1200px;"]),StaticPalette=({source})=>{const groupedColors=(colorPalette=>{const groupedColors={};return Object.keys(colorPalette).forEach((key=>{const groupKey=key.split("_").slice(0,-1).join("_");groupedColors[groupKey]||(groupedColors[groupKey]={}),groupedColors[groupKey][key]=colorPalette[key]})),groupedColors})(source);return react.createElement(Container,null,Object.entries(groupedColors).map((([groupKey,groupValue])=>react.createElement(ColorGroup,{key:groupKey},Object.entries(groupValue).map((([colorKey,colorValue])=>react.createElement(ColorBox,{color:colorValue,key:colorKey},colorKey,react.createElement("div",{className:"ds-colorBox"}))))))))},KEY_TO_LEVEL_MAP={1:{textType:"H5",margin:0},2:{textType:"H6",margin:8},3:{textType:"BTM2",margin:16},4:{textType:"BTM3",margin:32},5:{textType:"BTM4",margin:64}},ThemedPalette=({source})=>{const withTokensAliases=(0,react.useMemo)((()=>{const addAliases=(obj,level=1)=>Object.keys(obj).reduce(((acc,key)=>("object"!=typeof obj[key]||"dark"in obj[key]?acc[key]={light:{value:obj[key].light,alias:getTokenByColorValue(js.Tj,obj[key].light)},dark:{value:obj[key].dark,alias:getTokenByColorValue(js.Tj,obj[key].dark)}}:acc[key]=addAliases(obj[key],level+1),acc)),{});return addAliases(source)}),[source]),displayPalette=(obj,level=1)=>Object.keys(obj).map((key=>{if("object"==typeof obj[key]&&"dark"in obj[key]&&"light"in obj[key]){const color=obj[key];return react.createElement(ColorItem,{margin:KEY_TO_LEVEL_MAP[level].margin,key},react.createElement(Text,{width:128},key),react.createElement(ColorItemRow,{color:color.light.value},react.createElement("div",{className:"ds-colorBox"}),react.createElement(Text,{width:120},color.light.alias),react.createElement(Text,{width:90},color.light.value),react.createElement(Text,{width:160},hexToRGBA(color.light.value))),react.createElement(ColorItemRow,{color:color.dark.value,theme:ThemeKey.H.Dark},react.createElement("div",{className:"ds-colorBox"}),react.createElement(Text,{width:120,theme:ThemeKey.H.Dark},color.dark.alias),react.createElement(Text,{width:90,theme:ThemeKey.H.Dark},color.dark.value),react.createElement(Text,{width:160,theme:ThemeKey.H.Dark},hexToRGBA(color.dark.value))))}return react.createElement("div",{key},react.createElement(Text,{type:KEY_TO_LEVEL_MAP[level].textType||"BTM4",margin:KEY_TO_LEVEL_MAP[level].margin},key,displayPalette(obj[key],level+1)))}));return react.createElement(Container,null,displayPalette(withTokensAliases))};StaticPalette.__docgenInfo={description:"",methods:[],displayName:"StaticPalette",props:{source:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n  [key: string]: string\n}",signature:{properties:[{key:{name:"string"},value:{name:"string",required:!0}}]}},description:""}}},ThemedPalette.__docgenInfo={description:"",methods:[],displayName:"ThemedPalette",props:{source:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n  [key: string]: T | Palette<T>\n}",signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"T | Palette<T>",elements:[{name:"signature",type:"object",raw:"{\n  light: string,\n  dark: string\n}",signature:{properties:[{key:"light",value:{name:"string",required:!0}},{key:"dark",value:{name:"string",required:!0}}]}},{name:"Palette"}],required:!0}}]}},description:""}}}},"./src/grid/Grid.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{x:()=>Grid});var useTestAttribute=__webpack_require__("./helpers/hooks/useTestAttribute.ts"),react=__webpack_require__("./node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),gridCss=__webpack_require__("./src/grid/gridCss.ts"),GridItem=__webpack_require__("./src/grid/GridItem.tsx"),getGapStyle=__webpack_require__("./helpers/getGapStyle.ts");const layoutBaseCss=(0,styled_components_browser_esm.AH)(["display:grid;gap:",";row-gap:",";column-gap:",";align-items:",";justify-items:",";"],(({gap})=>(0,getGapStyle.e)(gap)),(({rowGap})=>(0,getGapStyle.e)(rowGap)),(({columnGap})=>(0,getGapStyle.e)(columnGap)),(({alignItems=""})=>alignItems),(({justifyItems=""})=>justifyItems)),singleRowLayoutCss=(0,styled_components_browser_esm.AH)(["grid-auto-columns:min-content;grid-auto-flow:column;"]),twoColumnsLayoutCss=(0,styled_components_browser_esm.AH)(['grid-template-columns:0.5fr 1fr;grid-template-areas:"left right";']),defaultLayoutCss=(0,styled_components_browser_esm.AH)(["grid-template-columns:repeat(12,1fr);"]),LayoutBase=styled_components_browser_esm.Ay.div.withConfig({shouldForwardProp:prop=>["className","data-testid","kl-id","children","data-component-version"].includes(prop)}).withConfig({displayName:"layouts__LayoutBase",componentId:"sc-x0fr0a-0"})(["",""],layoutBaseCss);(0,styled_components_browser_esm.Ay)(LayoutBase).withConfig({displayName:"layouts__SingleRowLayout",componentId:"sc-x0fr0a-1"})(["",""],singleRowLayoutCss),(0,styled_components_browser_esm.Ay)(LayoutBase).withConfig({displayName:"layouts__TwoColumnsLayout",componentId:"sc-x0fr0a-2"})(["",""],twoColumnsLayoutCss),(0,styled_components_browser_esm.Ay)(LayoutBase).withConfig({displayName:"layouts__DefaultLayout",componentId:"sc-x0fr0a-3"})(["",""],defaultLayoutCss);function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const StyledGrid=(0,styled_components_browser_esm.Ay)(LayoutBase).withConfig({displayName:"Grid__StyledGrid",componentId:"sc-287glv-0"})(["",""],gridCss.i),Grid=props=>{var _layout$cols,_layoutProperty$gap;const{children,cols,layout,layoutProperty,testAttributes,...rest}=(0,useTestAttribute.aG)(props),gridProps={...rest,...testAttributes,alignItems:null==layoutProperty?void 0:layoutProperty.alignItems,cols:null!==(_layout$cols=null==layout?void 0:layout.cols)&&void 0!==_layout$cols?_layout$cols:[`repeat(${null!=cols?cols:12}, 1fr)`],columnGap:null==layoutProperty?void 0:layoutProperty.columnGap,gap:null!==(_layoutProperty$gap=null==layoutProperty?void 0:layoutProperty.gap)&&void 0!==_layoutProperty$gap?_layoutProperty$gap:16,justifyItems:null==layoutProperty?void 0:layoutProperty.justifyItems,rowGap:null==layoutProperty?void 0:layoutProperty.rowGap};if((0,styled_components_browser_esm.p4)(layout)){const GridContainer=layout;return react.createElement(GridContainer,gridProps,children)}return react.createElement(StyledGrid,_extends({},gridProps,{areas:null==layout?void 0:layout.areas,direction:null==layout?void 0:layout.direction,rows:null==layout?void 0:layout.rows}),children)};Grid.defaultProps={cols:12},Grid.Item=GridItem.E,Grid.__docgenInfo={description:"",methods:[],displayName:"Grid",props:{cols:{defaultValue:{value:"12",computed:!1},required:!1}}}},"./src/grid/GridItem.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{E:()=>GridItem});var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_gridCss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/grid/gridCss.ts");const GridItem=styled_components__WEBPACK_IMPORTED_MODULE_0__.Ay.div.withConfig({shouldForwardProp:prop=>["className","data-testid","kl-id","children"].includes(prop)}).withConfig({displayName:"GridItem",componentId:"sc-hpc6x5-0"})(["",""],_gridCss__WEBPACK_IMPORTED_MODULE_1__.H)},"./src/grid/gridCss.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{H:()=>gridItemCss,i:()=>gridCss});var _design_system_theme__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./design-system/theme/themes/variables.ts"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");const GRID_PADDING=`0 ${_design_system_theme__WEBPACK_IMPORTED_MODULE_0__.m[12]}px`,gridCss=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.AH)([""," "," "," "," "," ",""],(({direction})=>direction?`grid-auto-flow: ${direction};`:""),(({cols})=>cols?`grid-template-columns: ${cols.join(" ")};`:""),(({rows})=>rows?`grid-template-rows: ${rows.join(" ")};`:""),(({areas})=>areas?`grid-template-areas: "${areas.map((a=>a.join(" "))).join('" "')}";`:""),(({withPadding})=>withPadding?`padding: ${GRID_PADDING};\n      box-sizing: content-box;`:""),(({gridType})=>{switch(gridType){case"fix":return"width: 872px;";case"sidebar":return"width: 100%;";default:return"max-width: 1592px;\n          min-width: 400px;\n          width: 100%;\n        "}})),gridItemCss=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.AH)([""," "," ",""],(({areaName})=>areaName?`grid-area: ${areaName};`:""),(({rowSpan})=>rowSpan?`grid-row: span ${rowSpan};`:""),(({span,columnSpan})=>span||columnSpan?`grid-column: span ${span||columnSpan};`:""))},"./src/upload/stories/Uploader.stories.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ColorTokens:()=>ColorTokens,ControlOverFileList:()=>ControlOverFileList,Disabled:()=>Disabled,FullHeight:()=>FullHeight,ManualUpload:()=>ManualUpload,SingleFile:()=>SingleFile,Size:()=>Size,UploaderStory:()=>UploaderStory,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _design_system_palette__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./design-system/palette/Palette.tsx"),_sb_badges__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./.storybook/badges.tsx"),_sb_components_designControls__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./.storybook/components/designControls/withDesignControls.tsx"),_sb_components_Meta__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./.storybook/components/Meta/withMeta.tsx"),_sb_components_Warnings__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./.storybook/components/Warnings.tsx"),_sb_StoryComponents__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./.storybook/StoryComponents.tsx"),_src_button__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/button/Button.tsx"),_src_section_message__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/section-message/SectionMessage.tsx"),_src_typography__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/typography/Typography.tsx"),react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react/index.js"),_kaspersky_hexa_ui_core_colors_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@kaspersky/hexa-ui-core/esm/colors/js/index.js"),_meta_meta_json__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/upload/__meta__/meta.json"),_Uploader__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/upload/Uploader.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const __WEBPACK_DEFAULT_EXPORT__={title:"Hexa UI Components/Upload",component:_Uploader__WEBPACK_IMPORTED_MODULE_12__.d,...(0,_sb_components_designControls__WEBPACK_IMPORTED_MODULE_2__.r)({componentName:"uploader",meta:{argTypes:{accept:{control:"text",description:"File types that can be accepted. See https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#accept",table:{type:{summary:"string"}}},action:{description:"Uploading URL",table:{type:{summary:"string | ((file) => string | Promise<string>)"}}},className:{control:"text",table:{type:{summary:"string"}}},description:{control:"text"},directory:{control:"boolean",description:"Support upload whole directory",table:{type:{summary:"boolean"}}},customRequest:{description:"Override the default handler for uploading",table:{type:{summary:"(options: object) => void"}}},headers:{description:"Set request headers",table:{type:{summary:"object"}}},maxCount:{control:{type:"number",min:1},table:{type:{summary:"number"}}},maxFileSize:{control:{type:"number",min:0},table:{type:{summary:"number"}}},maxTotalSize:{control:{type:"number",min:0},table:{type:{summary:"number"}}},method:{description:"The http method of upload request",table:{defaultValue:{summary:"post"},type:{summary:"string"}}},onChange:{},onDownload:{},onDownloadAll:{},onRemove:{},size:{control:{type:"inline-radio"},options:["small","medium"],table:{defaultValue:{summary:"medium"},type:{summary:"small | medium"}}}},args:{description:"Maximum 8 files, total size up to 320MB",customRequest:function customRequest({file,onError,onProgress,onSuccess}){let percent=0,aborted=!1;return async function upload(){for(;;){if(await new Promise((resolve=>setTimeout(resolve,500))),aborted)return;if(percent+=Math.floor(15*Math.random()),percent>20&&file.name.includes("error"))return void(null==onError||onError(new Error("Something goes wrong.")));if(!(percent<100))return void(null==onSuccess||onSuccess({}));null==onProgress||onProgress({percent})}}(),{abort(){aborted=!0}}},maxCount:8,maxTotalSize:327680,testId:"upload-test-id",klId:"upload-kl-id"},parameters:{actions:{argTypesRegex:"^(on.*|action)"},badges:[_sb_badges__WEBPACK_IMPORTED_MODULE_1__.j.stable,_sb_badges__WEBPACK_IMPORTED_MODULE_1__.j.reviewedByDesign],design:_meta_meta_json__WEBPACK_IMPORTED_MODULE_11__.pixsoView,docs:{page:(0,_sb_components_Meta__WEBPACK_IMPORTED_MODULE_3__.C)(_meta_meta_json__WEBPACK_IMPORTED_MODULE_11__)}}}})};const UploaderStory={render:args=>react__WEBPACK_IMPORTED_MODULE_9__.createElement("div",{style:{width:"100%"}},react__WEBPACK_IMPORTED_MODULE_9__.createElement(_src_section_message__WEBPACK_IMPORTED_MODULE_7__.H,{closable:!1,mode:"info"},react__WEBPACK_IMPORTED_MODULE_9__.createElement(_src_typography__WEBPACK_IMPORTED_MODULE_8__.P,null,'You can simulate an upload error by selecting a file that contains the string "error" in its name.'),react__WEBPACK_IMPORTED_MODULE_9__.createElement(_src_typography__WEBPACK_IMPORTED_MODULE_8__.P,null,'Вы можете сэмулировать ошибку загрузки, выбрав файл, содержащий в своем имени подстроку "error".')),react__WEBPACK_IMPORTED_MODULE_9__.createElement(_Uploader__WEBPACK_IMPORTED_MODULE_12__.d,_extends({},args,{style:{marginTop:16}}))),name:"Uploader"},Size={render:args=>(0,_sb_StoryComponents__WEBPACK_IMPORTED_MODULE_5__.N9)(["small","medium"].map((size=>({label:size,content:react__WEBPACK_IMPORTED_MODULE_9__.createElement(_Uploader__WEBPACK_IMPORTED_MODULE_12__.d,_extends({},args,{size}))}))),!0),argTypes:{size:{control:!1}}},Disabled={...Size,args:{disabled:!0}},SingleFile={render:args=>react__WEBPACK_IMPORTED_MODULE_9__.createElement(_Uploader__WEBPACK_IMPORTED_MODULE_12__.d,args),args:{description:"1 file, size up to 100KB",maxCount:1,maxTotalSize:102400}},ManualUpload={render:args=>{const ref=react__WEBPACK_IMPORTED_MODULE_9__.useRef(),[files,setFiles]=react__WEBPACK_IMPORTED_MODULE_9__.useState([]);return react__WEBPACK_IMPORTED_MODULE_9__.createElement("div",{style:{width:"100%"}},react__WEBPACK_IMPORTED_MODULE_9__.createElement(_src_section_message__WEBPACK_IMPORTED_MODULE_7__.H,{closable:!1,mode:"info"},react__WEBPACK_IMPORTED_MODULE_9__.createElement(_src_typography__WEBPACK_IMPORTED_MODULE_8__.P,null,"You can disable the automatic upload by setting ",react__WEBPACK_IMPORTED_MODULE_9__.createElement(_sb_components_Warnings__WEBPACK_IMPORTED_MODULE_4__.ih,null,"manual")," prop and start the upload of the selected files manually, e.g. by click on your own button."),react__WEBPACK_IMPORTED_MODULE_9__.createElement(_src_typography__WEBPACK_IMPORTED_MODULE_8__.P,null,"Вы можете отключить автоматическую загрузку, установив параметр ",react__WEBPACK_IMPORTED_MODULE_9__.createElement(_sb_components_Warnings__WEBPACK_IMPORTED_MODULE_4__.ih,null,"manual"),", и начать загрузку выбранных файлов вручную, например, нажав на свою кнопку.")),react__WEBPACK_IMPORTED_MODULE_9__.createElement(_Uploader__WEBPACK_IMPORTED_MODULE_12__.d,_extends({},args,{ref,onChange:info=>{var _args$onChange;setFiles(info.fileList),null===(_args$onChange=args.onChange)||void 0===_args$onChange||_args$onChange.call(args,info)},style:{marginTop:16}})),react__WEBPACK_IMPORTED_MODULE_9__.createElement(_src_button__WEBPACK_IMPORTED_MODULE_6__.$,{loading:files.some((x=>"uploading"===x.status)),onClick:()=>ref.current.upload(),style:{marginTop:16}},"Upload"))},args:{description:"The files will be uploaded to the server after clicking on the Upload button",manual:!0}};function Container({children,style,...props}){return react__WEBPACK_IMPORTED_MODULE_9__.createElement("div",_extends({},props,{style:{border:"1px solid grey",height:520,padding:20,position:"relative",...style}}),react__WEBPACK_IMPORTED_MODULE_9__.createElement(_src_typography__WEBPACK_IMPORTED_MODULE_8__.E,{style:{background:"white",padding:"0 5px",position:"absolute",left:0,top:0,transform:"translate(10px, -50%"}},"Container"),children)}const ControlOverFileList={render:({fileList,...args})=>{const[files,setFiles]=react__WEBPACK_IMPORTED_MODULE_9__.useState(fileList);return react__WEBPACK_IMPORTED_MODULE_9__.createElement("div",{style:{width:"100%"}},react__WEBPACK_IMPORTED_MODULE_9__.createElement(_src_section_message__WEBPACK_IMPORTED_MODULE_7__.H,{closable:!1,mode:"info"},react__WEBPACK_IMPORTED_MODULE_9__.createElement(_src_typography__WEBPACK_IMPORTED_MODULE_8__.P,null,"You can gain full control over the file list if needed. Enable ",react__WEBPACK_IMPORTED_MODULE_9__.createElement(_sb_components_Warnings__WEBPACK_IMPORTED_MODULE_4__.ih,null,"manual"),"and pass the necessary data to ",react__WEBPACK_IMPORTED_MODULE_9__.createElement(_sb_components_Warnings__WEBPACK_IMPORTED_MODULE_4__.ih,null,"fileList")," prop. You may want it if you need",react__WEBPACK_IMPORTED_MODULE_9__.createElement("ul",{style:{marginBottom:0}},react__WEBPACK_IMPORTED_MODULE_9__.createElement("li",null,"to display data previously got from backend;"),react__WEBPACK_IMPORTED_MODULE_9__.createElement("li",null,"a custom handler to upload the selected files."))),react__WEBPACK_IMPORTED_MODULE_9__.createElement(_src_typography__WEBPACK_IMPORTED_MODULE_8__.P,null,"Вы можете самостоятельно управлять списком файлов, если необходимо. Включите ",react__WEBPACK_IMPORTED_MODULE_9__.createElement(_sb_components_Warnings__WEBPACK_IMPORTED_MODULE_4__.ih,null,"manual"),"и передайте необходимые данные в проп ",react__WEBPACK_IMPORTED_MODULE_9__.createElement(_sb_components_Warnings__WEBPACK_IMPORTED_MODULE_4__.ih,null,"fileList"),". Это может понадобится, если вам",react__WEBPACK_IMPORTED_MODULE_9__.createElement("ul",{style:{marginBottom:0}},react__WEBPACK_IMPORTED_MODULE_9__.createElement("li",null,"нужно отобразить данные ранее полученные от бэкенда;"),react__WEBPACK_IMPORTED_MODULE_9__.createElement("li",null,"нужен кастомный обработчик для загрузки файлов.")))),react__WEBPACK_IMPORTED_MODULE_9__.createElement(_Uploader__WEBPACK_IMPORTED_MODULE_12__.d,_extends({},args,{fileList:files,onChange:info=>{var _args$onChange2;setFiles(info.fileList),null===(_args$onChange2=args.onChange)||void 0===_args$onChange2||_args$onChange2.call(args,info)},style:{marginTop:16}})))},args:{fileList:[{uid:"xxx_1",name:"file_name_1.png",size:524288e3,status:"success"},{uid:"xxx_2",name:"file_name_2.png",percent:45,size:153600,status:"uploading"}],manual:!0,maxFileSize:327680}},FullHeight={render:args=>react__WEBPACK_IMPORTED_MODULE_9__.createElement("div",{style:{width:"100%"}},react__WEBPACK_IMPORTED_MODULE_9__.createElement(_src_section_message__WEBPACK_IMPORTED_MODULE_7__.H,{closable:!1,mode:"info"},react__WEBPACK_IMPORTED_MODULE_9__.createElement(_src_typography__WEBPACK_IMPORTED_MODULE_8__.P,null,"You can extend the height of ",react__WEBPACK_IMPORTED_MODULE_9__.createElement(_sb_components_Warnings__WEBPACK_IMPORTED_MODULE_4__.ih,null,"Uploader")," to the height of the container by setting ",react__WEBPACK_IMPORTED_MODULE_9__.createElement(_sb_components_Warnings__WEBPACK_IMPORTED_MODULE_4__.ih,null,"fullHeight")," prop."),react__WEBPACK_IMPORTED_MODULE_9__.createElement(_src_typography__WEBPACK_IMPORTED_MODULE_8__.P,null,"Вы можете увеличить высоту ",react__WEBPACK_IMPORTED_MODULE_9__.createElement(_sb_components_Warnings__WEBPACK_IMPORTED_MODULE_4__.ih,null,"Uploader")," до высоты контейнера, установив параметр ",react__WEBPACK_IMPORTED_MODULE_9__.createElement(_sb_components_Warnings__WEBPACK_IMPORTED_MODULE_4__.ih,null,"fullHeight"),".")),react__WEBPACK_IMPORTED_MODULE_9__.createElement(Container,{style:{marginTop:16}},react__WEBPACK_IMPORTED_MODULE_9__.createElement(_Uploader__WEBPACK_IMPORTED_MODULE_12__.d,args))),args:{fullHeight:!0}},ColorTokens={args:{source:{upload:_kaspersky_hexa_ui_core_colors_js__WEBPACK_IMPORTED_MODULE_10__.Ah.upload,upload_header:_kaspersky_hexa_ui_core_colors_js__WEBPACK_IMPORTED_MODULE_10__.Ah.upload_header,upload_file:_kaspersky_hexa_ui_core_colors_js__WEBPACK_IMPORTED_MODULE_10__.Ah.upload_file}},render:args=>react__WEBPACK_IMPORTED_MODULE_9__.createElement(_design_system_palette__WEBPACK_IMPORTED_MODULE_0__.r,args)},__namedExportsOrder=["UploaderStory","Size","Disabled","SingleFile","ManualUpload","ControlOverFileList","FullHeight","ColorTokens"];UploaderStory.parameters={...UploaderStory.parameters,docs:{...UploaderStory.parameters?.docs,source:{originalSource:"{\n  render: args => {\n    return <div style={{\n      width: '100%'\n    }}>\n      <SectionMessage closable={false} mode=\"info\">\n        <P>You can simulate an upload error by selecting a file that contains the string &quot;error&quot; in its name.</P>\n        <P>Вы можете сэмулировать ошибку загрузки, выбрав файл, содержащий в своем имени подстроку &quot;error&quot;.</P>\n      </SectionMessage>\n\n      <Uploader {...args} style={{\n        marginTop: 16\n      }} />\n    </div>;\n  },\n  name: 'Uploader'\n}",...UploaderStory.parameters?.docs?.source}}},Size.parameters={...Size.parameters,docs:{...Size.parameters?.docs,source:{originalSource:"{\n  render: args => renderVariants((['small', 'medium'] as const).map(size => ({\n    label: size,\n    content: <Uploader {...args} size={size} />\n  })), true),\n  argTypes: {\n    size: {\n      control: false\n    }\n  }\n}",...Size.parameters?.docs?.source}}},Disabled.parameters={...Disabled.parameters,docs:{...Disabled.parameters?.docs,source:{originalSource:"{\n  ...Size,\n  args: {\n    disabled: true\n  }\n}",...Disabled.parameters?.docs?.source}}},SingleFile.parameters={...SingleFile.parameters,docs:{...SingleFile.parameters?.docs,source:{originalSource:"{\n  render: args => <Uploader {...args} />,\n  args: {\n    description: '1 file, size up to 100KB',\n    maxCount: 1,\n    maxTotalSize: 100 * 1024\n  }\n}",...SingleFile.parameters?.docs?.source}}},ManualUpload.parameters={...ManualUpload.parameters,docs:{...ManualUpload.parameters?.docs,source:{originalSource:"{\n  render: args => {\n    const ref = React.useRef<any>();\n    const [files, setFiles] = React.useState<UploadFile[]>([]);\n    return <div style={{\n      width: '100%'\n    }}>\n        <SectionMessage closable={false} mode=\"info\">\n          <P>\n            You can disable the automatic upload by setting <StyledTag>manual</StyledTag> prop and start\n            the upload of the selected files manually, e.g. by click on your own button.\n          </P>\n          <P>\n            Вы можете отключить автоматическую загрузку, установив параметр <StyledTag>manual</StyledTag>,\n            и начать загрузку выбранных файлов вручную, например, нажав на свою кнопку.\n          </P>\n        </SectionMessage>\n        <Uploader {...args} ref={ref} onChange={info => {\n        setFiles(info.fileList);\n        args.onChange?.(info);\n      }} style={{\n        marginTop: 16\n      }} />\n        <Button loading={files.some(x => x.status === 'uploading')} onClick={() => ref.current.upload()} style={{\n        marginTop: 16\n      }}>\n          Upload\n        </Button>\n      </div>;\n  },\n  args: {\n    description: 'The files will be uploaded to the server after clicking on the Upload button',\n    manual: true\n  }\n}",...ManualUpload.parameters?.docs?.source}}},ControlOverFileList.parameters={...ControlOverFileList.parameters,docs:{...ControlOverFileList.parameters?.docs,source:{originalSource:"{\n  render: ({\n    fileList,\n    ...args\n  }) => {\n    const [files, setFiles] = React.useState<UploadFile[] | undefined>(fileList);\n    return <div style={{\n      width: '100%'\n    }}>\n        <SectionMessage closable={false} mode=\"info\">\n          <P>\n            You can gain full control over the file list if needed. Enable <StyledTag>manual</StyledTag>\n            and pass the necessary data to <StyledTag>fileList</StyledTag> prop. You may want it if you need\n            <ul style={{\n            marginBottom: 0\n          }}>\n              <li>to display data previously got from backend;</li>\n              <li>a custom handler to upload the selected files.</li>\n            </ul>\n          </P>\n          <P>\n            Вы можете самостоятельно управлять списком файлов, если необходимо. Включите <StyledTag>manual</StyledTag>\n            и передайте необходимые данные в проп <StyledTag>fileList</StyledTag>. Это может понадобится,\n            если вам\n            <ul style={{\n            marginBottom: 0\n          }}>\n              <li>нужно отобразить данные ранее полученные от бэкенда;</li>\n              <li>нужен кастомный обработчик для загрузки файлов.</li>\n            </ul>\n          </P>\n        </SectionMessage>\n\n        <Uploader {...args} fileList={files} onChange={info => {\n        setFiles(info.fileList);\n        args.onChange?.(info);\n      }} style={{\n        marginTop: 16\n      }} />\n      </div>;\n  },\n  args: {\n    fileList: [{\n      uid: 'xxx_1',\n      name: 'file_name_1.png',\n      size: 500 * 1024 * 1024,\n      status: 'success'\n    }, {\n      uid: 'xxx_2',\n      name: 'file_name_2.png',\n      percent: 45,\n      size: 150 * 1024,\n      status: 'uploading'\n    }],\n    manual: true,\n    maxFileSize: 320 * 1024\n  }\n}",...ControlOverFileList.parameters?.docs?.source}}},FullHeight.parameters={...FullHeight.parameters,docs:{...FullHeight.parameters?.docs,source:{originalSource:"{\n  render: args => {\n    return <div style={{\n      width: '100%'\n    }}>\n        <SectionMessage closable={false} mode=\"info\">\n          <P>\n            You can extend the height of <StyledTag>Uploader</StyledTag> to the height of the container by\n            setting <StyledTag>fullHeight</StyledTag> prop.\n          </P>\n          <P>\n            Вы можете увеличить высоту <StyledTag>Uploader</StyledTag> до высоты контейнера, установив\n            параметр <StyledTag>fullHeight</StyledTag>.\n          </P>\n        </SectionMessage>\n        <Container style={{\n        marginTop: 16\n      }}>\n          <Uploader {...args} />\n        </Container>\n      </div>;\n  },\n  args: {\n    fullHeight: true\n  }\n}",...FullHeight.parameters?.docs?.source}}},ColorTokens.parameters={...ColorTokens.parameters,docs:{...ColorTokens.parameters?.docs,source:{originalSource:"{\n  args: {\n    source: {\n      upload: componentColors.upload,\n      upload_header: componentColors.upload_header,\n      upload_file: componentColors.upload_file\n    }\n  },\n  render: args => <ThemedPalette {...args} />\n}",...ColorTokens.parameters?.docs?.source}}}}}]);