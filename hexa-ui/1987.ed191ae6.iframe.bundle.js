"use strict";(self.webpackChunk_kaspersky_hexa_ui=self.webpackChunk_kaspersky_hexa_ui||[]).push([[1987],{"./src/upload/UploadList/FileItem.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{I:()=>FileItem});var _src_action_button__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/action-button/ActionButton.tsx"),_src_loader__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/loader/Loader.tsx"),_src_space__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/space/Space.tsx"),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/index.js"),_kaspersky_hexa_ui_icons_16__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/16/CrossS.js"),_kaspersky_hexa_ui_icons_16__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/16/Download2.js"),_kaspersky_hexa_ui_icons_16__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/16/File.js"),_kaspersky_hexa_ui_icons_16__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/16/Reload.js"),_kaspersky_hexa_ui_icons_16__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/16/StatusDangerOutlineSquare.js"),_wrappers__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/upload/UploadList/wrappers.tsx");function FileItem({className,disabled,name,onDownload,onRemove,onUpload,percent,size,status,truncateName,...props}){if("uploading"===status||void 0===status)return react__WEBPACK_IMPORTED_MODULE_3__.createElement(_wrappers__WEBPACK_IMPORTED_MODULE_9__.Cp,{$disabled:disabled,className},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_src_space__WEBPACK_IMPORTED_MODULE_2__.$,{gap:8,wrap:"nowrap",style:{overflow:"hidden"}},"uploading"===status?react__WEBPACK_IMPORTED_MODULE_3__.createElement(_src_loader__WEBPACK_IMPORTED_MODULE_1__.a,{size:"small"}):react__WEBPACK_IMPORTED_MODULE_3__.createElement(_kaspersky_hexa_ui_icons_16__WEBPACK_IMPORTED_MODULE_6__.A,{className:"file-icon"}),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_wrappers__WEBPACK_IMPORTED_MODULE_9__.o3,{truncateName},name)),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_src_space__WEBPACK_IMPORTED_MODULE_2__.$,{gap:8},size&&react__WEBPACK_IMPORTED_MODULE_3__.createElement(_wrappers__WEBPACK_IMPORTED_MODULE_9__.US,{percent,size}),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_src_action_button__WEBPACK_IMPORTED_MODULE_0__.r,{className:"close-icon",disabled,icon:react__WEBPACK_IMPORTED_MODULE_3__.createElement(_kaspersky_hexa_ui_icons_16__WEBPACK_IMPORTED_MODULE_4__.A,null),onClick:onRemove,size:"large"})));if("error"===status){const error="string"==typeof props.error?props.error:props.error instanceof Error?props.error.message:String(props.error);return react__WEBPACK_IMPORTED_MODULE_3__.createElement(_wrappers__WEBPACK_IMPORTED_MODULE_9__.Cp,{className,$disabled:disabled,$error:!0,align:"flex-start"},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_src_space__WEBPACK_IMPORTED_MODULE_2__.$,{align:"flex-start",gap:8,wrap:"nowrap",style:{overflow:"hidden"}},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_kaspersky_hexa_ui_icons_16__WEBPACK_IMPORTED_MODULE_8__.A,{className:"error-icon",style:{marginTop:2}}),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_src_space__WEBPACK_IMPORTED_MODULE_2__.$,{align:"flex-start",direction:"vertical",wrap:"nowrap",style:{overflow:"hidden"}},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_wrappers__WEBPACK_IMPORTED_MODULE_9__.o3,{style:{maxWidth:"100%"},truncateName},name),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_wrappers__WEBPACK_IMPORTED_MODULE_9__.f6,null,error))),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_src_space__WEBPACK_IMPORTED_MODULE_2__.$,{gap:4},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_src_action_button__WEBPACK_IMPORTED_MODULE_0__.r,{disabled,icon:react__WEBPACK_IMPORTED_MODULE_3__.createElement(_kaspersky_hexa_ui_icons_16__WEBPACK_IMPORTED_MODULE_7__.A,null),onClick:onUpload,size:"large"}),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_src_action_button__WEBPACK_IMPORTED_MODULE_0__.r,{className:"close-icon",disabled,icon:react__WEBPACK_IMPORTED_MODULE_3__.createElement(_kaspersky_hexa_ui_icons_16__WEBPACK_IMPORTED_MODULE_4__.A,null),onClick:onRemove,size:"large"})))}return react__WEBPACK_IMPORTED_MODULE_3__.createElement(_wrappers__WEBPACK_IMPORTED_MODULE_9__.Cp,{$disabled:disabled,$done:!0,className,onClick:disabled?void 0:onDownload},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_src_space__WEBPACK_IMPORTED_MODULE_2__.$,{gap:8,wrap:"nowrap",style:{overflow:"hidden"}},react__WEBPACK_IMPORTED_MODULE_3__.createElement(_kaspersky_hexa_ui_icons_16__WEBPACK_IMPORTED_MODULE_6__.A,{className:"file-icon"}),!disabled&&react__WEBPACK_IMPORTED_MODULE_3__.createElement(_kaspersky_hexa_ui_icons_16__WEBPACK_IMPORTED_MODULE_5__.A,{className:"download-icon"}),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_wrappers__WEBPACK_IMPORTED_MODULE_9__.o3,{truncateName},name)),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_src_space__WEBPACK_IMPORTED_MODULE_2__.$,{gap:8},size&&react__WEBPACK_IMPORTED_MODULE_3__.createElement(_wrappers__WEBPACK_IMPORTED_MODULE_9__.US,{size}),react__WEBPACK_IMPORTED_MODULE_3__.createElement(_src_action_button__WEBPACK_IMPORTED_MODULE_0__.r,{className:"close-icon",disabled,icon:react__WEBPACK_IMPORTED_MODULE_3__.createElement(_kaspersky_hexa_ui_icons_16__WEBPACK_IMPORTED_MODULE_4__.A,null),onClick:event=>{event.stopPropagation(),null==onRemove||onRemove()},size:"large"})))}FileItem.__docgenInfo={description:"",methods:[],displayName:"FileItem",props:{className:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},error:{required:!1,tsType:{name:"any"},description:""},name:{required:!0,tsType:{name:"string"},description:""},onDownload:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onUpload:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},percent:{required:!1,tsType:{name:"number"},description:""},size:{required:!0,tsType:{name:"number"},description:""},status:{required:!1,tsType:{name:"union",raw:"'done' | 'uploading' | 'removed' | 'error' | 'success'",elements:[{name:"literal",value:"'done'"},{name:"literal",value:"'uploading'"},{name:"literal",value:"'removed'"},{name:"literal",value:"'error'"},{name:"literal",value:"'success'"}]},description:""},truncateName:{required:!1,tsType:{name:"boolean"},description:""}}}},"./src/upload/UploadList/wrappers.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{f6:()=>FileError,o3:()=>FileName,US:()=>FileSize,Cp:()=>FileWrapper,Fj:()=>UploadListWrapper});var upload=__webpack_require__("./design-system/css-configs/components/upload.ts"),Space=__webpack_require__("./src/space/Space.tsx"),Tooltip=__webpack_require__("./src/tooltip/Tooltip.tsx"),Text_styled=__webpack_require__("./src/typography/text/Text.styled.tsx"),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),convertFileSize=__webpack_require__("./src/upload/utils/convertFileSize.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const cssConfig=(0,upload.S)().file,TextReducerContainer=styled_components_browser_esm.Ay.div.withConfig({displayName:"wrappers__TextReducerContainer",componentId:"sc-7pfoqv-0"})(["display:flex;white-space:pre;word-break:keep-all;"]),TextReducerPart1=styled_components_browser_esm.Ay.div.withConfig({displayName:"wrappers__TextReducerPart1",componentId:"sc-7pfoqv-1"})(["overflow:hidden;text-overflow:ellipsis;"]),FileNameReducer=({children})=>{const ref=(0,react.useRef)(null),[hasOverflow,setHasOverflow]=(0,react.useState)(!1);(0,react.useEffect)((()=>{if(!ref.current)return;const container=ref.current,observer=new ResizeObserver((()=>{setHasOverflow(container.offsetWidth<container.scrollWidth)}));return observer.observe(container),()=>observer.unobserve(container)}),[ref.current]);const[part1,part2]=function splitFileNameForTruncation(name){const match=name.match(/(.){5}(\.[^.]*)?$/);if(match){const part2=match[0];return[name.slice(0,-part2.length),part2]}return[name,""]}(children),content=react.createElement(TextReducerContainer,null,react.createElement(TextReducerPart1,{ref},part1),part2);return hasOverflow?react.createElement(Tooltip.m,{text:children},content):content},FileName=(0,styled_components_browser_esm.Ay)((({children,truncateName,...props})=>!truncateName||children.length<15?react.createElement(Text_styled.E,_extends({},props,{type:"BTR3"}),children):react.createElement(Text_styled.E,_extends({},props,{type:"BTR3"}),react.createElement(FileNameReducer,null,children)))).withConfig({displayName:"wrappers__FileName",componentId:"sc-7pfoqv-2"})(["overflow:hidden;word-break:break-word;"]),FileSize=(0,styled_components_browser_esm.Ay)((({percent,size:rawSize,...props})=>{const{t}=(0,es.Bd)(),size=(0,convertFileSize.B)(rawSize);if(void 0===percent)return react.createElement(Text_styled.E,_extends({},props,{type:"BTR4"}),size);const progress=(Number.parseFloat(size)*percent/100).toFixed(2);return react.createElement(Text_styled.E,_extends({},props,{type:"BTR4"}),t("uploader.progress",{progress,size}))})).withConfig({displayName:"wrappers__FileSize",componentId:"sc-7pfoqv-3"})([""]),FileError=(0,styled_components_browser_esm.Ay)(Text_styled.E).attrs({type:"BTR4"}).withConfig({displayName:"wrappers__FileError",componentId:"sc-7pfoqv-4"})([""]),FileWrapper=(0,styled_components_browser_esm.Ay)(Space.$).attrs({gap:8,width:"initial",wrap:"nowrap"}).withConfig({displayName:"wrappers__FileWrapper",componentId:"sc-7pfoqv-5"})(["background:",";border:1px solid ",";border-radius:4px;padding:5px 11px;> :nth-child(1){flex:1;}> :nth-child(2){flex:0 0 auto;}svg{flex:0 0 auto;}","{color:",";}","{color:",";}.file-icon,.download-icon{color:",";}&:hover{background:",";border-color:",";","{color:",";}}"," "," "," "," ",""],cssConfig.enabled.background,cssConfig.enabled.border,FileName,cssConfig.enabled.name,FileSize,cssConfig.enabled.size,cssConfig.enabled.icon,cssConfig.hover.background,cssConfig.hover.border,FileName,cssConfig.hover.name,(props=>props.$done&&"\n    &:not(:hover) .close-icon {\n      display: none;\n    }\n  "),(props=>props.$done&&!props.$disabled&&`\n    &:not(:hover) .download-icon {\n      display: none;\n    }\n\n    &:hover {\n      cursor: pointer;\n\n      .file-icon {\n        display: none;\n      }\n    }\n\n    &:active {\n      background-color: ${cssConfig.active.background};\n      border-color: ${cssConfig.active.border};\n    }\n  `),(props=>props.$done&&props.$disabled&&"\n    .close-icon {\n      display: none;\n    }\n  "),(props=>props.$error&&`\n    &, &:hover {\n      background: ${cssConfig.invalid.background};\n      border-color: ${cssConfig.invalid.border};\n\n      .error-icon {\n        color: ${cssConfig.invalid.icon};\n      }\n\n      ${FileName} {\n        color: ${cssConfig.invalid.name};\n      }\n\n      ${FileError} {\n        color: ${cssConfig.invalid.validation};\n      }\n    }\n  `),(props=>props.$disabled&&`\n    &, &:hover {\n      background: ${cssConfig.disabled.background};\n      border-color: ${cssConfig.disabled.border};\n\n      .file-icon, .error-icon {\n        color: ${cssConfig.disabled.icon};\n      }\n\n      ${FileName}, ${FileError} {\n        color: ${cssConfig.disabled.name};\n      }\n\n      ${FileSize} {\n        color: ${cssConfig.disabled.size};\n      }\n    }\n  `)),UploadListWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"wrappers__UploadListWrapper",componentId:"sc-7pfoqv-6"})([""])},"./src/upload/Uploader.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{d:()=>Uploader});var useTestAttribute=__webpack_require__("./helpers/hooks/useTestAttribute.ts"),Button=__webpack_require__("./src/button/Button.tsx"),Space=__webpack_require__("./src/space/Space.tsx"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),es=__webpack_require__("./node_modules/rc-upload/es/index.js"),useMergedState=__webpack_require__("./node_modules/rc-util/lib/hooks/useMergedState.js"),react=__webpack_require__("./node_modules/react/index.js"),dist_es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),Upload=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/16/Upload.js"),upload=__webpack_require__("./design-system/css-configs/components/upload.ts"),ActionButton=__webpack_require__("./src/action-button/ActionButton.tsx"),Dropdown=__webpack_require__("./src/dropdown/Dropdown.tsx"),Typography=__webpack_require__("./src/typography/Typography.tsx"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),Delete=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/16/Delete.js"),Reload=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/16/Reload.js"),Download2=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/16/Download2.js"),Menu2=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/16/Menu2.js"),convertFileSize=__webpack_require__("./src/upload/utils/convertFileSize.ts");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const cssConfig=(0,upload.S)(),Total=(0,styled_components_browser_esm.Ay)((({disabled,fileList,maxCount,maxTotalSize,onDeleteAll,onDeleteErrors,onReloadErrors,onDownloadAll,...props})=>{const{t}=(0,dist_es.Bd)(),labels=[];if(maxCount&&labels.push(t("uploader.total.files",{filesCount:fileList.length,total:maxCount})),maxTotalSize){const size=fileList.reduce(((sum,file)=>sum+file.size),0);labels.push(t("uploader.total.size",{size:(0,convertFileSize.B)(size),total:(0,convertFileSize.B)(1024*maxTotalSize)}))}const label=0===labels.length?t("uploader.total.simple",{filesCount:fileList.length}):labels.join(", "),dropdownOverlay=[{children:t("uploader.actions.deleteAll"),componentsBefore:[react.createElement(Delete.A,{key:"icon"})],onClick:onDeleteAll}];return fileList.some((x=>!!x.error))&&dropdownOverlay.push({children:t("uploader.actions.deleteErrors",{count:fileList.filter((x=>!!x.error)).length}),componentsBefore:[react.createElement(Delete.A,{key:"icon"})],onClick:onDeleteErrors},{children:t("uploader.actions.reloadErrors",{count:fileList.filter((x=>!!x.error)).length}),componentsBefore:[react.createElement(Reload.A,{key:"icon"})],onClick:onReloadErrors}),onDownloadAll&&dropdownOverlay.push({children:t("uploader.actions.downloadAll"),componentsBefore:[react.createElement(Download2.A,{key:"icon"})],onClick:onDownloadAll}),react.createElement(Typography.E,_extends({},props,{type:"BTR4"}),label,react.createElement(Dropdown.m,{disabled,overlay:dropdownOverlay,trigger:["click"]},react.createElement(ActionButton.r,{disabled,icon:react.createElement(Menu2.A,null),size:"large"})))})).withConfig({displayName:"Total",componentId:"sc-12nb8k8-0"})(["display:flex;gap:4px;align-items:center;color:",";"],(props=>props.disabled?cssConfig.disabled.total:cssConfig.enabled.total));var FileItem=__webpack_require__("./src/upload/UploadList/FileItem.tsx"),wrappers=__webpack_require__("./src/upload/UploadList/wrappers.tsx");function UploadList_extends(){return UploadList_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},UploadList_extends.apply(null,arguments)}function UploadList({disabled,items=[],onDownload,onRemove,onUpload,showProgress,truncateFileName}){return react.createElement(wrappers.Fj,null,items.map((file=>react.createElement(FileItem.I,UploadList_extends({},file,{key:file.uid,disabled,onDownload:()=>(file=>{"function"==typeof onDownload?onDownload(file):file.url&&window.open(file.url)})(file),onRemove:()=>null==onRemove?void 0:onRemove(file),onUpload:()=>null==onUpload?void 0:onUpload(file),percent:showProgress?file.percent:void 0,truncateName:truncateFileName})))))}UploadList.__docgenInfo={description:"",methods:[],displayName:"UploadList",props:{disabled:{required:!1,tsType:{name:"boolean"},description:""},items:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n  error?: any,\n  lastModified?: number,\n  name: string,\n  originFileObj?: RcFile,\n  percent?: number,\n  response?: T,\n  size: number,\n  status?: 'error' | 'success' | 'done' | 'uploading' | 'removed',\n  uid: string,\n  url?: string,\n  xhr?: T\n}",signature:{properties:[{key:"error",value:{name:"any",required:!1}},{key:"lastModified",value:{name:"number",required:!1}},{key:"name",value:{name:"string",required:!0}},{key:"originFileObj",value:{name:"RcFile",required:!1}},{key:"percent",value:{name:"number",required:!1}},{key:"response",value:{name:"T",required:!1}},{key:"size",value:{name:"number",required:!0}},{key:"status",value:{name:"union",raw:"'error' | 'success' | 'done' | 'uploading' | 'removed'",elements:[{name:"literal",value:"'error'"},{name:"literal",value:"'success'"},{name:"literal",value:"'done'"},{name:"literal",value:"'uploading'"},{name:"literal",value:"'removed'"}],required:!1}},{key:"uid",value:{name:"string",required:!0}},{key:"url",value:{name:"string",required:!1}},{key:"xhr",value:{name:"T",required:!1}}]}}],raw:"Array<UploadFile>"},description:"",defaultValue:{value:"[]",computed:!1}},onDownload:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: UploadFile) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{\n  error?: any,\n  lastModified?: number,\n  name: string,\n  originFileObj?: RcFile,\n  percent?: number,\n  response?: T,\n  size: number,\n  status?: 'error' | 'success' | 'done' | 'uploading' | 'removed',\n  uid: string,\n  url?: string,\n  xhr?: T\n}",signature:{properties:[{key:"error",value:{name:"any",required:!1}},{key:"lastModified",value:{name:"number",required:!1}},{key:"name",value:{name:"string",required:!0}},{key:"originFileObj",value:{name:"RcFile",required:!1}},{key:"percent",value:{name:"number",required:!1}},{key:"response",value:{name:"T",required:!1}},{key:"size",value:{name:"number",required:!0}},{key:"status",value:{name:"union",raw:"'error' | 'success' | 'done' | 'uploading' | 'removed'",elements:[{name:"literal",value:"'error'"},{name:"literal",value:"'success'"},{name:"literal",value:"'done'"},{name:"literal",value:"'uploading'"},{name:"literal",value:"'removed'"}],required:!1}},{key:"uid",value:{name:"string",required:!0}},{key:"url",value:{name:"string",required:!1}},{key:"xhr",value:{name:"T",required:!1}}]}},name:"file"}],return:{name:"void"}}},description:""},onRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: UploadFile) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{\n  error?: any,\n  lastModified?: number,\n  name: string,\n  originFileObj?: RcFile,\n  percent?: number,\n  response?: T,\n  size: number,\n  status?: 'error' | 'success' | 'done' | 'uploading' | 'removed',\n  uid: string,\n  url?: string,\n  xhr?: T\n}",signature:{properties:[{key:"error",value:{name:"any",required:!1}},{key:"lastModified",value:{name:"number",required:!1}},{key:"name",value:{name:"string",required:!0}},{key:"originFileObj",value:{name:"RcFile",required:!1}},{key:"percent",value:{name:"number",required:!1}},{key:"response",value:{name:"T",required:!1}},{key:"size",value:{name:"number",required:!0}},{key:"status",value:{name:"union",raw:"'error' | 'success' | 'done' | 'uploading' | 'removed'",elements:[{name:"literal",value:"'error'"},{name:"literal",value:"'success'"},{name:"literal",value:"'done'"},{name:"literal",value:"'uploading'"},{name:"literal",value:"'removed'"}],required:!1}},{key:"uid",value:{name:"string",required:!0}},{key:"url",value:{name:"string",required:!1}},{key:"xhr",value:{name:"T",required:!1}}]}},name:"file"}],return:{name:"void"}}},description:""},onUpload:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: UploadFile) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{\n  error?: any,\n  lastModified?: number,\n  name: string,\n  originFileObj?: RcFile,\n  percent?: number,\n  response?: T,\n  size: number,\n  status?: 'error' | 'success' | 'done' | 'uploading' | 'removed',\n  uid: string,\n  url?: string,\n  xhr?: T\n}",signature:{properties:[{key:"error",value:{name:"any",required:!1}},{key:"lastModified",value:{name:"number",required:!1}},{key:"name",value:{name:"string",required:!0}},{key:"originFileObj",value:{name:"RcFile",required:!1}},{key:"percent",value:{name:"number",required:!1}},{key:"response",value:{name:"T",required:!1}},{key:"size",value:{name:"number",required:!0}},{key:"status",value:{name:"union",raw:"'error' | 'success' | 'done' | 'uploading' | 'removed'",elements:[{name:"literal",value:"'error'"},{name:"literal",value:"'success'"},{name:"literal",value:"'done'"},{name:"literal",value:"'uploading'"},{name:"literal",value:"'removed'"}],required:!1}},{key:"uid",value:{name:"string",required:!0}},{key:"url",value:{name:"string",required:!1}},{key:"xhr",value:{name:"T",required:!1}}]}},name:"file"}],return:{name:"void"}}},description:""},showProgress:{required:!0,tsType:{name:"boolean"},description:""},truncateFileName:{required:!1,tsType:{name:"boolean"},description:""}}};var useComponentCssConfig=__webpack_require__("./design-system/css-configs/helpers/useComponentCssConfig.ts");function file2Obj(file,patch){return{...file,lastModified:file.lastModified,name:file.name,originFileObj:file,percent:0,size:file.size,uid:file.uid,...patch}}function updateFileList(file,fileList){const nextFileList=[...fileList],fileIndex=nextFileList.findIndex((({uid})=>uid===file.uid));return-1===fileIndex?nextFileList.push(file):nextFileList[fileIndex]=file,nextFileList}function getFileItem(file,fileList){const matchKey=void 0!==file.uid?"uid":"name";return fileList.filter((item=>item[matchKey]===file[matchKey]))[0]}function removeFileItem(file,fileList){const matchKey=void 0!==file.uid?"uid":"name",removed=fileList.filter((item=>item[matchKey]!==file[matchKey]));return removed.length===fileList.length?null:removed}function getSize(files){return files.reduce(((sum,x)=>sum+x.size),0)}function hasCriticalErrors(errors,dropErrors){return errors.length>0||Object.keys(dropErrors).filter((error=>"uploader.validation.maxFileSize"!==error)).length>0}function useValidation(fileList,isManualUploading,LIST_IGNORE,manual,maxFileSize,maxCount,maxTotalSize){const errors=react.useMemo((()=>function validate(fileList,maxFileSizeInKB,maxCount,maxTotalSizeInKB){const errors=[];if(maxFileSizeInKB)for(const f of fileList)if(f.size>1024*maxFileSizeInKB){errors.push("uploader.validation.maxFileSize2");break}return maxCount&&fileList.length>maxCount&&errors.push("uploader.validation.maxCount2"),maxTotalSizeInKB&&getSize(fileList)>1024*maxTotalSizeInKB&&errors.push("uploader.validation.maxTotalSize2"),errors}(fileList,maxFileSize,maxCount,maxTotalSize)),[fileList,maxFileSize,maxCount,maxTotalSize]),[errorsForNewFiles,setValidationErrors]=react.useState({}),validatedFiles=react.useRef(new WeakMap),beforeUploadInternal=(file,fileListArgs)=>{if(manual&&isManualUploading.current)return;if(validatedFiles.current.has(file))return validatedFiles.current.get(file)===LIST_IGNORE?LIST_IGNORE:!manual&&void 0;for(const x of fileListArgs)validatedFiles.current.set(x,!0);const{errors,failedFiles}=function validateNewFiles(fileList,newFiles,maxFileSizeInKB,maxCount,maxTotalSizeInKB){const failedFiles=[],errors={},filesWithCorrectSize=[];if(maxFileSizeInKB)for(const f of newFiles){var _errors$_uploaderVali;f.size>1024*maxFileSizeInKB?(null!==(_errors$_uploaderVali=errors["uploader.validation.maxFileSize"])&&void 0!==_errors$_uploaderVali||(errors["uploader.validation.maxFileSize"]=[]),errors["uploader.validation.maxFileSize"].push(f.name),failedFiles.push(f)):filesWithCorrectSize.push(f)}else filesWithCorrectSize.push(...newFiles);return maxCount&&fileList.length+filesWithCorrectSize.length>maxCount&&(errors["uploader.validation.maxCount"]=filesWithCorrectSize.map((x=>x.name)),failedFiles.push(...filesWithCorrectSize)),maxTotalSizeInKB&&getSize(fileList)+getSize(filesWithCorrectSize)>1024*maxTotalSizeInKB&&(errors["uploader.validation.maxTotalSize"]=filesWithCorrectSize.map((x=>x.name)),failedFiles.push(...filesWithCorrectSize)),{errors,failedFiles:Array.from(new Set(failedFiles))}}(fileList,fileListArgs,maxFileSize,maxCount,maxTotalSize);for(const f of failedFiles)validatedFiles.current.set(f,LIST_IGNORE);return setValidationErrors(errors),validatedFiles.current.get(file)===LIST_IGNORE?LIST_IGNORE:!manual&&void 0};return{beforeUpload:async(file,fileListArgs)=>{let parsedFile=file;const result=await beforeUploadInternal(file,fileListArgs);return!1!==result&&(delete file[LIST_IGNORE],result===LIST_IGNORE?(Object.defineProperty(file,LIST_IGNORE,{value:!0,configurable:!0}),!1):("object"==typeof result&&result&&(parsedFile=result),parsedFile))},errors,errorsForNewFiles}}var Link=__webpack_require__("./src/link/Link.tsx"),Popover=__webpack_require__("./src/popover/Popover.tsx"),StatusDangerSquareOutline=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/40/StatusDangerSquareOutline.js"),UploadFull=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/40/UploadFull.js");function wrappers_extends(){return wrappers_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wrappers_extends.apply(null,arguments)}const wrappers_cssConfig=(0,upload.S)(),UploadIcon=(0,styled_components_browser_esm.Ay)((({invalid,...props})=>invalid?react.createElement(StatusDangerSquareOutline.A,props):react.createElement(UploadFull.A,props))).withConfig({displayName:"wrappers__UploadIcon",componentId:"sc-1406cgq-0"})(["align-self:normal;"]),DragAndDropMessage=(0,styled_components_browser_esm.Ay)((({disabled,fileList,hasErrors,maxCount,onOpenFileDialog,...props})=>{const{t}=(0,dist_es.Bd)();return hasErrors?react.createElement(Typography.P,wrappers_extends({},props,{type:"BTM3"}),t("uploader.validation.filesDoNotMeetRequirements")):maxCount&&fileList.length>=maxCount?react.createElement(Typography.P,wrappers_extends({},props,{type:"BTM3"}),t("uploader.maxCountUploaded")):react.createElement(Typography.P,wrappers_extends({},props,{type:"BTM3"}),react.createElement(Link.N,{disabled,onClick:onOpenFileDialog},t(1===maxCount?"uploader.dropText.beginningSingle":"uploader.dropText.beginningMultiple"))," ",t(1===maxCount?"uploader.dropText.endingSingle":"uploader.dropText.endingMultiple"))})).withConfig({displayName:"wrappers__DragAndDropMessage",componentId:"sc-1406cgq-1"})([""]),ValidationPopoverWrapper=(0,styled_components_browser_esm.Ay)(Typography.P).attrs({type:"BTR3"}).withConfig({displayName:"wrappers__ValidationPopoverWrapper",componentId:"sc-1406cgq-2"})(["min-height:calc(60px - 16px * 2);display:flex;align-items:center;ol{margin:0;padding-left:12px;list-style-type:square;}"]),ValidationMessage=(0,styled_components_browser_esm.Ay)((({disabled,errors,errorsForNewFiles,...props})=>{const{t}=(0,dist_es.Bd)();return errors.length>0?errors.map((function mapError(key){return react.createElement(Typography.P,wrappers_extends({},props,{key,type:"BTR4"}),t(key))})):Object.entries(errorsForNewFiles).map((function mapErrorForNewFile([key,names]){const popoverContent=react.createElement(ValidationPopoverWrapper,null,react.createElement("ol",null,names.map((name=>react.createElement("li",{key:name},name)))));return react.createElement(Typography.P,wrappers_extends({},props,{key,type:"BTR4"}),t(key,{count:names.length})," ",react.createElement(Popover.A,{placement:"left",content:popoverContent},react.createElement(Link.N,{disabled,size:"noSize"},t("uploader.showFiles"))))}))})).withConfig({displayName:"wrappers__ValidationMessage",componentId:"sc-1406cgq-3"})(["color:",";a{white-space:nowrap;}"],(props=>props.disabled?wrappers_cssConfig.disabled.requirements:wrappers_cssConfig.invalid.validation)),UploadRequirements=(0,styled_components_browser_esm.Ay)(Typography.P).attrs({type:"BTR4"}).withConfig({displayName:"wrappers__UploadRequirements",componentId:"sc-1406cgq-4"})(["text-align:initial;"]),DragContainerWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"wrappers__DragContainerWrapper",componentId:"sc-1406cgq-5"})(["background:",";border:1px dashed ",";border-radius:8px;cursor:initial;width:",";min-width:338px;"," .hexa-upload-drag-container{display:flex;flex-direction:column;padding:24px;> :nth-child(2){margin-top:16px;}> :nth-child(n + 3){margin-top:8px;}}"," ","{margin-right:-24px;padding-right:24px;overflow-y:auto;"," > :not(:first-child){margin-top:8px;}}","{color:",";}","{color:",";}","{color:",";}"," "," ",""],wrappers_cssConfig.enabled.background,wrappers_cssConfig.enabled.border,(({width})=>width?`${width}px`:"100%"),(props=>!props.$minimize&&props.$fullHeight&&"\n    &, .hexa-upload-drag-container { \n      height: 100%;\n    }\n  "),(props=>props.$minimize&&"\n    background: none;\n    border: none;\n    border-radius: 0;\n\n    .hexa-upload-drag-container {\n      padding: 0;\n    }\n  "),wrappers.Fj,(props=>!props.$fullHeight&&"\n      max-height: 287px;\n    "),UploadIcon,wrappers_cssConfig.enabled.header.icon,DragAndDropMessage,wrappers_cssConfig.enabled.header.text,UploadRequirements,wrappers_cssConfig.enabled.requirements,(props=>props.$invalid&&`\n    border-color: ${wrappers_cssConfig.invalid.validation};\n\n    ${UploadIcon} {\n      color: ${wrappers_cssConfig.invalid.header.icon};\n    }\n  `),(props=>props.disabled&&`\n    background: ${wrappers_cssConfig.disabled.background};\n    border-color: ${wrappers_cssConfig.disabled.border};\n    \n    ${UploadIcon} {\n      color: ${wrappers_cssConfig.disabled.header.icon};\n    }\n\n    ${DragAndDropMessage} {\n      color: ${wrappers_cssConfig.disabled.header.text};\n    }\n\n    ${UploadRequirements} {\n      color: ${wrappers_cssConfig.disabled.requirements};\n    }\n  `),(props=>!props.disabled&&!props.$maxCountReached&&props.$dragOver&&`\n    background: ${wrappers_cssConfig.active.background};\n    border-color: ${wrappers_cssConfig.active.border};\n  `)),SelectContainerWrapper=styled_components_browser_esm.Ay.div.withConfig({displayName:"wrappers__SelectContainerWrapper",componentId:"sc-1406cgq-6"})(["width:",";min-width:338px;.hexa-upload-select-container > :not(:first-child){margin-top:8px;}"," > :not(:first-child){margin-top:8px;}","{color:",";}",""],(({width})=>width?`${width}px`:"100%"),wrappers.Fj,UploadRequirements,wrappers_cssConfig.enabled.requirements,(props=>props.disabled&&`\n    ${UploadRequirements} {\n      color: ${wrappers_cssConfig.disabled.requirements};\n    }\n  `));function Uploader_extends(){return Uploader_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Uploader_extends.apply(null,arguments)}const Uploader=react.forwardRef((({size,...props},ref)=>{const{t}=(0,dist_es.Bd)(),{className,description,disabled,fileList:externalFileList,fullHeight,manual,maxCount,maxFileSize,maxTotalSize,onChange,onDownload,onDownloadAll,onRemove,showProgress=!0,style,testAttributes,truncateFileName}=(0,useTestAttribute.aG)((props=>(0,useComponentCssConfig.M)(props,{componentName:"upload",defaultValues:{}}))(props)),[fileList,setFileList]=(0,useMergedState.A)([],{value:externalFileList}),[dragState,setDragState]=react.useState("drop"),isManualUploadingRef=react.useRef(!1),uploadRef=react.useRef(),maxCountReached=!!maxCount&&fileList.length>=maxCount,showListOnly=maxCountReached&&1===maxCount;function getRcUploaderApi(){return{...uploadRef.current.uploader,openFileDialog:()=>uploadRef.current.uploader.fileInput.click(),post:file=>uploadRef.current.uploader.post(file)}}async function uploadFile(file){isManualUploadingRef.current=!0;const api=getRcUploaderApi(),originFileObj=file.originFileObj,info=await api.processFile(originFileObj,[originFileObj]);api.post(info),isManualUploadingRef.current=!1}react.useImperativeHandle(ref,(()=>({upload:()=>{fileList.filter((x=>"error"!==x.status&&"uploading"!==x.status&&"done"!==x.status)).forEach(uploadFile)}})));const{beforeUpload,errors,errorsForNewFiles}=useValidation(fileList,isManualUploadingRef,LIST_IGNORE,manual,maxFileSize,maxCount,maxTotalSize),{handleRemove,onBatchStart,onError,onProgress,onSuccess}=function useUploadHandlers(mergedFileList,onInternalChange,LIST_IGNORE,abortUploading,onRemove){return{handleRemove:async data=>{const files=Array.isArray(data)?data:[data],res=await Promise.allSettled(files.map((async file=>({file,res:await(null==onRemove?void 0:onRemove(file))}))));let currentFile,newFileList=mergedFileList;for(const x of res){if("rejected"===x.status||!1===x.value.res)continue;const file=x.value.file,removedFileList=removeFileItem(file,newFileList);removedFileList&&(newFileList=removedFileList,currentFile={...file,status:"removed"},null==mergedFileList||mergedFileList.forEach((item=>{const matchKey=void 0!==currentFile.uid?"uid":"name";item[matchKey]!==currentFile[matchKey]||Object.isFrozen(item)||(item.status="removed")})),abortUploading(currentFile))}currentFile&&onInternalChange(currentFile,newFileList)},onBatchStart:batchFileInfoList=>{const filteredFileInfoList=batchFileInfoList.filter((info=>!info.file[LIST_IGNORE]));if(!filteredFileInfoList.length)return;const objectFileList=filteredFileInfoList.map((info=>file2Obj(info.file)));let newFileList=[...mergedFileList];objectFileList.forEach((fileObj=>{newFileList=updateFileList(fileObj,newFileList)})),objectFileList.forEach(((fileObj,index)=>{let triggerFileObj=fileObj;if(filteredFileInfoList[index].parsedFile)fileObj.status="uploading";else{const{originFileObj}=fileObj;let clone;try{clone=new File([originFileObj],originFileObj.name,{type:originFileObj.type})}catch(e){clone=new Blob([originFileObj],{type:originFileObj.type}),clone.name=originFileObj.name,clone.lastModified=(new Date).getTime()}clone.uid=fileObj.uid,triggerFileObj=clone}onInternalChange(triggerFileObj,newFileList)}))},onError:(error,response,file)=>{if(!getFileItem(file,mergedFileList))return;const targetItem=file2Obj(file,{error,response,status:"error"});onInternalChange(targetItem,function sortFileList(files){return files.sort(((a,b)=>"error"===a.status&&"error"!==b.status?-1:"error"!==a.status&&"error"===b.status?1:0)),files}(updateFileList(targetItem,mergedFileList)))},onProgress:(event,file)=>{if(!getFileItem(file,mergedFileList))return;const targetItem=file2Obj(file,{percent:event.percent,status:"uploading"});onInternalChange(targetItem,updateFileList(targetItem,mergedFileList),event)},onSuccess:(response,file,xhr)=>{if(!getFileItem(file,mergedFileList))return;try{"string"==typeof response&&(response=JSON.parse(response))}catch(error){console.error(error)}const targetItem=file2Obj(file,{percent:100,response,status:"done",xhr});onInternalChange(targetItem,updateFileList(targetItem,mergedFileList))}}}(fileList,((file,changedFileList,event)=>{let cloneList=[...changedFileList];1===maxCount?cloneList=cloneList.slice(-1):maxCount&&(cloneList=cloneList.slice(0,maxCount)),setFileList(cloneList);const changeInfo={file,fileList:cloneList};event&&(changeInfo.event=event),null==onChange||onChange(changeInfo)}),LIST_IGNORE,(file=>{var _uploadRef$current;return null===(_uploadRef$current=uploadRef.current)||void 0===_uploadRef$current?void 0:_uploadRef$current.abort(file)}),onRemove),onFileDrop=event=>{if(maxCountReached)return event.dataTransfer.dropEffect="none",void event.preventDefault();setDragState(event.type)};function renderContent(){const validation=(errors.length>0||Object.keys(errorsForNewFiles).length>0)&&react.createElement(ValidationMessage,{disabled,errors,errorsForNewFiles}),total=fileList.length>0&&react.createElement(Total,{disabled,fileList,maxCount,maxTotalSize,onDeleteAll:()=>handleRemove(fileList),onDeleteErrors:()=>handleRemove(fileList.filter((x=>!!x.error))),onDownloadAll,onReloadErrors:()=>{fileList.filter((x=>!!x.error)).forEach(uploadFile)}}),list=fileList.length>0&&react.createElement(UploadList,{disabled,items:fileList,onDownload,onRemove:file=>handleRemove(file),onUpload:uploadFile,showProgress,truncateFileName}),requirements=description&&react.createElement(UploadRequirements,null,description);return showListOnly?list:"medium"===size?react.createElement(react.Fragment,null,react.createElement(Space.$,{align:"normal",direction:"vertical",gap:16,justify:"start"},react.createElement(Space.$,{gap:10,justify:"start",wrap:"nowrap"},react.createElement(UploadIcon,{invalid:hasCriticalErrors(errors,errorsForNewFiles)}),react.createElement("div",null,react.createElement(DragAndDropMessage,{disabled,fileList,hasErrors:errors.length>0,maxCount,onOpenFileDialog:()=>getRcUploaderApi().openFileDialog()}),validation))),total,list,requirements):react.createElement(react.Fragment,null,react.createElement(Space.$,{gap:8,justify:"space-between"},react.createElement(Button.$,{disabled:disabled||!!maxCount&&fileList.length>=maxCount||errors.length>0,iconBefore:react.createElement(Upload.A,{key:"upload-icon"}),mode:"secondary",onClick:()=>getRcUploaderApi().openFileDialog()},t("uploader.actions.upload")),total),validation,list,requirements)}const rcUploadProps={...props,beforeUpload,hasControlInside:!0,multiple:void 0===maxCount||maxCount>1,onBatchStart,onChange:void 0,onError,onProgress,onSuccess,openFileDialogOnClick:!1,prefixCls:"hexa-upload"};return"medium"===size?react.createElement(DragContainerWrapper,Uploader_extends({},testAttributes,{$dragOver:"dragover"===dragState,$invalid:hasCriticalErrors(errors,errorsForNewFiles),$fullHeight:fullHeight,$maxCountReached:maxCountReached,$minimize:showListOnly,$size:size,className:classnames_default()(className,"hexa-upload hexa-upload-drag"),disabled,onDrop:onFileDrop,onDragOver:onFileDrop,onDragLeave:onFileDrop,style}),react.createElement(es.A,Uploader_extends({},rcUploadProps,{ref:uploadRef}),react.createElement("div",{className:"hexa-upload-drag-container"},renderContent()))):react.createElement(SelectContainerWrapper,Uploader_extends({},testAttributes,{className:classnames_default()(className,"hexa-upload hexa-upload-select"),disabled,style}),react.createElement(es.A,Uploader_extends({},rcUploadProps,{ref:uploadRef}),react.createElement("div",{className:"hexa-upload-select-container"},renderContent())))}));Uploader.defaultProps={size:"medium",truncateFileName:!0},Uploader.displayName="Uploader";const LIST_IGNORE=`__LIST_IGNORE_${Date.now()}__`;Uploader.__docgenInfo={description:"",methods:[{name:"upload",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Uploader",props:{className:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},description:{required:!1,tsType:{name:"ReactNode"},description:""},fileList:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n  error?: any,\n  lastModified?: number,\n  name: string,\n  originFileObj?: RcFile,\n  percent?: number,\n  response?: T,\n  size: number,\n  status?: 'error' | 'success' | 'done' | 'uploading' | 'removed',\n  uid: string,\n  url?: string,\n  xhr?: T\n}",signature:{properties:[{key:"error",value:{name:"any",required:!1}},{key:"lastModified",value:{name:"number",required:!1}},{key:"name",value:{name:"string",required:!0}},{key:"originFileObj",value:{name:"RcFile",required:!1}},{key:"percent",value:{name:"number",required:!1}},{key:"response",value:{name:"T",required:!1}},{key:"size",value:{name:"number",required:!0}},{key:"status",value:{name:"union",raw:"'error' | 'success' | 'done' | 'uploading' | 'removed'",elements:[{name:"literal",value:"'error'"},{name:"literal",value:"'success'"},{name:"literal",value:"'done'"},{name:"literal",value:"'uploading'"},{name:"literal",value:"'removed'"}],required:!1}},{key:"uid",value:{name:"string",required:!0}},{key:"url",value:{name:"string",required:!1}},{key:"xhr",value:{name:"T",required:!1}}]}}],raw:"UploadFile[]"},description:""},fullHeight:{required:!1,tsType:{name:"boolean"},description:"Expand the drag and drop container vertically as much as possible. Only for `medium` size"},manual:{required:!1,tsType:{name:"boolean"},description:"Do not upload automatically"},maxCount:{required:!1,tsType:{name:"number"},description:"Max number of files that can be uploaded"},maxFileSize:{required:!1,tsType:{name:"number"},description:"Max size of a single file (Kilobyte)"},maxTotalSize:{required:!1,tsType:{name:"number"},description:"Max size of all files (Kilobyte)"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(info: UploadChangeParam) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{\n  file: UploadFile,\n  fileList: UploadFile[],\n  event?: {\n      percent: number\n  }\n}",signature:{properties:[{key:"file",value:{name:"signature",type:"object",raw:"{\n  error?: any,\n  lastModified?: number,\n  name: string,\n  originFileObj?: RcFile,\n  percent?: number,\n  response?: T,\n  size: number,\n  status?: 'error' | 'success' | 'done' | 'uploading' | 'removed',\n  uid: string,\n  url?: string,\n  xhr?: T\n}",signature:{properties:[{key:"error",value:{name:"any",required:!1}},{key:"lastModified",value:{name:"number",required:!1}},{key:"name",value:{name:"string",required:!0}},{key:"originFileObj",value:{name:"RcFile",required:!1}},{key:"percent",value:{name:"number",required:!1}},{key:"response",value:{name:"T",required:!1}},{key:"size",value:{name:"number",required:!0}},{key:"status",value:{name:"union",raw:"'error' | 'success' | 'done' | 'uploading' | 'removed'",elements:[{name:"literal",value:"'error'"},{name:"literal",value:"'success'"},{name:"literal",value:"'done'"},{name:"literal",value:"'uploading'"},{name:"literal",value:"'removed'"}],required:!1}},{key:"uid",value:{name:"string",required:!0}},{key:"url",value:{name:"string",required:!1}},{key:"xhr",value:{name:"T",required:!1}}]},required:!0}},{key:"fileList",value:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n  error?: any,\n  lastModified?: number,\n  name: string,\n  originFileObj?: RcFile,\n  percent?: number,\n  response?: T,\n  size: number,\n  status?: 'error' | 'success' | 'done' | 'uploading' | 'removed',\n  uid: string,\n  url?: string,\n  xhr?: T\n}",signature:{properties:[{key:"error",value:{name:"any",required:!1}},{key:"lastModified",value:{name:"number",required:!1}},{key:"name",value:{name:"string",required:!0}},{key:"originFileObj",value:{name:"RcFile",required:!1}},{key:"percent",value:{name:"number",required:!1}},{key:"response",value:{name:"T",required:!1}},{key:"size",value:{name:"number",required:!0}},{key:"status",value:{name:"union",raw:"'error' | 'success' | 'done' | 'uploading' | 'removed'",elements:[{name:"literal",value:"'error'"},{name:"literal",value:"'success'"},{name:"literal",value:"'done'"},{name:"literal",value:"'uploading'"},{name:"literal",value:"'removed'"}],required:!1}},{key:"uid",value:{name:"string",required:!0}},{key:"url",value:{name:"string",required:!1}},{key:"xhr",value:{name:"T",required:!1}}]},required:!0}],raw:"UploadFile[]",required:!0}},{key:"event",value:{name:"signature",type:"object",raw:"{\n    percent: number\n}",signature:{properties:[{key:"percent",value:{name:"number",required:!0}}]},required:!1}}]}},name:"info"}],return:{name:"void"}}},description:""},onDownload:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: UploadFile) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{\n  error?: any,\n  lastModified?: number,\n  name: string,\n  originFileObj?: RcFile,\n  percent?: number,\n  response?: T,\n  size: number,\n  status?: 'error' | 'success' | 'done' | 'uploading' | 'removed',\n  uid: string,\n  url?: string,\n  xhr?: T\n}",signature:{properties:[{key:"error",value:{name:"any",required:!1}},{key:"lastModified",value:{name:"number",required:!1}},{key:"name",value:{name:"string",required:!0}},{key:"originFileObj",value:{name:"RcFile",required:!1}},{key:"percent",value:{name:"number",required:!1}},{key:"response",value:{name:"T",required:!1}},{key:"size",value:{name:"number",required:!0}},{key:"status",value:{name:"union",raw:"'error' | 'success' | 'done' | 'uploading' | 'removed'",elements:[{name:"literal",value:"'error'"},{name:"literal",value:"'success'"},{name:"literal",value:"'done'"},{name:"literal",value:"'uploading'"},{name:"literal",value:"'removed'"}],required:!1}},{key:"uid",value:{name:"string",required:!0}},{key:"url",value:{name:"string",required:!1}},{key:"xhr",value:{name:"T",required:!1}}]}},name:"file"}],return:{name:"void"}}},description:""},onDownloadAll:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: UploadFile) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{\n  error?: any,\n  lastModified?: number,\n  name: string,\n  originFileObj?: RcFile,\n  percent?: number,\n  response?: T,\n  size: number,\n  status?: 'error' | 'success' | 'done' | 'uploading' | 'removed',\n  uid: string,\n  url?: string,\n  xhr?: T\n}",signature:{properties:[{key:"error",value:{name:"any",required:!1}},{key:"lastModified",value:{name:"number",required:!1}},{key:"name",value:{name:"string",required:!0}},{key:"originFileObj",value:{name:"RcFile",required:!1}},{key:"percent",value:{name:"number",required:!1}},{key:"response",value:{name:"T",required:!1}},{key:"size",value:{name:"number",required:!0}},{key:"status",value:{name:"union",raw:"'error' | 'success' | 'done' | 'uploading' | 'removed'",elements:[{name:"literal",value:"'error'"},{name:"literal",value:"'success'"},{name:"literal",value:"'done'"},{name:"literal",value:"'uploading'"},{name:"literal",value:"'removed'"}],required:!1}},{key:"uid",value:{name:"string",required:!0}},{key:"url",value:{name:"string",required:!1}},{key:"xhr",value:{name:"T",required:!1}}]}},name:"file"}],return:{name:"void"}}},description:""},showProgress:{required:!1,tsType:{name:"boolean"},description:"Should show progress of uploading files"},size:{required:!1,tsType:{name:"union",raw:"'small' | 'medium'",elements:[{name:"literal",value:"'small'"},{name:"literal",value:"'medium'"}]},description:"",defaultValue:{value:"'medium'",computed:!1}},style:{required:!1,tsType:{name:"CSSProperties"},description:""},theme:{required:!1,tsType:{name:"Theme"},description:""},truncateFileName:{required:!1,tsType:{name:"boolean"},description:"Shorten a long file name with ellipses if it doesn't fit on one line",defaultValue:{value:"true",computed:!1}}}}},"./src/upload/utils/convertFileSize.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{B:()=>convertFileSize});const convertFileSize=sizeInBytes=>{const units=["B","KB","MB","GB","TB","PB"];let result=sizeInBytes,level=0;for(;result>1024&&level<units.length-1;)level+=1,result/=1024;const sizeWithDecimal=result.toFixed(2),sizeWithoutDecimal=result.toFixed(0);return`${0===+sizeWithDecimal-Math.floor(+sizeWithDecimal)?sizeWithoutDecimal:sizeWithDecimal} ${units[level]}`}}}]);