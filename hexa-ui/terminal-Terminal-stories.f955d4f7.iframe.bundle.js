"use strict";(self.webpackChunk_kaspersky_hexa_ui=self.webpackChunk_kaspersky_hexa_ui||[]).push([[1052],{"./.storybook/StoryComponents.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{$h:()=>StoryWrapper,A7:()=>StoryComponentContainer,EF:()=>StoryLabel,N9:()=>renderVariants,eY:()=>StoryColumn});var _src_divider__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/divider/Divider.tsx"),_src_form_label__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/form-label/FormLabel.tsx"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const StoryBlock=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js").Ay.div.withConfig({displayName:"StoryComponents__StoryBlock",componentId:"sc-1pjfiib-0"})(["",""],(({verticalGap,horizontalGap,verticalWidth,horizontalWidth,vertical,justifyContent})=>`\n    display: flex;\n    gap: ${horizontalGap}px;\n    width: ${horizontalWidth};\n    justify-content: ${justifyContent};\n\n    ${vertical&&`\n      gap: ${verticalGap}px;\n      width: ${verticalWidth};\n      justify-content: start;\n      align-items: flex-start;\n      flex-direction: column;\n    `}\n  `)),StoryColumn=props=>react__WEBPACK_IMPORTED_MODULE_2__.createElement(StoryBlock,_extends({vertical:!0,verticalGap:16},props)),StoryWrapper=props=>react__WEBPACK_IMPORTED_MODULE_2__.createElement(StoryBlock,_extends({vertical:props.vertical,horizontalGap:24,verticalGap:32},props)),StoryComponentContainer=props=>react__WEBPACK_IMPORTED_MODULE_2__.createElement(StoryBlock,_extends({vertical:props.vertical,horizontalGap:24,verticalGap:16},props)),StoryLabel=props=>react__WEBPACK_IMPORTED_MODULE_2__.createElement(StoryBlock,{vertical:props.vertical,horizontalGap:16,verticalGap:8,verticalWidth:"100%",horizontalWidth:props.horizontalWidth||"100px",justifyContent:"end"},react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_form_label__WEBPACK_IMPORTED_MODULE_1__.l,{mode:"secondary",style:{alignSelf:"center"}},props.label),react__WEBPACK_IMPORTED_MODULE_2__.createElement(_src_divider__WEBPACK_IMPORTED_MODULE_0__.c,{direction:null!=props&&props.vertical?"horizontal":"vertical"}));function renderVariants(variants,vertical,labelSize="small"){return vertical?react__WEBPACK_IMPORTED_MODULE_2__.createElement(StoryWrapper,{vertical:!0,horizontalWidth:"100%"},variants.map((variant=>react__WEBPACK_IMPORTED_MODULE_2__.createElement(StoryComponentContainer,{key:variant.label,horizontalWidth:"100%"},react__WEBPACK_IMPORTED_MODULE_2__.createElement(StoryLabel,{label:variant.label,horizontalWidth:"medium"===labelSize?"160px":"100px"}),variant.content)))):react__WEBPACK_IMPORTED_MODULE_2__.createElement(StoryWrapper,null,variants.map((variant=>react__WEBPACK_IMPORTED_MODULE_2__.createElement(StoryComponentContainer,{key:variant.label,vertical:!0},react__WEBPACK_IMPORTED_MODULE_2__.createElement(StoryLabel,{label:variant.label,vertical:!0,horizontalWidth:"medium"===labelSize?"160px":"100px"}),variant.content))))}StoryColumn.__docgenInfo={description:"",methods:[],displayName:"StoryColumn",props:{style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},vertical:{required:!1,tsType:{name:"boolean"},description:""},horizontalWidth:{required:!1,tsType:{name:"string"},description:""}}},StoryWrapper.__docgenInfo={description:"",methods:[],displayName:"StoryWrapper",props:{style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},vertical:{required:!1,tsType:{name:"boolean"},description:""},horizontalWidth:{required:!1,tsType:{name:"string"},description:""}}},StoryComponentContainer.__docgenInfo={description:"",methods:[],displayName:"StoryComponentContainer",props:{style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},vertical:{required:!1,tsType:{name:"boolean"},description:""},horizontalWidth:{required:!1,tsType:{name:"string"},description:""}}},StoryLabel.__docgenInfo={description:"",methods:[],displayName:"StoryLabel",props:{style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},vertical:{required:!1,tsType:{name:"boolean"},description:""},horizontalWidth:{required:!1,tsType:{name:"string"},description:""},label:{required:!0,tsType:{name:"string"},description:""}}},renderVariants.__docgenInfo={description:"",methods:[],displayName:"renderVariants"}},"./.storybook/components/Meta/withMeta.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{C:()=>withMeta});var Link=__webpack_require__("./src/link/Link.tsx"),Space=__webpack_require__("./src/space/Space.tsx"),Typography=__webpack_require__("./src/typography/Typography.tsx"),react=__webpack_require__("./node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),Grid=__webpack_require__("./src/grid/Grid.tsx"),GridItem=__webpack_require__("./src/grid/GridItem.tsx"),js=__webpack_require__("./node_modules/@kaspersky/hexa-ui-core/esm/colors/js/index.js"),StatusOkOutline=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/24/StatusOkOutline.js"),StatusNoThreadOutline=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/24/StatusNoThreadOutline.js");const metaDod={designTokens:"Design tokens",useThemedHook:"Theme hook",unitTests:"Unit tests",screenshotTests:"Screenshot tests",migration:"Migration",apiTable:"API",storybook:"Storybook",pixsoView:"Pixso"},MetaDod=({list})=>{const metaDodKeys=(0,react.useMemo)((()=>Object.keys(metaDod)),[]);return react.createElement(Grid.x,{layout:{cols:["repeat(2, 240px)"]}},metaDodKeys.map((key=>react.createElement(GridItem.E,{key},react.createElement(Space.$,{size:8},list[key]?react.createElement(StatusOkOutline.A,{color:js.CE.icon.status.statusgrass.light}):react.createElement(StatusNoThreadOutline.A,{color:js.CE.icon.status.statusneutral.light}),react.createElement(Typography.E,null,metaDod[key]))))))};MetaDod.__docgenInfo={description:"",methods:[],displayName:"MetaDod",props:{list:{required:!0,tsType:{name:"Partial",elements:[{name:"Record",elements:[{name:"union",raw:"keyof typeof metaDod",elements:[{name:"literal",value:"designTokens"},{name:"literal",value:"useThemedHook"},{name:"literal",value:"unitTests"},{name:"literal",value:"screenshotTests"},{name:"literal",value:"migration"},{name:"literal",value:"apiTable"},{name:"literal",value:"storybook"},{name:"literal",value:"pixsoView"}]},{name:"boolean"}],raw:"Record<keyof typeof metaDod, boolean>"}],raw:"Partial<Record<keyof typeof metaDod, boolean>>"},description:""}}};const StyledHeading=(0,styled_components_browser_esm.Ay)(Typography.D).withConfig({displayName:"withMeta__StyledHeading",componentId:"sc-1xyrw4j-0"})(["border:none !important;padding:0 !important;margin:0 !important;"]),StyledLink=(0,styled_components_browser_esm.Ay)(Link.N).withConfig({displayName:"withMeta__StyledLink",componentId:"sc-1xyrw4j-1"})(["height:20px !important;> span{font-family:inherit !important;font-size:inherit !important;}"]);function withMeta(list,Component){return props=>react.createElement(Space.$,{gap:32,direction:"vertical",align:"start"},react.createElement(Space.$,{gap:16,direction:"vertical",align:"start"},react.createElement(StyledHeading,{type:"H2"},null==list?void 0:list.component),((null==list?void 0:list.pixsoView)||(null==list?void 0:list.designLink))&&react.createElement(Space.$,{gap:16},(null==list?void 0:list.pixsoView)&&react.createElement(StyledLink,{href:list.pixsoView,target:"_blank",decoration:"icon",size:"medium"},"Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð² Pixso"),(null==list?void 0:list.designLink)&&react.createElement(StyledLink,{href:list.designLink,target:"_blank",decoration:"icon",size:"medium"},"ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚ Ð² Pixso"))),react.createElement(Space.$,{gap:16,direction:"vertical",align:"start"},react.createElement(Typography.D,{type:"H4"},"ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ"),react.createElement(Typography.E,null,(null==list?void 0:list.usage)||"-")),react.createElement(Space.$,{gap:16,direction:"vertical",align:"start"},react.createElement(Typography.D,{type:"H4"},"Ð¢ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¾ÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸"),react.createElement(Typography.E,null,(null==list?void 0:list.description)||"-")),(null==list?void 0:list.dod)&&react.createElement(MetaDod,{list:list.dod}),Component&&react.createElement(Component,props))}},"./.storybook/helpers.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Ac:()=>sbSetDefaultValue,Of:()=>sbHideControls,RV:()=>sbMergeActions,zf:()=>sbFixArrayArgs});const sbSetDefaultValue=text=>({table:{defaultValue:{summary:text}}}),sbHideControls=controls=>controls.reduce(((acc,control)=>(acc[control]={control:!1},acc)),{});function sbFixArrayArgs(args,arrayKeys){const out={...args};for(const key of arrayKeys)Array.isArray(out[key])||delete out[key];return out}function sbMergeActions(args,actions){const out={...args};for(const key in actions){const addonAction=out[key],action=actions[key];out[key]=(...args2)=>{null==addonAction||addonAction(...args2),action(...args2)}}return out}},"./src/divider/Divider.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{c:()=>Divider});var useTestAttribute=__webpack_require__("./helpers/hooks/useTestAttribute.ts"),react=__webpack_require__("./node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");const fromProps=(0,__webpack_require__("./helpers/getFromProps.ts").P)(),dividerCss=(0,styled_components_browser_esm.AH)(["padding:0;display:flex;background:",";",""],fromProps("color"),(({direction})=>"horizontal"===direction?(0,styled_components_browser_esm.AH)(["margin-top:0;margin-bottom:0;width:100%;height:1px;"]):(0,styled_components_browser_esm.AH)(["margin-left:0;margin-right:0;width:1px;"])));var useThemedComponent=__webpack_require__("./helpers/useThemedComponent.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const StyledDivider=styled_components_browser_esm.Ay.div.withConfig({shouldForwardProp:prop=>!["cssConfig","direction"].includes(prop)}).withConfig({displayName:"Divider__StyledDivider",componentId:"sc-1h4urf-0"})(["",""],dividerCss),Divider=rawProps=>{const themedProps=(props=>(0,useThemedComponent.K)(props,{componentName:"divider",defaultValues:{mode:"bold"}}))(rawProps),props=(0,useTestAttribute.aG)(themedProps);return react.createElement(DividerView,props)},DividerView=({testAttributes,cssConfig,direction="horizontal",...rest})=>react.createElement(StyledDivider,_extends({direction,cssConfig},testAttributes,rest));Divider.__docgenInfo={description:"",methods:[],displayName:"Divider",props:{theme:{required:!1,tsType:{name:"Theme"},description:"Custom theme"},className:{required:!1,tsType:{name:"string"},description:"Custom class name"},direction:{required:!1,tsType:{name:"union",raw:"'horizontal' | 'vertical'",elements:[{name:"literal",value:"'horizontal'"},{name:"literal",value:"'vertical'"}]},description:"Direction"},mode:{required:!1,tsType:{name:"union",raw:"'bold' | 'light' | 'onLightStatic' | 'inverted'",elements:[{name:"literal",value:"'bold'"},{name:"literal",value:"'light'"},{name:"literal",value:"'onLightStatic'"},{name:"literal",value:"'inverted'"}]},description:"Color mode"}}}},"./src/grid/Grid.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{x:()=>Grid});var useTestAttribute=__webpack_require__("./helpers/hooks/useTestAttribute.ts"),react=__webpack_require__("./node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),gridCss=__webpack_require__("./src/grid/gridCss.ts"),GridItem=__webpack_require__("./src/grid/GridItem.tsx"),getGapStyle=__webpack_require__("./helpers/getGapStyle.ts");const layoutBaseCss=(0,styled_components_browser_esm.AH)(["display:grid;gap:",";row-gap:",";column-gap:",";align-items:",";justify-items:",";"],(({gap})=>(0,getGapStyle.e)(gap)),(({rowGap})=>(0,getGapStyle.e)(rowGap)),(({columnGap})=>(0,getGapStyle.e)(columnGap)),(({alignItems=""})=>alignItems),(({justifyItems=""})=>justifyItems)),singleRowLayoutCss=(0,styled_components_browser_esm.AH)(["grid-auto-columns:min-content;grid-auto-flow:column;"]),twoColumnsLayoutCss=(0,styled_components_browser_esm.AH)(['grid-template-columns:0.5fr 1fr;grid-template-areas:"left right";']),defaultLayoutCss=(0,styled_components_browser_esm.AH)(["grid-template-columns:repeat(12,1fr);"]),LayoutBase=styled_components_browser_esm.Ay.div.withConfig({shouldForwardProp:prop=>["className","data-testid","kl-id","children","data-component-version"].includes(prop)}).withConfig({displayName:"layouts__LayoutBase",componentId:"sc-x0fr0a-0"})(["",""],layoutBaseCss);(0,styled_components_browser_esm.Ay)(LayoutBase).withConfig({displayName:"layouts__SingleRowLayout",componentId:"sc-x0fr0a-1"})(["",""],singleRowLayoutCss),(0,styled_components_browser_esm.Ay)(LayoutBase).withConfig({displayName:"layouts__TwoColumnsLayout",componentId:"sc-x0fr0a-2"})(["",""],twoColumnsLayoutCss),(0,styled_components_browser_esm.Ay)(LayoutBase).withConfig({displayName:"layouts__DefaultLayout",componentId:"sc-x0fr0a-3"})(["",""],defaultLayoutCss);function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const StyledGrid=(0,styled_components_browser_esm.Ay)(LayoutBase).withConfig({displayName:"Grid__StyledGrid",componentId:"sc-287glv-0"})(["",""],gridCss.i),Grid=props=>{var _layout$cols,_layoutProperty$gap;const{children,cols,layout,layoutProperty,testAttributes,...rest}=(0,useTestAttribute.aG)(props),gridProps={...rest,...testAttributes,alignItems:null==layoutProperty?void 0:layoutProperty.alignItems,cols:null!==(_layout$cols=null==layout?void 0:layout.cols)&&void 0!==_layout$cols?_layout$cols:[`repeat(${null!=cols?cols:12}, 1fr)`],columnGap:null==layoutProperty?void 0:layoutProperty.columnGap,gap:null!==(_layoutProperty$gap=null==layoutProperty?void 0:layoutProperty.gap)&&void 0!==_layoutProperty$gap?_layoutProperty$gap:16,justifyItems:null==layoutProperty?void 0:layoutProperty.justifyItems,rowGap:null==layoutProperty?void 0:layoutProperty.rowGap};if((0,styled_components_browser_esm.p4)(layout)){const GridContainer=layout;return react.createElement(GridContainer,gridProps,children)}return react.createElement(StyledGrid,_extends({},gridProps,{areas:null==layout?void 0:layout.areas,direction:null==layout?void 0:layout.direction,rows:null==layout?void 0:layout.rows}),children)};Grid.defaultProps={cols:12},Grid.Item=GridItem.E,Grid.__docgenInfo={description:"",methods:[],displayName:"Grid",props:{cols:{defaultValue:{value:"12",computed:!1},required:!1}}}},"./src/grid/GridItem.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{E:()=>GridItem});var styled_components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_gridCss__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/grid/gridCss.ts");const GridItem=styled_components__WEBPACK_IMPORTED_MODULE_0__.Ay.div.withConfig({shouldForwardProp:prop=>["className","data-testid","kl-id","children"].includes(prop)}).withConfig({displayName:"GridItem",componentId:"sc-hpc6x5-0"})(["",""],_gridCss__WEBPACK_IMPORTED_MODULE_1__.H)},"./src/grid/gridCss.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{H:()=>gridItemCss,i:()=>gridCss});var _design_system_theme__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./design-system/theme/themes/variables.ts"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");const GRID_PADDING=`0 ${_design_system_theme__WEBPACK_IMPORTED_MODULE_0__.m[12]}px`,gridCss=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.AH)([""," "," "," "," "," ",""],(({direction})=>direction?`grid-auto-flow: ${direction};`:""),(({cols})=>cols?`grid-template-columns: ${cols.join(" ")};`:""),(({rows})=>rows?`grid-template-rows: ${rows.join(" ")};`:""),(({areas})=>areas?`grid-template-areas: "${areas.map((a=>a.join(" "))).join('" "')}";`:""),(({withPadding})=>withPadding?`padding: ${GRID_PADDING};\n      box-sizing: content-box;`:""),(({gridType})=>{switch(gridType){case"fix":return"width: 872px;";case"sidebar":return"width: 100%;";default:return"max-width: 1592px;\n          min-width: 400px;\n          width: 100%;\n        "}})),gridItemCss=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.AH)([""," "," ",""],(({areaName})=>areaName?`grid-area: ${areaName};`:""),(({rowSpan})=>rowSpan?`grid-row: span ${rowSpan};`:""),(({span,columnSpan})=>span||columnSpan?`grid-column: span ${span||columnSpan};`:""))},"./src/terminal/Terminal.stories.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,CommonDataTransferAddon:()=>CommonDataTransferAddon,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Terminal_stories});var badges=__webpack_require__("./.storybook/badges.tsx"),withMeta=__webpack_require__("./.storybook/components/Meta/withMeta.tsx"),helpers=__webpack_require__("./.storybook/helpers.ts"),StoryComponents=__webpack_require__("./.storybook/StoryComponents.tsx"),react=__webpack_require__("./node_modules/react/index.js");const meta_namespaceObject=JSON.parse('{"dod":{"designTokens":false,"useThemedHook":true,"unitTests":false,"screenshotTests":false,"migration":false,"apiTable":false,"storybook":true},"component":"Terminal","description":"Ð”Ð»Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»Ð° Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ Ð²Ð½ÐµÑˆÐ½Ð¸Ð¹ ÑÐµÑ€Ð²ÐµÑ€ Ñ WebSockets, Ð´Ð»Ñ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÐ²Ñ‚Ð¸Ñ Ñ Ð²Ð½ÐµÑˆÐ½Ð¸Ð¼ ÑÐµÑ€Ð²ÐµÑ€Ð¾Ð¼ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ DataTransferAddon ÑƒÐ½Ð°ÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð² ÐµÐ³Ð¾ Ð¾Ñ‚ BasicDataTransferAddon Ð¸ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ Ð¼ÐµÑ‚Ð¾Ð´Ñ‹ onSocketMessage, onData, Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð¾Ð¼ ÑÐ²Ð»ÑÐµÑ‚ÑÑ: CommonDataTransferAddon (/terminal/addons)","usage":"ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚ Ñ‚Ñ€ÐµÐ¼Ð¸Ð½Ð°Ð»Ð°, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ ÑÐ²ÑÐ·Ð¸ Ñ Ð²Ð½ÐµÑˆÐ½Ð¸Ð¼ Ñ‚Ñ€ÐµÐ¼Ð¸Ð½Ð°Ð»Ð¾Ð¼ Ð¿Ð¾ WebSockets","designLink":"https://pixso.net/app/design/_JQDYkYJW0yUZVsKeoSybw?icon_type=1&page-id=169090%3A233127","pixsoView":"https://pixso.net/app/design/nGSwmukind_xLZD1EKdbJw"}');class BasicDataTransferAddon{constructor(webSocket){this._socket=webSocket,this._disposables=[],this.registerHandler(this.addSocketListener("close",(ev=>this.onSocketClose(ev)))),this.registerHandler(this.addSocketListener("open",(ev=>this.onSocketOpen(ev)))),this.registerHandler(this.addSocketListener("error",(ev=>this.onSocketError(ev)))),this.registerHandler(this.addSocketListener("message",(ev=>this.onSocketMessage(ev))))}activate(terminal){this._terminal=terminal,this.registerHandler(terminal.onData((data=>this.onData(data))))}dispose(){this._disposables.forEach((d=>d.dispose())),this._socket.close()}registerHandler=d=>(this._disposables.push(d),d);checkSocketIsOpen=()=>{switch(this._socket.readyState){case WebSocket.OPEN:return!0;case WebSocket.CONNECTING:throw new Error("[XTerm DataTransferAddon] Addon was loaded before socket was open");case WebSocket.CLOSING:return console.warn("[XTerm DataTransferAddon] Addon socket is closing"),!1;case WebSocket.CLOSED:throw new Error("[XTerm DataTransferAddon] Addon socket is closed");default:throw new Error("[XTerm DataTransferAddon] Unexpected socket state")}};onSocketOpen=ev=>{};onSocketClose=ev=>this.dispose();onSocketError=ev=>this.dispose();addSocketListener=(type,handler)=>(this._socket.addEventListener(type,handler),{dispose:()=>{handler&&this._socket.removeEventListener(type,handler)}})}var useTheme=__webpack_require__("./design-system/theme/hooks/useTheme.ts"),addon_clipboard=__webpack_require__("./node_modules/@xterm/addon-clipboard/lib/addon-clipboard.js"),addon_fit=__webpack_require__("./node_modules/@xterm/addon-fit/lib/addon-fit.js"),addon_web_links=__webpack_require__("./node_modules/@xterm/addon-web-links/lib/addon-web-links.js"),addon_webgl=__webpack_require__("./node_modules/@xterm/addon-webgl/lib/addon-webgl.js"),xterm=__webpack_require__("./node_modules/@xterm/xterm/lib/xterm.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const StyledTerminal=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js").Ay.div.withConfig({displayName:"Terminal__StyledTerminal",componentId:"sc-qudagj-0"})(["height:100%;width:100%;box-sizing:border-box;overflow:hidden;.xterm-viewport{overflow-y:auto;}"]),Terminal=({options:terminalOptions={},dataTransferAddon,customAddons,...props})=>{const terminalRef=(0,react.useRef)(null),theme=(0,useTheme.D)(),loadAddons=(0,react.useCallback)((term=>{const webLinksAddon=new addon_web_links.WebLinksAddon,clipboardAddon=new addon_clipboard.ClipboardAddon,fitAddon=new addon_fit.FitAddon;term.loadAddon(dataTransferAddon),term.loadAddon(webLinksAddon),term.loadAddon(clipboardAddon),term.loadAddon(fitAddon);const{dispose:webglDispose}=(()=>{try{const canvas=document.createElement("canvas");if(!!(!window.WebGL2RenderingContext||!canvas.getContext("webgl2")))return{dispose:()=>{}};const webglAddon=new addon_webgl.WebglAddon;return term.loadAddon(webglAddon),webglAddon.onContextLoss((()=>webglAddon.dispose()))}catch(e){return{dispose:()=>{}}}})();fitAddon.fit(),customAddons&&customAddons.forEach((addon=>term.loadAddon(addon)));const resizeObserver=new ResizeObserver((()=>fitAddon.fit()));return resizeObserver.observe(terminalRef.current),()=>{resizeObserver.disconnect(),webglDispose()}}),[customAddons,dataTransferAddon]),handleWheel=(0,react.useCallback)((e=>{var _terminalRef$current;const viewport=null===(_terminalRef$current=terminalRef.current)||void 0===_terminalRef$current?void 0:_terminalRef$current.querySelector(".xterm-viewport");viewport&&viewport.contains(e.target)&&e.stopPropagation()}),[]);return(0,react.useEffect)((()=>{if(!terminalRef.current)return;const term=new xterm.Terminal({fontFamily:'"Kaspersky Sans Mono"',fontSize:14,theme:{background:theme.colors.terminal.bg.theme.background,foreground:theme.colors.terminal.text.theme.foreground,selectionForeground:theme.colors.terminal.text.theme.selectionforeground,cursor:theme.colors.terminal.text.theme.cursor,cursorAccent:theme.colors.terminal.text.theme.cursoraccent,selectionBackground:theme.colors.terminal.bg.theme.selectionbackground,white:theme.colors.terminal.text.ansicolors.white,black:theme.colors.terminal.text.ansicolors.black,green:theme.colors.terminal.text.ansicolors.green,red:theme.colors.terminal.text.ansicolors.red,yellow:theme.colors.terminal.text.ansicolors.yellow,blue:theme.colors.terminal.text.ansicolors.blue,magenta:theme.colors.terminal.text.ansicolors.magenta,cyan:theme.colors.terminal.text.ansicolors.cyan,brightBlack:theme.colors.terminal.text.ansicolors.brightblack,brightGreen:theme.colors.terminal.text.ansicolors.brightgreen,brightRed:theme.colors.terminal.text.ansicolors.brightred,brightYellow:theme.colors.terminal.text.ansicolors.brightyellow,brightBlue:theme.colors.terminal.text.ansicolors.brightblue,brightMagenta:theme.colors.terminal.text.ansicolors.brightmagenta,brightCyan:theme.colors.terminal.text.ansicolors.brightcyan,brightWhite:theme.colors.terminal.text.ansicolors.brightwhite},...terminalOptions});term.open(terminalRef.current);const dispose=loadAddons(term);return term.focus(),window.addEventListener("wheel",handleWheel,{passive:!1}),()=>{window.removeEventListener("wheel",handleWheel),dispose(),term.dispose()}}),[terminalOptions,handleWheel,loadAddons]),react.createElement(StyledTerminal,_extends({ref:terminalRef},props))};Terminal.__docgenInfo={description:"",methods:[],displayName:"Terminal",props:{options:{required:!1,tsType:{name:"ConstructorParameters[0]",raw:"ConstructorParameters<typeof Terminal>[0]"},description:"",defaultValue:{value:"{}",computed:!1}},dataTransferAddon:{required:!0,tsType:{name:"ITerminalAddon"},description:""},customAddons:{required:!1,tsType:{name:"Array",elements:[{name:"ITerminalAddon"}],raw:"ITerminalAddon[]"},description:""}}};const Terminal_stories={title:"Hexa UI Components/Terminal",component:Terminal,argTypes:{...(0,helpers.Of)(["theme"])},args:{},decorators:[(Story,context)=>react.createElement(StoryComponents.eY,{style:{minWidth:"100px",maxWidth:"400px"}},react.createElement(Story,context))],parameters:{badges:[badges.j.stable,badges.j.missingDesign],docs:{page:(0,withMeta.C)(meta_namespaceObject)}}};class CommonDataTransferAddon extends BasicDataTransferAddon{activate(terminal){super.activate(terminal),this.registerHandler(terminal.onBinary((data=>this._onBinary(data))))}dispose(){}deactivate(){this._socket.close()}_onBinary=data=>{if(!this.checkSocketIsOpen())return;const buffer=new Uint8Array(data.length);for(let i=0;i<data.length;++i)buffer[i]=255&data.charCodeAt(i);this._socket.send(JSON.stringify({method:"input",data:buffer}))};onData=data=>{this.checkSocketIsOpen()&&this._socket.send(JSON.stringify({method:"input",data}))};onSocketMessage=ev=>{try{const message=JSON.parse(ev.data);var _this$_terminal;if("output"===message.method)null===(_this$_terminal=this._terminal)||void 0===_this$_terminal||_this$_terminal.write(message.data)}catch(e){console.error("Error parsing message:",e)}}}const mockClient=new class MockClient{_handlers={open:[],message:[],error:[],close:[]};connect(){setTimeout((()=>{this._triggerEvent("open",new Event("open")),this._sendWelcomeMessage()}),100)}_sendWelcomeMessage(){setTimeout((()=>{this._triggerMessage({method:"output",data:"[?2004hmock@dcdcdc-dcdcd-1:~$ "})}),150)}send(data){const message=JSON.parse(data);let output=message.data;"\r"===output&&(output="\r\n\ntotal 244684\r\n\ndrwxr-x--- 11 xdr  xdr         4096 Jul  8 12:36 .\r\ndrwxr-xr-x  3 root root        4096 Oct  8  2024 ..\r\ndrwxrwxr-x  3 xdr  xdr         4096 Apr 28 15:08 AST\r\ndrwxrwxr-x  2 xdr  xdr         4096 Apr  4 13:27 [01;34m.astconfig[0m\r\n-rw-------  1 xdr  xdr       119234 Jul  8 12:36 .bash_history\r\n-rw-r--r--  1 xdr  xdr          220 Mar 31  2024 .bash_logout\r\n-rw-r--r--  1 xdr  xdr         3902 Oct  8  2024 .bashrc\r\ndrwx------  5 xdr  xdr         4096 Dec 19  2024 [01;34m.cache[0m\r\ndrwx------  4 xdr  xdr         4096 Dec 12  2024 [01;34m.config[0m\r\n\n[?2004hANSI colors\r\n\n[00;30m 0030 black\r\n[00;31m 0031 red\r\n[00;32m 0032 green\r\n[00;33m 0033 yellow\r\n[00;34m 0034 blue\r\n[00;35m 0035 magenta\r\n[00;36m 0036 cyan\r\n[00;37m 0037 white\r\n[00;90m 0090 brightBlack\r\n[00;91m 0091 brightRed\r\n[00;92m 0092 brightGreen\r\n[00;93m 0093 brightYellow\r\n[00;94m 0094 brightBlue\r\n[00;95m 0095 brightMagenta\r\n[00;96m 0096 brightCyan\r\n[00;97m 0097 brightWhite\r\n"),"input"===message.method&&setTimeout((()=>{this._triggerMessage({method:"output",data:output})}),50)}close(){this._triggerEvent("close",new CloseEvent("close")),this._handlers={open:[],message:[],error:[],close:[]}}_triggerEvent(type,event){if("close"===type)return this._handlers[type].forEach((handler=>handler(event)));this._handlers[type].forEach((handler=>handler(event)))}_triggerMessage(message){const event=new MessageEvent("message",{data:JSON.stringify(message)});this._handlers.message.forEach((handler=>handler(event)))}addEventListener(type,listener){"open"===type?this._handlers.open.push(listener):"message"===type?this._handlers.message.push(listener):"error"===type?this._handlers.error.push(listener):"close"===type&&this._handlers.close.push(listener)}removeEventListener(type,listener){let handlers;if("open"===type)handlers=this._handlers.open;else if("message"===type)handlers=this._handlers.message;else if("error"===type)handlers=this._handlers.error;else{if("close"!==type)return;handlers=this._handlers.close}const index=handlers.indexOf(listener);-1!==index&&handlers.splice(index,1)}get readyState(){return WebSocket.OPEN}};mockClient.connect();const customAttachAddon=new CommonDataTransferAddon(mockClient),Basic={render:()=>react.createElement("div",{style:{width:"1232px",height:"1000px"}},react.createElement(Terminal,{dataTransferAddon:customAttachAddon}))},__namedExportsOrder=["CommonDataTransferAddon","Basic"];Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"{\n  render: () => {\n    return <div style={{\n      width: '1232px',\n      height: '1000px'\n    }}>\n        <Terminal dataTransferAddon={customAttachAddon} />\n      </div>;\n  }\n}",...Basic.parameters?.docs?.source}}}}}]);