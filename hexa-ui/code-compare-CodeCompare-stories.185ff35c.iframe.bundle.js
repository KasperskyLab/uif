"use strict";(self.webpackChunk_kaspersky_hexa_ui=self.webpackChunk_kaspersky_hexa_ui||[]).push([[1765],{"./.storybook/components/Meta/withMeta.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{C:()=>withMeta});var Link=__webpack_require__("./src/link/Link.tsx"),Space=__webpack_require__("./src/space/Space.tsx"),Typography=__webpack_require__("./src/typography/Typography.tsx"),react=__webpack_require__("./node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),Grid=__webpack_require__("./src/grid/Grid.tsx"),GridItem=__webpack_require__("./src/grid/GridItem.tsx"),js=__webpack_require__("./node_modules/@kaspersky/hexa-ui-core/esm/colors/js/index.js"),StatusOkOutline=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/24/StatusOkOutline.js"),StatusNoThreadOutline=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/24/StatusNoThreadOutline.js");const metaDod={designTokens:"Design tokens",useThemedHook:"Theme hook",unitTests:"Unit tests",screenshotTests:"Screenshot tests",migration:"Migration",apiTable:"API",storybook:"Storybook",pixsoView:"Pixso"},MetaDod=({list})=>{const metaDodKeys=(0,react.useMemo)((()=>Object.keys(metaDod)),[]);return react.createElement(Grid.x,{layout:{cols:["repeat(2, 240px)"]}},metaDodKeys.map((key=>react.createElement(GridItem.E,{key},react.createElement(Space.$,{size:8},list[key]?react.createElement(StatusOkOutline.A,{color:js.CE.icon.status.statusgrass.light}):react.createElement(StatusNoThreadOutline.A,{color:js.CE.icon.status.statusneutral.light}),react.createElement(Typography.E,null,metaDod[key]))))))};MetaDod.__docgenInfo={description:"",methods:[],displayName:"MetaDod",props:{list:{required:!0,tsType:{name:"Partial",elements:[{name:"Record",elements:[{name:"union",raw:"keyof typeof metaDod",elements:[{name:"literal",value:"designTokens"},{name:"literal",value:"useThemedHook"},{name:"literal",value:"unitTests"},{name:"literal",value:"screenshotTests"},{name:"literal",value:"migration"},{name:"literal",value:"apiTable"},{name:"literal",value:"storybook"},{name:"literal",value:"pixsoView"}]},{name:"boolean"}],raw:"Record<keyof typeof metaDod, boolean>"}],raw:"Partial<Record<keyof typeof metaDod, boolean>>"},description:""}}};const StyledHeading=(0,styled_components_browser_esm.Ay)(Typography.D).withConfig({displayName:"withMeta__StyledHeading",componentId:"sc-1xyrw4j-0"})(["border:none !important;padding:0 !important;margin:0 !important;"]),StyledLink=(0,styled_components_browser_esm.Ay)(Link.N).withConfig({displayName:"withMeta__StyledLink",componentId:"sc-1xyrw4j-1"})(["height:20px !important;> span{font-family:inherit !important;font-size:inherit !important;}"]);function withMeta(list,Component){return props=>react.createElement(Space.$,{gap:32,direction:"vertical",align:"start"},react.createElement(Space.$,{gap:16,direction:"vertical",align:"start"},react.createElement(StyledHeading,{type:"H2"},null==list?void 0:list.component),((null==list?void 0:list.pixsoView)||(null==list?void 0:list.designLink))&&react.createElement(Space.$,{gap:16},(null==list?void 0:list.pixsoView)&&react.createElement(StyledLink,{href:list.pixsoView,target:"_blank",decoration:"icon",size:"medium"},"Документация в Pixso"),(null==list?void 0:list.designLink)&&react.createElement(StyledLink,{href:list.designLink,target:"_blank",decoration:"icon",size:"medium"},"Компонент в Pixso"))),react.createElement(Space.$,{gap:16,direction:"vertical",align:"start"},react.createElement(Typography.D,{type:"H4"},"Назначение"),react.createElement(Typography.E,null,(null==list?void 0:list.usage)||"-")),react.createElement(Space.$,{gap:16,direction:"vertical",align:"start"},react.createElement(Typography.D,{type:"H4"},"Технические особенности"),react.createElement(Typography.E,null,(null==list?void 0:list.description)||"-")),(null==list?void 0:list.dod)&&react.createElement(MetaDod,{list:list.dod}),Component&&react.createElement(Component,props))}},"./.storybook/components/designControls/withDesignControls.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{r:()=>withDesignControls});const shared={children:{description:"React children"},disabled:{description:"Недоступное состояние"},loading:{description:"Состояние загрузки"},mode:{description:"Цветовой режим"},size:{description:"Размер"},actions:{description:"Набор действий"},tooltip:{description:"Тултип"}},designControlsConfig={accordion:{accordion:{description:"Открытие одного или нескольких аккордеонов одновременно"},withBorder:{description:"Отображать компонент с рамкой"},titleSize:{description:"Размер заголовка"},title:{description:"Заголовок"},disabled:shared.disabled,tagBeforeLabel:{description:"Текст тега до заголовка (не является пропом аккордеона)"},tagBeforeMode:{description:"Цветовой режим тега до заголовка (не является пропом аккордеона)"},additionalText:{description:"Дополнительный текст"},indicatorMode:{description:"Цветовой режим индикатора (не является пропом аккордеона)"},tagAfterLabel:{description:"Текст тега после заголовка (не является пропом аккордеона)"},tagAfterMode:{description:"Цветовой режим тега после заголовка (не является пропом аккордеона)"},shouldDisableActions:{description:"Следует заблокировать действия, когда панель аккордеона находится в недоступном состоянии"}},alert:{mode:shared.mode,actions:shared.actions,closable:{description:"Показать/скрыть возможность удаления элемента"},children:shared.children,width:{description:"Ширина в пикселях"}},badge:{mode:shared.mode,size:{control:!1,description:"Все возможные комбинации размеров и модов можно посмотреть в сторе `Size`"},count:{description:"Отображаемое число"},overflowCount:{description:"Максимальное значение, которое может отображаться"},text:{description:"Текст вместо числа"},tooltip:shared.tooltip},button:{mode:shared.mode,size:shared.size,disabled:shared.disabled,loading:shared.loading,iconBefore:{description:"Иконка до текста"},text:{description:"Текст"},iconAfter:{description:"Иконка после текста"},dropdownPlacement:{description:"Расположение выпадающего списка"},tooltip:shared.tooltip},codeCompare:{oldValue:{description:"Исходный код"},newValue:{description:"Сравниваемый код"},loading:shared.loading},dropdown:{disabled:shared.disabled,loading:shared.loading,placement:{description:"Расположение выпадающего списка"}},horizontalNav:{},loadingOverlay:{description:{description:"Подсказка"},size:shared.size},lockGroup:{title:{description:"Заголовок"},titleLevel:{description:"Размер заголовка"},statusText:{description:"Текст статуса"},informationText:{description:"Дополнительная информация в поповере infoButton"},isLockDisabled:{description:"Доступное или недоступное состояние toggle"},isGroupDisabled:{description:"Доступное или недоступное состояние контента"}},menu:{width:{description:"Ширина меню в исходном состоянии"},collapsedWidth:{description:"Ширина меню в свернутом состоянии"},applyAppTheme:{description:"Если FALSE, то меню всегда темное независимо от текущей темы"},navItems:{description:"Массив элементов меню"},navUserItems:{description:"Массив элементов меню пользователя (нижняя секция меню)"},favItems:{description:"Массив закрепленных элементов меню"},submenuItems:{description:"Массив элементов Submenu"},showLogo:{description:"Меню без Логотипа"}},pageHeader:{title:{description:"Заголовок страницы"},description:{description:"Описание страницы"},breadcrumbs:{description:"Хлебные крошки",control:{type:"boolean"}},iconBefore:{description:"Иконка перед заголовком",control:{type:"select"},options:["No iconBefore","Placeholder","Settings"]},tagsAfter:{description:"Теги после заголовка",control:{type:"boolean"},defaultValue:!0},elementAfter:{description:"Слот для кастомного контента",control:{type:"select"},options:["No elementAfter","Icon","Tag","Textbox","Button"]}},panel:{resizeHandle:{description:"Позиция линии-контрола изменения ширины панели"},title:{description:"Текст заголовка"},titleSize:{description:"Размер заголовка"},closable:{description:"Возможность закрыть панель"},resizable:{description:"Возможность ресайзить панель"},initialSize:{description:"Изначальный размер панели"},elementAfter:{description:"ReactNode после заголовка"},sectionBottom:{description:"ReactNode в нижней части панели"},padding:{description:"Возможность изменить padding панели"}},placeholder:{mode:shared.mode,size:shared.size,image:{description:"Вариант изображения"},title:{description:"Текст заголовка"},description:{description:"Описание"},textAlign:{description:"Выравнивание текста"},actionButtons:shared.actions,actionLinks:shared.actions},quickFilter:{filters:{description:"Массив фильтров",control:!1},disabled:shared.disabled,labelPosition:{description:"Расположение лейбла"}},skeleton:{size:shared.size,flexWidth:{description:"Делает Skeleton адаптивным по ширине, сохраняя фиксированную высоту"}},space:{align:{description:"Задаёт выравнивание элементов"},direction:{description:"Направление расположения элементов внутри"},gap:{description:"Размер отступа между элементами\n\nclosest — 2px, dependent — 4px, related — 8px, grouped — 16px, section — 24px, separated — 32px"},maxWidth:{description:"Максимальная ширина контейнера\n\nnone — без ограничений, medium — 872px, large — 1592px"},width:{description:"Управляет шириной контейнера"},wrap:{description:"Определяет, могут ли элементы переноситься на новую строку/колонку при нехватке места"}},statusCard:{mode:shared.mode,size:shared.size,image:{description:"Включить/выключить изображение"},title:{description:"Текст заголовка"},description:{description:"Текст карточки (может содержать ссылки)"},actions:shared.actions,iconVariant:{description:"Выбор вида иконки"},children:shared.children,width:{description:"Ширина в пикселях"}},toggle:{tooltip:{description:"Тултип компонента"},compositionTooltip:{description:"Тултип для композиции"}},toggleButton:{text:{description:"Текст на кнопке"},size:shared.size,mode:shared.mode,elementAfter:{description:"Иконка/элемент перед текстом"},iconBefore:{description:"Иконка/элемент после текста"},disabled:shared.disabled,loading:shared.loading,tooltip:shared.tooltip},uploader:{size:shared.size,description:{description:"Дополнительный текст"},disabled:shared.disabled,maxCount:{description:"Максимальное количество загружаемых файлов"},maxFileSize:{description:"Максимальный размер одного файла (Килобайт)"},maxTotalSize:{description:"Максимальный общий размер всех файлов (Килобайт)"}},uploaderFileItem:{name:{description:"Имя файла"},truncateName:{description:"Обрезать длинное имя файла"},status:{description:"Статус загрузки файла"},error:{description:"Текст сообщения"},disabled:shared.disabled},wizard:{steps:{description:"Шаги визарда"},lastItem:{description:"Включить признак последнего шага"}},topNavigation:{title:{description:"Название продукта"},notificationIndicator:{description:"Красный индикатор непрочитанных уведомлений"},notificationButtonProps:{description:"При наличии объекта отображает кнопку нотификаций",control:{type:"boolean"}}},licenseCard:{title:{description:"Название лицензии"},number:{description:"Номер лицензии"},expirationDate:{description:"Дата окончания лицензии"},daysRemaining:{description:"Оставшиеся дни лицензии"},activationDate:{description:"Дата активации лицензии"},term:{description:"Срок действия лицензии"},iconBefore:{description:"Иконка перед название"},elementAfter:{description:"Элемент после название (виден только в компактном режиме)"},compact:{description:"Режим компактного отображения",control:{type:"boolean"}},minWidth:{description:"минимальная ширина"},actions:shared.actions}};var merge=__webpack_require__("./node_modules/lodash/merge.js"),merge_default=__webpack_require__.n(merge);function withDesignControls({componentName,meta,designArgs={}}){var _meta$parameters2;if("true"===localStorage.getItem("showDesignControls")){var _meta$parameters;const designControls=designControlsConfig[componentName],keys=Object.keys(designControls);return{...meta,argTypes:merge_default()(meta.argTypes||{},designControls),args:sortObjectByKeyOrder(keys,merge_default()(meta.args||{},designArgs)),parameters:{...meta.parameters,controls:{...null===(_meta$parameters=meta.parameters)||void 0===_meta$parameters?void 0:_meta$parameters.controls,include:keys,sort:"none"}}}}return{...meta,parameters:{...meta.parameters,controls:{...null===(_meta$parameters2=meta.parameters)||void 0===_meta$parameters2?void 0:_meta$parameters2.controls,sort:"alpha"}}}}function sortObjectByKeyOrder(order,obj){const otherKeys=Object.keys(obj).filter((x=>!order.includes(x))),out={};for(const key of[...order,...otherKeys])out[key]=obj[key];return out}},"./helpers/hooks/useGlobalStyles.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{F:()=>useGlobalStyles});var react=__webpack_require__("./node_modules/react/index.js");function useGlobalStyles(){(0,react.useEffect)((()=>{try{if(!document.querySelector("head > style.hexa-ui-dynamic-styles")){const styleEl=document.createElement("style");styleEl.className="hexa-ui-dynamic-styles",styleEl.textContent='\n    .ant-select[data-component-version="v6"] input[type="search"],\n    .ant-picker[data-component-version="v6"] input[type="search"],\n    .ant-input[data-component-version="v6"].kl-v6-textarea,\n    .ant-input-number [data-component-version="v6"].ant-input-number-input-wrap {\n      height: inherit;\n    }\n\n    .ant-input-number input[data-component-version="v6"]:focus,\n    .ant-input-number input[data-component-version="v6"][type="search"]:focus,\n    .ant-input-number input[data-component-version="v6"][type="datetime-local"]:focus,\n    .ant-input-number input[data-component-version="v6"][type="email"]:focus,\n    .ant-input-number input[data-component-version="v6"][type="file"]:focus,\n    .ant-input-number input[data-component-version="v6"][type="number"]:focus,\n    .ant-input-number input[data-component-version="v6"][type="password"]:focus,\n    .ant-input-number input[data-component-version="v6"][type="tel"]:focus,\n    .ant-input-number input[data-component-version="v6"][type="text"]:focus,\n    .ant-input-number input[data-component-version="v6"][type="time"]:focus,\n    .ant-input-number input[data-component-version="v6"][type="url"]:focus,\n    .ant-select[data-component-version="v6"] input:focus,\n    .ant-select[data-component-version="v6"] input[type="search"]:focus,\n    .ant-select[data-component-version="v6"] input[type="datetime-local"]:focus,\n    .ant-select[data-component-version="v6"] input[type="email"]:focus,\n    .ant-select[data-component-version="v6"] input[type="file"]:focus,\n    .ant-select[data-component-version="v6"] input[type="number"]:focus,\n    .ant-select[data-component-version="v6"] input[type="password"]:focus,\n    .ant-select[data-component-version="v6"] input[type="tel"]:focus,\n    .ant-select[data-component-version="v6"] input[type="text"]:focus,\n    .ant-select[data-component-version="v6"] input[type="time"]:focus,\n    .ant-select[data-component-version="v6"] input[type="url"]:focus,\n    .ant-picker[data-component-version="v6"] input:focus,\n    .ant-picker[data-component-version="v6"] input[type="search"]:focus,\n    .ant-picker[data-component-version="v6"] input[type="datetime-local"]:focus,\n    .ant-picker[data-component-version="v6"] input[type="email"]:focus,\n    .ant-picker[data-component-version="v6"] input[type="file"]:focus,\n    .ant-picker[data-component-version="v6"] input[type="number"]:focus,\n    .ant-picker[data-component-version="v6"] input[type="password"]:focus,\n    .ant-picker[data-component-version="v6"] input[type="tel"]:focus,\n    .ant-picker[data-component-version="v6"] input[type="text"]:focus,\n    .ant-picker[data-component-version="v6"] input[type="time"]:focus,\n    .ant-picker[data-component-version="v6"] input[type="url"]:focus {\n      border: none;\n      box-shadow: none;\n      font-weight: initial;\n    }\n\n    .ant-input-number input.ant-input-number-input:not([type]) {\n      border: none;\n      background: transparent;\n    }\n    .ant-input-number input.ant-input-number-input:not([type]):focus {\n      box-shadow: none;\n      background: transparent;\n    }\n\n    .ant-picker input[data-component-version="v6"]:focus,\n    .ant-picker input[data-component-version="v6"][type="search"]:focus,\n    .ant-picker input[data-component-version="v6"][type="datetime-local"]:focus,\n    .ant-picker input[data-component-version="v6"][type="email"]:focus,\n    .ant-picker input[data-component-version="v6"][type="file"]:focus,\n    .ant-picker input[data-component-version="v6"][type="number"]:focus,\n    .ant-picker input[data-component-version="v6"][type="password"]:focus,\n    .ant-picker input[data-component-version="v6"][type="tel"]:focus,\n    .ant-picker input[data-component-version="v6"][type="text"]:focus,\n    .ant-picker input[data-component-version="v6"][type="time"]:focus {\n      border: none;\n      box-shadow: none;\n      font-weight: initial;\n    }\n    \n    .ant-slide-up-enter,\n    .ant-slide-up-appear {\n      animation-duration: 0.2s;\n      animation-fill-mode: both;\n      animation-play-state: paused;\n    }\n    .ant-slide-up-leave {\n      animation-duration: 0.2s;\n      animation-fill-mode: both;\n      animation-play-state: paused;\n    }\n    .ant-slide-up-enter.ant-slide-up-enter-active,\n    .ant-slide-up-appear.ant-slide-up-appear-active {\n      animation-name: antSlideUpIn;\n      animation-play-state: running;\n    }\n    .ant-slide-up-leave.ant-slide-up-leave-active {\n      animation-name: antSlideUpOut;\n      animation-play-state: running;\n      pointer-events: none;\n    }\n    .ant-slide-up-enter,\n    .ant-slide-up-appear {\n      opacity: 0;\n      animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);\n    }\n    .ant-slide-up-leave {\n      animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n    }\n    .ant-slide-down-enter,\n    .ant-slide-down-appear {\n      animation-duration: 0.2s;\n      animation-fill-mode: both;\n      animation-play-state: paused;\n    }\n    .ant-slide-down-leave {\n      animation-duration: 0.2s;\n      animation-fill-mode: both;\n      animation-play-state: paused;\n    }\n    .ant-slide-down-enter.ant-slide-down-enter-active,\n    .ant-slide-down-appear.ant-slide-down-appear-active {\n      animation-name: antSlideDownIn;\n      animation-play-state: running;\n    }\n    .ant-slide-down-leave.ant-slide-down-leave-active {\n      animation-name: antSlideDownOut;\n      animation-play-state: running;\n      pointer-events: none;\n    }\n    .ant-slide-down-enter,\n    .ant-slide-down-appear {\n      opacity: 0;\n      animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);\n    }\n    .ant-slide-down-leave {\n      animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n    }\n    .ant-slide-left-enter,\n    .ant-slide-left-appear {\n      animation-duration: 0.2s;\n      animation-fill-mode: both;\n      animation-play-state: paused;\n    }\n    .ant-slide-left-leave {\n      animation-duration: 0.2s;\n      animation-fill-mode: both;\n      animation-play-state: paused;\n    }\n    .ant-slide-left-enter.ant-slide-left-enter-active,\n    .ant-slide-left-appear.ant-slide-left-appear-active {\n      animation-name: antSlideLeftIn;\n      animation-play-state: running;\n    }\n    .ant-slide-left-leave.ant-slide-left-leave-active {\n      animation-name: antSlideLeftOut;\n      animation-play-state: running;\n      pointer-events: none;\n    }\n    .ant-slide-left-enter,\n    .ant-slide-left-appear {\n      opacity: 0;\n      animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);\n    }\n    .ant-slide-left-leave {\n      animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n    }\n    .ant-slide-right-enter,\n    .ant-slide-right-appear {\n      animation-duration: 0.2s;\n      animation-fill-mode: both;\n      animation-play-state: paused;\n    }\n    .ant-slide-right-leave {\n      animation-duration: 0.2s;\n      animation-fill-mode: both;\n      animation-play-state: paused;\n    }\n    .ant-slide-right-enter.ant-slide-right-enter-active,\n    .ant-slide-right-appear.ant-slide-right-appear-active {\n      animation-name: antSlideRightIn;\n      animation-play-state: running;\n    }\n    .ant-slide-right-leave.ant-slide-right-leave-active {\n      animation-name: antSlideRightOut;\n      animation-play-state: running;\n      pointer-events: none;\n    }\n    .ant-slide-right-enter,\n    .ant-slide-right-appear {\n      opacity: 0;\n      animation-timing-function: cubic-bezier(0.23, 1, 0.32, 1);\n    }\n    .ant-slide-right-leave {\n      animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);\n    }\n    @keyframes antSlideUpIn {\n      0% {\n        transform: scaleY(0.8);\n        transform-origin: 0% 0%;\n        opacity: 0;\n      }\n      100% {\n        transform: scaleY(1);\n        transform-origin: 0% 0%;\n        opacity: 1;\n      }\n    }\n    @keyframes antSlideUpOut {\n      0% {\n        transform: scaleY(1);\n        transform-origin: 0% 0%;\n        opacity: 1;\n      }\n      100% {\n        transform: scaleY(0.8);\n        transform-origin: 0% 0%;\n        opacity: 0;\n      }\n    }\n    @keyframes antSlideDownIn {\n      0% {\n        transform: scaleY(0.8);\n        transform-origin: 100% 100%;\n        opacity: 0;\n      }\n      100% {\n        transform: scaleY(1);\n        transform-origin: 100% 100%;\n        opacity: 1;\n      }\n    }\n    @keyframes antSlideDownOut {\n      0% {\n        transform: scaleY(1);\n        transform-origin: 100% 100%;\n        opacity: 1;\n      }\n      100% {\n        transform: scaleY(0.8);\n        transform-origin: 100% 100%;\n        opacity: 0;\n      }\n    }\n    @keyframes antSlideLeftIn {\n      0% {\n        transform: scaleX(0.8);\n        transform-origin: 0% 0%;\n        opacity: 0;\n      }\n      100% {\n        transform: scaleX(1);\n        transform-origin: 0% 0%;\n        opacity: 1;\n      }\n    }\n    @keyframes antSlideLeftOut {\n      0% {\n        transform: scaleX(1);\n        transform-origin: 0% 0%;\n        opacity: 1;\n      }\n      100% {\n        transform: scaleX(0.8);\n        transform-origin: 0% 0%;\n        opacity: 0;\n      }\n    }\n    @keyframes antSlideRightIn {\n      0% {\n        transform: scaleX(0.8);\n        transform-origin: 100% 0%;\n        opacity: 0;\n      }\n      100% {\n        transform: scaleX(1);\n        transform-origin: 100% 0%;\n        opacity: 1;\n      }\n    }\n    @keyframes antSlideRightOut {\n      0% {\n        transform: scaleX(1);\n        transform-origin: 100% 0%;\n        opacity: 1;\n      }\n      100% {\n        transform: scaleX(0.8);\n        transform-origin: 100% 0%;\n        opacity: 0;\n      }\n    }\n',document.head.appendChild(styleEl),console.info("Hexa UI: set dynamic global styles")}}catch(error){console.error("Hexa UI: failed to set dynamic global styles. The reason is: "+error)}}),[])}},"./src/code-compare/CodeCompare.stories.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CodeCompare:()=>CodeCompare_stories_CodeCompare,CompareMode:()=>CompareMode,EmptyValues:()=>EmptyValues,EqualValues:()=>EqualValues,LoadingWithCode:()=>LoadingWithCode,ManyChanges:()=>ManyChanges,NoValues:()=>NoValues,NoValuesLoading:()=>NoValuesLoading,__namedExportsOrder:()=>__namedExportsOrder,default:()=>CodeCompare_stories});var withDesignControls=__webpack_require__("./.storybook/components/designControls/withDesignControls.tsx"),withMeta=__webpack_require__("./.storybook/components/Meta/withMeta.tsx"),Grid=__webpack_require__("./src/grid/Grid.tsx"),GridItem=__webpack_require__("./src/grid/GridItem.tsx"),HelpMessage=__webpack_require__("./src/help-message/HelpMessage.tsx"),react=__webpack_require__("./node_modules/react/index.js");const meta_namespaceObject=JSON.parse('{"dod":{"designTokens":true,"useThemedHook":true,"unitTests":true,"screenshotTests":false,"migration":false,"apiTable":false,"storybook":true,"pixsoView":true},"component":"Code compare","description":"В качестве основы используется библиотека react-diff-view.","usage":"Code compare — компонент для визуального сравнения двух версий кода, конфигурационных файлов или данных.","designLink":"https://pixso.net/app/design/_JQDYkYJW0yUZVsKeoSybw?icon_type=1&page-id=139590%3A185264","pixsoView":"https://pixso.net/app/design/R2Ql8OtW_o3hdoS3U6zQiQ"}');var ActionButton=__webpack_require__("./src/action-button/ActionButton.tsx"),Dropdown=__webpack_require__("./src/dropdown/Dropdown.tsx"),es=__webpack_require__("./node_modules/react-i18next/dist/es/index.js"),Change=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/16/Change.js"),SettingsGear=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/16/SettingsGear.js"),SectionMessage=__webpack_require__("./src/section-message/SectionMessage.tsx");const CodeCompareBody=({oldValue,newValue,children})=>{const{t}=(0,es.Bd)(),valuesEqual=oldValue===newValue;return void 0===oldValue||void 0===newValue?null:!oldValue&&!newValue?react.createElement(SectionMessage.H,{mode:"info",closable:!1},t("codeCompare.empty")):valuesEqual?react.createElement(SectionMessage.H,{mode:"info",closable:!1},t("codeCompare.noChanges")):react.createElement(react.Fragment,null,children)};CodeCompareBody.__docgenInfo={description:"",methods:[],displayName:"CodeCompareBody",props:{oldValue:{required:!1,tsType:{name:"string"},description:""},newValue:{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""}}};var Loader=__webpack_require__("./src/loader/Loader.tsx"),Text_styled=__webpack_require__("./src/typography/text/Text.styled.tsx"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js");const Header=styled_components_browser_esm.Ay.header.withConfig({displayName:"CodeCompareCss__Header",componentId:"sc-1w2t5io-0"})(["display:grid;grid-template-columns:minmax(0,280px) max-content minmax(0,280px) 1fr min-content;gap:4px;align-items:center;margin-bottom:16px;"]),ChangeIcon=(0,styled_components_browser_esm.Ay)(Text_styled.E).withConfig({displayName:"CodeCompareCss__ChangeIcon",componentId:"sc-1w2t5io-1"})(["width:24px;height:32px;display:flex;align-items:center;justify-content:center;"]),LoaderWithTip=(0,styled_components_browser_esm.Ay)(Loader.a).withConfig({displayName:"CodeCompareCss__LoaderWithTip",componentId:"sc-1w2t5io-2"})(["",""],(props=>props.tip?"min-height: 200px;":""));var Typography=__webpack_require__("./src/typography/Typography.tsx"),react_diff_view_es=__webpack_require__("./node_modules/react-diff-view/es/index.js"),CollapseAll=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/16/CollapseAll.js"),ExpandAll=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/16/ExpandAll.js");const Container=styled_components_browser_esm.Ay.div.withConfig({displayName:"DiffViewerCss__Container",componentId:"sc-rrqgp7-0"})(['border-radius:8px;border:1px solid var(--code_compare--border);overflow:hidden;.diff-code,.diff-gutter{font-family:"Kaspersky Sans Mono",monospace;}.diff-gutter-col{width:52px;}.diff-gutter{text-align:center;color:var(--code_compare--text--secondary);}.diff-gutter-delete,.diff-gutter-insert{color:inherit;}.diff-code{padding-left:32px;}.diff-code-delete{position:relative;&::before{content:"-";font-size:16px;line-height:1.3;left:12px;position:absolute;}}.diff-code-insert{position:relative;&::before{content:"+";font-size:16px;line-height:1.3;left:12px;position:absolute;}}.diff-code-insert .diff-code-edit{display:inline-block;border-radius:1px;border:1px solid var(--code_compare_line_modified--border--added_change);}.diff-code-delete .diff-code-edit{display:inline-block;border-radius:1px;border:1px solid var(--code_compare_line_modified--border--removed_change);}.diff-line:hover{background:var(--code_compare_line--unselected--bg--hover);.diff-code{background:var(--code_compare_line--unselected--bg--hover);}}--diff-background-color:var(--code_compare--bg--base);--diff-text-color:var(--code_compare--text--primary);--diff-font-family:\'Kaspersky Sans Mono\',monospace;--diff-selection-text-color:var(--diff-text-color);--diff-gutter-insert-background-color:var(--code_compare_line_modified--bg--added_change);--diff-gutter-insert-text-color:var(--diff-text-color);--diff-gutter-delete-background-color:var(--code_compare_line_modified--bg--removed_change);--diff-gutter-delete-text-color:var(--diff-text-color);--diff-gutter-selected-text-color:var(--diff-text-color);--diff-code-insert-background-color:var(--code_compare_line_modified--bg--added);--diff-code-insert-text-color:var(--diff-text-color);--diff-code-delete-background-color:var(--code_compare_line_modified--bg--removed);--diff-code-delete-text-color:var(--diff-text-color);--diff-code-insert-edit-background-color:var(--code_compare_line_modified--bg--added_change);--diff-code-insert-edit-text-color:var(--diff-text-color);--diff-code-delete-edit-background-color:var(--code_compare_line_modified--bg--removed_change);--diff-code-delete-edit-text-color:var(--diff-text-color);--diff-code-selected-text-color:var(--diff-text-color);--diff-omit-gutter-line-color:initial;']),DiffViewerCss_Header=styled_components_browser_esm.Ay.header.withConfig({displayName:"DiffViewerCss__Header",componentId:"sc-rrqgp7-1"})(["padding:2px 12px;display:flex;justify-content:space-between;gap:16px;border-bottom:1px solid var(--code_compare--border);"]),Changes=styled_components_browser_esm.Ay.div.withConfig({displayName:"DiffViewerCss__Changes",componentId:"sc-rrqgp7-2"})(["color:var(--code_compare--text--primary);display:flex;align-items:center;gap:4px;"]),CodeExpandButton=(0,styled_components_browser_esm.Ay)(ActionButton.r).withConfig({displayName:"DiffViewerCss__CodeExpandButton",componentId:"sc-rrqgp7-3"})(["margin-left:4px;"]);var ExpandUp=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/16/ExpandUp.js"),ExpandDown=__webpack_require__("./node_modules/@kaspersky/hexa-ui-icons/esm/16/ExpandDown.js");const Button=(0,styled_components_browser_esm.Ay)(ActionButton.r).withConfig({displayName:"ExpandButtonCss__Button",componentId:"sc-qmhtst-0"})(["background:var(--code_compare--bg--controls) !important;width:100% !important;padding:6px 12px !important;gap:4px !important;"]),ExpandButton=({direction,start,lines,expandLines,onExpand})=>{const{t}=(0,es.Bd)();return react.createElement(react_diff_view_es.NZ,null,react.createElement(Button,{onClick:()=>{if("up"===direction||"center"===direction){const minLine=Math.max(1,start-expandLines);onExpand(minLine,start)}else onExpand(start+lines,start+lines+expandLines)},icon:"up"===direction?react.createElement(ExpandUp.A,null):"down"===direction?react.createElement(ExpandDown.A,null):react.createElement(ExpandAll.A,null)},t("codeCompare.expandLines",{count:expandLines})))};ExpandButton.__docgenInfo={description:"",methods:[],displayName:"ExpandButton",props:{direction:{required:!0,tsType:{name:"union",raw:"'up' | 'down' | 'center'",elements:[{name:"literal",value:"'up'"},{name:"literal",value:"'down'"},{name:"literal",value:"'center'"}]},description:""},start:{required:!0,tsType:{name:"number"},description:""},lines:{required:!0,tsType:{name:"number"},description:""},expandLines:{required:!0,tsType:{name:"number"},description:""},onExpand:{required:!0,tsType:{name:"signature",type:"function",raw:"(start: number, end: number) => void",signature:{arguments:[{type:{name:"number"},name:"start"},{type:{name:"number"},name:"end"}],return:{name:"void"}}},description:""}}};var unidiff=__webpack_require__("./node_modules/unidiff/index.js");const DiffViewer=({oldValue="",newValue="",viewType,expandLines=15})=>{const{t}=(0,es.Bd)(),[expandedAll,setExpandedAll]=(0,react.useState)(!1),{file,fullDiffFile,totalLines,expandable,addedLines,removedLines}=((oldValue,newValue)=>(0,react.useMemo)((()=>{const lines=(0,unidiff.diffLines)(oldValue,newValue),diffText=(0,unidiff.formatLines)(lines,{context:3,newlineIsToken:!1}),[file]=(0,react_diff_view_es.FR)(diffText,{nearbySequences:"zip"}),fullDiffText=(0,unidiff.formatLines)(lines,{context:1/0,newlineIsToken:!1}),[fullDiffFile]=(0,react_diff_view_es.FR)(fullDiffText,{nearbySequences:"zip"});return{file,fullDiffFile,totalLines:Math.max(fullDiffFile.hunks[0].newLines,fullDiffFile.hunks[0].oldLines),expandable:diffText!==fullDiffText,addedLines:lines.reduce(((count,line)=>line.added?count+line.count:count),0),removedLines:lines.reduce(((count,line)=>line.removed?count+line.count:count),0)}}),[oldValue,newValue]))(oldValue,newValue),[hunksWithSourceExpansion,expandCode]=(0,react_diff_view_es.iN)(expandedAll?fullDiffFile.hunks:file.hunks,oldValue);((hunk,fullDiffHunk,setExpandedAll)=>{(0,react.useEffect)((()=>{const fullExpanded=hunk.newLines===fullDiffHunk.newLines&&hunk.oldLines===fullDiffHunk.oldLines&&hunk.newStart===fullDiffHunk.newStart&&hunk.oldStart===fullDiffHunk.oldStart;fullExpanded&&setExpandedAll(fullExpanded)}),[hunk])})(hunksWithSourceExpansion[0],fullDiffFile.hunks[0],setExpandedAll);const tokens=(0,react.useMemo)((()=>{const options={enhancers:[(0,react_diff_view_es.Zc)(hunksWithSourceExpansion,{type:"line"})]};return(0,react_diff_view_es.qw)(hunksWithSourceExpansion,options)}),[hunksWithSourceExpansion]),renderHunk=(0,react.useCallback)(((output,currentHunk,index,hunks)=>{const previousHunk=hunks[index-1],nextHunk=hunks[index+1],previousEnd=previousHunk?previousHunk.oldStart+previousHunk.oldLines:1,currentStart=currentHunk.oldStart;if(0===index&&currentStart>1||currentStart-previousEnd>0){const minExpandLines=Math.min(expandLines,currentStart-previousEnd),direction=0===index||currentStart-previousEnd>expandLines?"up":"center";output.push(react.createElement(ExpandButton,{key:`up-${currentHunk.content}`,direction,start:currentHunk.oldStart,lines:currentHunk.oldLines,expandLines:minExpandLines,onExpand:expandCode}))}output.push(react.createElement(react_diff_view_es.D9,{key:currentHunk.content,hunk:currentHunk}));const hunkEndLines=Math.min(currentHunk.oldStart,currentHunk.newStart)+Math.max(currentHunk.oldLines,currentHunk.newLines)-1,oldEnd=currentHunk.oldStart+currentHunk.oldLines,nextStart=nextHunk?nextHunk.oldStart:1;return(!nextHunk&&hunkEndLines+1<totalLines||nextStart-oldEnd>expandLines&&nextStart>oldEnd+1)&&output.push(react.createElement(ExpandButton,{key:`down-${currentHunk.content}`,direction:"down",start:currentHunk.oldStart,lines:currentHunk.oldLines,expandLines:Math.min(expandLines,totalLines-hunkEndLines),onExpand:expandCode})),output}),[expandCode]);return react.createElement(Container,null,react.createElement(DiffViewerCss_Header,null,react.createElement("div",null),react.createElement(Changes,null,t("codeCompare.totalChanges"),removedLines?react.createElement(Typography.E,{color:"critical"},"-",removedLines):null,addedLines?react.createElement(Typography.E,{color:"positive"},"+",addedLines):null,expandable&&react.createElement(CodeExpandButton,{icon:expandedAll?react.createElement(CollapseAll.A,null):react.createElement(ExpandAll.A,null),onClick:()=>setExpandedAll(!expandedAll)},t(expandedAll?"codeCompare.collapseAll":"codeCompare.expandAll")))),react.createElement(react_diff_view_es.oO,{viewType,diffType:file.type,hunks:hunksWithSourceExpansion,tokens},(hunks=>hunks.reduce(renderHunk,[]))))};DiffViewer.__docgenInfo={description:"",methods:[],displayName:"DiffViewer",props:{oldValue:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},newValue:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},viewType:{required:!0,tsType:{name:"ViewType"},description:""},expandLines:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"15",computed:!1}}}};var Select=__webpack_require__("./src/select/Select.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const SelectWithDescription=({onChange,options,...props})=>react.createElement(Select.l,_extends({},props,{onChange:(value,option)=>{const selectedValue=null==options?void 0:options.find((option=>option.value===value));null==onChange||onChange(null!=selectedValue?selectedValue:value,option)}}),null==options?void 0:options.map((option=>react.createElement(Select.l.Option,{value:option.value,key:option.value},react.createElement("div",null,option.label,react.createElement("div",null,react.createElement(HelpMessage.p,{text:option.description})))))));SelectWithDescription.__docgenInfo={description:"",methods:[],displayName:"SelectWithDescription"};const CodeCompare=({oldVersion,newVersion,oldValue,newValue,options,loading=!1,onVersionChange,compareMode="split"})=>{const{t}=(0,es.Bd)(),[viewType,setViewType]=(0,react.useState)(compareMode),codeOptions=(0,react.useMemo)((()=>options.filter((option=>option.value!==(null==newVersion?void 0:newVersion.value)))),[options,newVersion]),compareCodeOptions=(0,react.useMemo)((()=>options.filter((option=>option.value!==(null==oldVersion?void 0:oldVersion.value)))),[options,oldVersion]),noValues=void 0===oldValue||void 0===newValue,valuesEqual=oldValue===newValue;return react.createElement("div",null,react.createElement(Header,null,react.createElement(SelectWithDescription,{value:oldVersion,onChange:version=>null==onVersionChange?void 0:onVersionChange(version,newVersion),options:codeOptions,placeholder:t("codeCompare.basicVersion")}),react.createElement(ChangeIcon,{color:"secondary"},react.createElement(Change.A,null)),react.createElement(SelectWithDescription,{value:newVersion,onChange:compareVersion=>null==onVersionChange?void 0:onVersionChange(oldVersion,compareVersion),options:compareCodeOptions,placeholder:t("codeCompare.comparableVersion")}),react.createElement("div",null),!valuesEqual&&react.createElement(Dropdown.m,{trigger:["click"],placement:"bottomRight",overlay:react.createElement(Dropdown.m.Menu,{selectedKeys:[viewType]},react.createElement(Dropdown.m.GroupTitle,null,t("codeCompare.compareMode")),react.createElement(Dropdown.m.MenuItem,{key:"unified",onClick:()=>setViewType("unified")},t("codeCompare.unified")),react.createElement(Dropdown.m.MenuItem,{key:"split",onClick:()=>setViewType("split")},t("codeCompare.split")))},react.createElement(ActionButton.r,{icon:react.createElement(SettingsGear.A,null)}))),react.createElement(LoaderWithTip,{spinning:loading,delay:1e3,tip:noValues?t("codeCompare.loader"):void 0,size:"medium"},react.createElement(CodeCompareBody,{oldValue,newValue},react.createElement(DiffViewer,{oldValue,newValue,viewType,key:`${oldValue}-${newValue}`}))))};function CodeCompare_stories_extends(){return CodeCompare_stories_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},CodeCompare_stories_extends.apply(null,arguments)}CodeCompare.__docgenInfo={description:"",methods:[],displayName:"CodeCompare",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"IVersionOption"}],raw:"IVersionOption[]"},description:""},compareMode:{required:!1,tsType:{name:"ViewType"},description:"",defaultValue:{value:"'split'",computed:!1}},oldVersion:{required:!1,tsType:{name:"IVersionOption"},description:""},newVersion:{required:!1,tsType:{name:"IVersionOption"},description:""},oldValue:{required:!1,tsType:{name:"string"},description:""},newValue:{required:!1,tsType:{name:"string"},description:""},loading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onVersionChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(version?: IVersionOption, compareVersion?: IVersionOption) => void",signature:{arguments:[{type:{name:"IVersionOption"},name:"version"},{type:{name:"IVersionOption"},name:"compareVersion"}],return:{name:"void"}}},description:""}}};const CodeCompareVersionWrapper=props=>{const[v1,setV1]=(0,react.useState)(props.oldVersion),[v2,setV2]=(0,react.useState)(props.newVersion),[v1Code,setV1Code]=(0,react.useState)(props.oldValue),[v2Code,setV2Code]=(0,react.useState)(props.newValue);return react.createElement(CodeCompare,CodeCompare_stories_extends({},props,{oldVersion:v1,newVersion:v2,oldValue:v1Code,newValue:v2Code,onVersionChange:(v1,v2)=>{setV1(v1),setV2(v2),setV1Code(getCodeByVersion(v1)),setV2Code(getCodeByVersion(v2))}}))},storySettings={parameters:{docs:{page:(0,withMeta.C)(meta_namespaceObject)},design:meta_namespaceObject.pixsoView}},CodeCompare_stories={title:"Hexa UI Components/CodeCompare",component:CodeCompareVersionWrapper,...(0,withDesignControls.r)({componentName:"codeCompare",meta:storySettings})},CodeCompare_stories_CodeCompare={args:{oldVersion:{label:"Code 2024-06-05 16:50:54",description:"konstantinopsky.konstantin",value:0},newVersion:{label:"Changed Code 2024-06-05 16:50:54",description:"popov.ivan",value:1},options:[{label:"Code 2024-06-05 16:50:54",description:"konstantinopsky.konstantin",value:0},{label:"Changed Code 2024-06-05 16:50:54",description:"popov.ivan",value:1},{label:"ManyChanges 2024-06-05 16:50:54",description:"popov.ivan",value:2},{label:"ManyChanges Compare 2024-06-05 16:50:54",description:"popov.ivan",value:3},{label:"Empty 2024-06-05 16:50:54",description:"popov.ivan",value:4},{label:"Empty 2024-06-05 16:50:54",description:"popov.ivan",value:5},{label:"Same Code 2024-06-05 16:50:54",description:"popov.ivan",value:6},{label:"Not loaded 2024-06-05 16:50:54",description:"popov.ivan",value:7},{label:"Line changed 2024-06-05 16:50:54",description:"popov.ivan",value:8}],oldValue:getCodeByVersion({label:"Code 2024-06-05 16:50:54",description:"konstantinopsky.konstantin",value:0}),newValue:getCodeByVersion({label:"Changed Code 2024-06-05 16:50:54",description:"popov.ivan",value:1})}},CompareMode={render:()=>{const props={oldVersion:{label:"Code 2024-06-05 16:50:54",description:"konstantinopsky.konstantin",value:0},newVersion:{label:"Changed Code 2024-06-05 16:50:54",description:"popov.ivan",value:1},options:[{label:"Code 2024-06-05 16:50:54",description:"konstantinopsky.konstantin",value:0},{label:"Changed Code 2024-06-05 16:50:54",description:"popov.ivan",value:1},{label:"ManyChanges 2024-06-05 16:50:54",description:"popov.ivan",value:2},{label:"ManyChanges Compare 2024-06-05 16:50:54",description:"popov.ivan",value:3},{label:"Empty 2024-06-05 16:50:54",description:"popov.ivan",value:4},{label:"Empty 2024-06-05 16:50:54",description:"popov.ivan",value:5},{label:"Same Code 2024-06-05 16:50:54",description:"popov.ivan",value:6},{label:"Not loaded 2024-06-05 16:50:54",description:"popov.ivan",value:7},{label:"Line changed 2024-06-05 16:50:54",description:"popov.ivan",value:8}],oldValue:getCodeByVersion({label:"Code 2024-06-05 16:50:54",description:"konstantinopsky.konstantin",value:0}),newValue:getCodeByVersion({label:"Line changed 2024-06-05 16:50:54",description:"popov.ivan",value:8})};return react.createElement(Grid.x,{layout:{cols:["140px 6fr"]},layoutProperty:{gap:32,alignItems:"center"}},react.createElement(GridItem.E,null,react.createElement(HelpMessage.p,{text:"сompareMode = Unified"})),react.createElement(GridItem.E,null,react.createElement(CodeCompareVersionWrapper,CodeCompare_stories_extends({},props,{compareMode:"unified"}))),react.createElement(HelpMessage.p,{text:"сompareMode = Split"}),react.createElement(CodeCompareVersionWrapper,CodeCompare_stories_extends({},props,{compareMode:"split"})))}},NoValues={args:{oldVersion:void 0,newVersion:void 0,options:[{label:"Code 2024-06-05 16:50:54",description:"konstantinopsky.konstantin",value:0},{label:"Changed Code 2024-06-05 16:50:54",description:"popov.ivan",value:1},{label:"ManyChanges 2024-06-05 16:50:54",description:"popov.ivan",value:2},{label:"ManyChanges Compare 2024-06-05 16:50:54",description:"popov.ivan",value:3},{label:"Empty 2024-06-05 16:50:54",description:"popov.ivan",value:4},{label:"Empty 2024-06-05 16:50:54",description:"popov.ivan",value:5},{label:"Same Code 2024-06-05 16:50:54",description:"popov.ivan",value:6},{label:"Not loaded 2024-06-05 16:50:54",description:"popov.ivan",value:7},{label:"Line changed 2024-06-05 16:50:54",description:"popov.ivan",value:8}]}},EqualValues={args:{oldVersion:{label:"Code 2024-06-05 16:50:54",description:"konstantinopsky.konstantin",value:0},newVersion:{label:"Same Code 2024-06-05 16:50:54",description:"popov.ivan",value:6},options:[{label:"Code 2024-06-05 16:50:54",description:"konstantinopsky.konstantin",value:0},{label:"Changed Code 2024-06-05 16:50:54",description:"popov.ivan",value:1},{label:"ManyChanges 2024-06-05 16:50:54",description:"popov.ivan",value:2},{label:"ManyChanges Compare 2024-06-05 16:50:54",description:"popov.ivan",value:3},{label:"Empty 2024-06-05 16:50:54",description:"popov.ivan",value:4},{label:"Empty 2024-06-05 16:50:54",description:"popov.ivan",value:5},{label:"Same Code 2024-06-05 16:50:54",description:"popov.ivan",value:6},{label:"Not loaded 2024-06-05 16:50:54",description:"popov.ivan",value:7},{label:"Line changed 2024-06-05 16:50:54",description:"popov.ivan",value:8}],oldValue:getCodeByVersion({label:"Code 2024-06-05 16:50:54",description:"konstantinopsky.konstantin",value:0}),newValue:getCodeByVersion({label:"Same Code 2024-06-05 16:50:54",description:"popov.ivan",value:6})}},EmptyValues={args:{oldVersion:{label:"Empty 2024-06-05 16:50:54",description:"popov.ivan",value:4},newVersion:{label:"Empty 2024-06-05 16:50:54",description:"popov.ivan",value:5},options:[{label:"Code 2024-06-05 16:50:54",description:"konstantinopsky.konstantin",value:0},{label:"Changed Code 2024-06-05 16:50:54",description:"popov.ivan",value:1},{label:"ManyChanges 2024-06-05 16:50:54",description:"popov.ivan",value:2},{label:"ManyChanges Compare 2024-06-05 16:50:54",description:"popov.ivan",value:3},{label:"Empty 2024-06-05 16:50:54",description:"popov.ivan",value:4},{label:"Empty 2024-06-05 16:50:54",description:"popov.ivan",value:5},{label:"Same Code 2024-06-05 16:50:54",description:"popov.ivan",value:6},{label:"Not loaded 2024-06-05 16:50:54",description:"popov.ivan",value:7},{label:"Line changed 2024-06-05 16:50:54",description:"popov.ivan",value:8}],oldValue:getCodeByVersion({label:"Empty 2024-06-05 16:50:54",description:"popov.ivan",value:4}),newValue:getCodeByVersion({label:"Empty 2024-06-05 16:50:54",description:"popov.ivan",value:5})}},NoValuesLoading={args:{oldVersion:{label:"Code 2024-06-05 16:50:54",description:"konstantinopsky.konstantin",value:0},newVersion:{label:"Not loaded 2024-06-05 16:50:54",description:"popov.ivan",value:7},options:[{label:"Code 2024-06-05 16:50:54",description:"konstantinopsky.konstantin",value:0},{label:"Changed Code 2024-06-05 16:50:54",description:"popov.ivan",value:1},{label:"ManyChanges 2024-06-05 16:50:54",description:"popov.ivan",value:2},{label:"ManyChanges Compare 2024-06-05 16:50:54",description:"popov.ivan",value:3},{label:"Empty 2024-06-05 16:50:54",description:"popov.ivan",value:4},{label:"Empty 2024-06-05 16:50:54",description:"popov.ivan",value:5},{label:"Same Code 2024-06-05 16:50:54",description:"popov.ivan",value:6},{label:"Not loaded 2024-06-05 16:50:54",description:"popov.ivan",value:7},{label:"Line changed 2024-06-05 16:50:54",description:"popov.ivan",value:8}],loading:!0,oldValue:getCodeByVersion({label:"Code 2024-06-05 16:50:54",description:"konstantinopsky.konstantin",value:0}),newValue:getCodeByVersion({label:"Not loaded 2024-06-05 16:50:54",description:"popov.ivan",value:7})}},LoadingWithCode={args:{oldVersion:{label:"Code 2024-06-05 16:50:54",description:"konstantinopsky.konstantin",value:0},newVersion:{label:"Changed Code 2024-06-05 16:50:54",description:"popov.ivan",value:1},options:[{label:"Code 2024-06-05 16:50:54",description:"konstantinopsky.konstantin",value:0},{label:"Changed Code 2024-06-05 16:50:54",description:"popov.ivan",value:1},{label:"ManyChanges 2024-06-05 16:50:54",description:"popov.ivan",value:2},{label:"ManyChanges Compare 2024-06-05 16:50:54",description:"popov.ivan",value:3},{label:"Empty 2024-06-05 16:50:54",description:"popov.ivan",value:4},{label:"Empty 2024-06-05 16:50:54",description:"popov.ivan",value:5},{label:"Same Code 2024-06-05 16:50:54",description:"popov.ivan",value:6},{label:"Not loaded 2024-06-05 16:50:54",description:"popov.ivan",value:7},{label:"Line changed 2024-06-05 16:50:54",description:"popov.ivan",value:8}],loading:!0,oldValue:getCodeByVersion({label:"Code 2024-06-05 16:50:54",description:"konstantinopsky.konstantin",value:0}),newValue:getCodeByVersion({label:"Changed Code 2024-06-05 16:50:54",description:"popov.ivan",value:1})}},ManyChanges={args:{oldVersion:{label:"ManyChanges 2024-06-05 16:50:54",description:"popov.ivan",value:2},newVersion:{label:"ManyChanges Compare 2024-06-05 16:50:54",description:"popov.ivan",value:3},options:[{label:"Code 2024-06-05 16:50:54",description:"konstantinopsky.konstantin",value:0},{label:"Changed Code 2024-06-05 16:50:54",description:"popov.ivan",value:1},{label:"ManyChanges 2024-06-05 16:50:54",description:"popov.ivan",value:2},{label:"ManyChanges Compare 2024-06-05 16:50:54",description:"popov.ivan",value:3},{label:"Empty 2024-06-05 16:50:54",description:"popov.ivan",value:4},{label:"Empty 2024-06-05 16:50:54",description:"popov.ivan",value:5},{label:"Same Code 2024-06-05 16:50:54",description:"popov.ivan",value:6},{label:"Not loaded 2024-06-05 16:50:54",description:"popov.ivan",value:7},{label:"Line changed 2024-06-05 16:50:54",description:"popov.ivan",value:8}],oldValue:getCodeByVersion({label:"ManyChanges 2024-06-05 16:50:54",description:"popov.ivan",value:2}),newValue:getCodeByVersion({label:"ManyChanges Compare 2024-06-05 16:50:54",description:"popov.ivan",value:3})}};function generateLines(count){const lines=[];for(let i=0;i<count;i++)lines.push(`line ${i}`);return lines.join("\n")}function getCodeByVersion(version){if(version&&7!==version.value){if(0===version.value||6===version.value)return"import { ActionButton } from '@src/action-button'\nimport { Dropdown } from '@src/dropdown'\nimport React, { FC, useMemo, useState } from 'react'\nimport { ViewType } from 'react-diff-view'\nimport { useTranslation } from 'react-i18next'\n\nimport { Change, SettingsGear } from '@kaspersky/hexa-ui-icons/16'\n\nimport { CodeCompareBody } from './code-compare-body'\nimport { ChangeIcon, Header, LoaderWithTip } from './CodeCompareCss'\nimport { DiffViewer } from './diff-viewer'\nimport { SelectWithDescription } from './select-with-description'\nimport { IVersionOption } from './types'\n\nexport interface CodeCompareProps {\n  options: IVersionOption[],\n  compareMode?: ViewType,\n  oldVersion?: IVersionOption,\n  newVersion?: IVersionOption,\n  oldValue?: string,\n  newValue?: string,\n  loading?: boolean,\n  onVersionChange?: (version?: IVersionOption, compareVersion?: IVersionOption) => void\n}\n\nexport const CodeCompare: FC<CodeCompareProps> = ({\n  oldVersion,\n  newVersion,\n  oldValue,\n  newValue,\n  options,\n  loading = false,\n  onVersionChange,\n  compareMode = 'split'\n}) => {\n  const { t } = useTranslation()\n\n  const [viewType, setviewType] = useState<ViewType>(compareMode)\n  const codeOptions = useMemo(() => options.filter(option => option.value !== newVersion?.value), [options, newVersion])\n  const compareCodeOptions = useMemo(() => options.filter(option => option.value !== oldVersion?.value), [options, oldVersion])\n\n  const noValues = oldValue === undefined || newValue === undefined\n  const valuesEqual = oldValue === newValue\n\n  return <div>\n    <Header>\n      <SelectWithDescription\n        value={oldVersion}\n        onChange={(version) => onVersionChange?.(version, newVersion)}\n        options={codeOptions}\n        placeholder={t('codeCompare.basicVersion')}\n      />\n      <ChangeIcon color=\"secondary\">\n        <Change />\n      </ChangeIcon>\n      <SelectWithDescription\n        value={newVersion}\n        onChange={(compareVersion) => onVersionChange?.(oldVersion, compareVersion)}\n        options={compareCodeOptions}\n        placeholder={t('codeCompare.comparableVersion')}\n      />\n      <div />\n      {!valuesEqual && <Dropdown\n        trigger={['click']}\n        placement=\"bottomRight\"\n        overlay={\n          <Dropdown.Menu>\n            <Dropdown.GroupTitle>{t('codeCompare.compareMode')}</Dropdown.GroupTitle>\n            <Dropdown.MenuItem onClick={() => setviewType('unified')} >\n              {t('codeCompare.unified')}\n            </Dropdown.MenuItem>\n            <Dropdown.MenuItem onClick={() => setviewType('split')}>\n              {t('codeCompare.split')}\n            </Dropdown.MenuItem>\n          </Dropdown.Menu>\n        }\n      >\n        <ActionButton icon={<SettingsGear />} />\n      </Dropdown>}\n    </Header>\n    <LoaderWithTip\n      spinning={loading}\n      delay={1000}\n      tip={noValues ? t('codeCompare.loader') : undefined}\n      size=\"medium\"\n    >\n      <CodeCompareBody oldValue={oldValue} newValue={newValue}>\n        <DiffViewer oldValue={oldValue} newValue={newValue} viewType={viewType} />\n      </CodeCompareBody>\n    </LoaderWithTip>\n  </div>\n}";if(1===version.value){const lines="import { ActionButton } from '@src/action-button'\nimport { Dropdown } from '@src/dropdown'\nimport React, { FC, useMemo, useState } from 'react'\nimport { ViewType } from 'react-diff-view'\nimport { useTranslation } from 'react-i18next'\n\nimport { Change, SettingsGear } from '@kaspersky/hexa-ui-icons/16'\n\nimport { CodeCompareBody } from './code-compare-body'\nimport { ChangeIcon, Header, LoaderWithTip } from './CodeCompareCss'\nimport { DiffViewer } from './diff-viewer'\nimport { SelectWithDescription } from './select-with-description'\nimport { IVersionOption } from './types'\n\nexport interface CodeCompareProps {\n  options: IVersionOption[],\n  compareMode?: ViewType,\n  oldVersion?: IVersionOption,\n  newVersion?: IVersionOption,\n  oldValue?: string,\n  newValue?: string,\n  loading?: boolean,\n  onVersionChange?: (version?: IVersionOption, compareVersion?: IVersionOption) => void\n}\n\nexport const CodeCompare: FC<CodeCompareProps> = ({\n  oldVersion,\n  newVersion,\n  oldValue,\n  newValue,\n  options,\n  loading = false,\n  onVersionChange,\n  compareMode = 'split'\n}) => {\n  const { t } = useTranslation()\n\n  const [viewType, setviewType] = useState<ViewType>(compareMode)\n  const codeOptions = useMemo(() => options.filter(option => option.value !== newVersion?.value), [options, newVersion])\n  const compareCodeOptions = useMemo(() => options.filter(option => option.value !== oldVersion?.value), [options, oldVersion])\n\n  const noValues = oldValue === undefined || newValue === undefined\n  const valuesEqual = oldValue === newValue\n\n  return <div>\n    <Header>\n      <SelectWithDescription\n        value={oldVersion}\n        onChange={(version) => onVersionChange?.(version, newVersion)}\n        options={codeOptions}\n        placeholder={t('codeCompare.basicVersion')}\n      />\n      <ChangeIcon color=\"secondary\">\n        <Change />\n      </ChangeIcon>\n      <SelectWithDescription\n        value={newVersion}\n        onChange={(compareVersion) => onVersionChange?.(oldVersion, compareVersion)}\n        options={compareCodeOptions}\n        placeholder={t('codeCompare.comparableVersion')}\n      />\n      <div />\n      {!valuesEqual && <Dropdown\n        trigger={['click']}\n        placement=\"bottomRight\"\n        overlay={\n          <Dropdown.Menu>\n            <Dropdown.GroupTitle>{t('codeCompare.compareMode')}</Dropdown.GroupTitle>\n            <Dropdown.MenuItem onClick={() => setviewType('unified')} >\n              {t('codeCompare.unified')}\n            </Dropdown.MenuItem>\n            <Dropdown.MenuItem onClick={() => setviewType('split')}>\n              {t('codeCompare.split')}\n            </Dropdown.MenuItem>\n          </Dropdown.Menu>\n        }\n      >\n        <ActionButton icon={<SettingsGear />} />\n      </Dropdown>}\n    </Header>\n    <LoaderWithTip\n      spinning={loading}\n      delay={1000}\n      tip={noValues ? t('codeCompare.loader') : undefined}\n      size=\"medium\"\n    >\n      <CodeCompareBody oldValue={oldValue} newValue={newValue}>\n        <DiffViewer oldValue={oldValue} newValue={newValue} viewType={viewType} />\n      </CodeCompareBody>\n    </LoaderWithTip>\n  </div>\n}".split("\n");return lines[10]='import { PlusRing } from "randomtext"',lines.splice(40,2),lines.splice(45,0,"      <Change />"),lines.join("\n")}if(2===version.value)return`${generateLines(1e3)}${generateLines(1e3)}${generateLines(1e3)}`;if(3===version.value)return`${generateLines(4e3)}`;if(8===version.value){const lines="import { ActionButton } from '@src/action-button'\nimport { Dropdown } from '@src/dropdown'\nimport React, { FC, useMemo, useState } from 'react'\nimport { ViewType } from 'react-diff-view'\nimport { useTranslation } from 'react-i18next'\n\nimport { Change, SettingsGear } from '@kaspersky/hexa-ui-icons/16'\n\nimport { CodeCompareBody } from './code-compare-body'\nimport { ChangeIcon, Header, LoaderWithTip } from './CodeCompareCss'\nimport { DiffViewer } from './diff-viewer'\nimport { SelectWithDescription } from './select-with-description'\nimport { IVersionOption } from './types'\n\nexport interface CodeCompareProps {\n  options: IVersionOption[],\n  compareMode?: ViewType,\n  oldVersion?: IVersionOption,\n  newVersion?: IVersionOption,\n  oldValue?: string,\n  newValue?: string,\n  loading?: boolean,\n  onVersionChange?: (version?: IVersionOption, compareVersion?: IVersionOption) => void\n}\n\nexport const CodeCompare: FC<CodeCompareProps> = ({\n  oldVersion,\n  newVersion,\n  oldValue,\n  newValue,\n  options,\n  loading = false,\n  onVersionChange,\n  compareMode = 'split'\n}) => {\n  const { t } = useTranslation()\n\n  const [viewType, setviewType] = useState<ViewType>(compareMode)\n  const codeOptions = useMemo(() => options.filter(option => option.value !== newVersion?.value), [options, newVersion])\n  const compareCodeOptions = useMemo(() => options.filter(option => option.value !== oldVersion?.value), [options, oldVersion])\n\n  const noValues = oldValue === undefined || newValue === undefined\n  const valuesEqual = oldValue === newValue\n\n  return <div>\n    <Header>\n      <SelectWithDescription\n        value={oldVersion}\n        onChange={(version) => onVersionChange?.(version, newVersion)}\n        options={codeOptions}\n        placeholder={t('codeCompare.basicVersion')}\n      />\n      <ChangeIcon color=\"secondary\">\n        <Change />\n      </ChangeIcon>\n      <SelectWithDescription\n        value={newVersion}\n        onChange={(compareVersion) => onVersionChange?.(oldVersion, compareVersion)}\n        options={compareCodeOptions}\n        placeholder={t('codeCompare.comparableVersion')}\n      />\n      <div />\n      {!valuesEqual && <Dropdown\n        trigger={['click']}\n        placement=\"bottomRight\"\n        overlay={\n          <Dropdown.Menu>\n            <Dropdown.GroupTitle>{t('codeCompare.compareMode')}</Dropdown.GroupTitle>\n            <Dropdown.MenuItem onClick={() => setviewType('unified')} >\n              {t('codeCompare.unified')}\n            </Dropdown.MenuItem>\n            <Dropdown.MenuItem onClick={() => setviewType('split')}>\n              {t('codeCompare.split')}\n            </Dropdown.MenuItem>\n          </Dropdown.Menu>\n        }\n      >\n        <ActionButton icon={<SettingsGear />} />\n      </Dropdown>}\n    </Header>\n    <LoaderWithTip\n      spinning={loading}\n      delay={1000}\n      tip={noValues ? t('codeCompare.loader') : undefined}\n      size=\"medium\"\n    >\n      <CodeCompareBody oldValue={oldValue} newValue={newValue}>\n        <DiffViewer oldValue={oldValue} newValue={newValue} viewType={viewType} />\n      </CodeCompareBody>\n    </LoaderWithTip>\n  </div>\n}".split("\n");return lines[48]="        onModify={handleModifyValue}",lines.join("\n")}return""}}const __namedExportsOrder=["CodeCompare","CompareMode","NoValues","EqualValues","EmptyValues","NoValuesLoading","LoadingWithCode","ManyChanges"];CodeCompare_stories_CodeCompare.parameters={...CodeCompare_stories_CodeCompare.parameters,docs:{...CodeCompare_stories_CodeCompare.parameters?.docs,source:{originalSource:"{\n  args: {\n    oldVersion: getVersions()[0],\n    newVersion: getVersions()[1],\n    options: getVersions(),\n    oldValue: getCodeByVersion(getVersions()[0]),\n    newValue: getCodeByVersion(getVersions()[1])\n  }\n}",...CodeCompare_stories_CodeCompare.parameters?.docs?.source}}},CompareMode.parameters={...CompareMode.parameters,docs:{...CompareMode.parameters?.docs,source:{originalSource:'{\n  render: () => {\n    const props: CodeCompareProps = {\n      oldVersion: getVersions()[0],\n      newVersion: getVersions()[1],\n      options: getVersions(),\n      oldValue: getCodeByVersion(getVersions()[0]),\n      newValue: getCodeByVersion(getVersions()[8])\n    };\n    return <Grid layout={{\n      cols: [\'140px 6fr\']\n    }} layoutProperty={{\n      gap: 32,\n      alignItems: \'center\'\n    }}>\n        <GridItem>\n          <HelpMessage text="сompareMode = Unified" />\n        </GridItem>\n        <GridItem>\n          <CodeCompareVersionWrapper {...props} compareMode="unified" />\n        </GridItem>\n        <HelpMessage text="сompareMode = Split" />\n        <CodeCompareVersionWrapper {...props} compareMode="split" />\n      </Grid>;\n  }\n}',...CompareMode.parameters?.docs?.source}}},NoValues.parameters={...NoValues.parameters,docs:{...NoValues.parameters?.docs,source:{originalSource:"{\n  args: {\n    oldVersion: undefined,\n    newVersion: undefined,\n    options: getVersions()\n  }\n}",...NoValues.parameters?.docs?.source}}},EqualValues.parameters={...EqualValues.parameters,docs:{...EqualValues.parameters?.docs,source:{originalSource:"{\n  args: {\n    oldVersion: getVersions()[0],\n    newVersion: getVersions()[6],\n    options: getVersions(),\n    oldValue: getCodeByVersion(getVersions()[0]),\n    newValue: getCodeByVersion(getVersions()[6])\n  }\n}",...EqualValues.parameters?.docs?.source}}},EmptyValues.parameters={...EmptyValues.parameters,docs:{...EmptyValues.parameters?.docs,source:{originalSource:"{\n  args: {\n    oldVersion: getVersions()[4],\n    newVersion: getVersions()[5],\n    options: getVersions(),\n    oldValue: getCodeByVersion(getVersions()[4]),\n    newValue: getCodeByVersion(getVersions()[5])\n  }\n}",...EmptyValues.parameters?.docs?.source}}},NoValuesLoading.parameters={...NoValuesLoading.parameters,docs:{...NoValuesLoading.parameters?.docs,source:{originalSource:"{\n  args: {\n    oldVersion: getVersions()[0],\n    newVersion: getVersions()[7],\n    options: getVersions(),\n    loading: true,\n    oldValue: getCodeByVersion(getVersions()[0]),\n    newValue: getCodeByVersion(getVersions()[7])\n  }\n}",...NoValuesLoading.parameters?.docs?.source}}},LoadingWithCode.parameters={...LoadingWithCode.parameters,docs:{...LoadingWithCode.parameters?.docs,source:{originalSource:"{\n  args: {\n    oldVersion: getVersions()[0],\n    newVersion: getVersions()[1],\n    options: getVersions(),\n    loading: true,\n    oldValue: getCodeByVersion(getVersions()[0]),\n    newValue: getCodeByVersion(getVersions()[1])\n  }\n}",...LoadingWithCode.parameters?.docs?.source}}},ManyChanges.parameters={...ManyChanges.parameters,docs:{...ManyChanges.parameters?.docs,source:{originalSource:"{\n  args: {\n    oldVersion: getVersions()[2],\n    newVersion: getVersions()[3],\n    options: getVersions(),\n    oldValue: getCodeByVersion(getVersions()[2]),\n    newValue: getCodeByVersion(getVersions()[3])\n  }\n}",...ManyChanges.parameters?.docs?.source}}}}}]);