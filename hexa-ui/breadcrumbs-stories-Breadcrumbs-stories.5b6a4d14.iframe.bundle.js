"use strict";(self.webpackChunk_kaspersky_hexa_ui=self.webpackChunk_kaspersky_hexa_ui||[]).push([[5814],{"./design-system/palette/Palette.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{u:()=>StaticPalette,r:()=>ThemedPalette});var ThemeKey=__webpack_require__("./design-system/types/ThemeKey.ts"),Typography=__webpack_require__("./src/typography/Typography.tsx"),react=__webpack_require__("./node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),js=__webpack_require__("./node_modules/@kaspersky/hexa-ui-core/esm/colors/js/index.js");const convertHexUnitTo256=hexStr=>parseInt(hexStr.repeat(2/hexStr.length),16),hexToRGBA=hex=>{if(!(hex=>/^#([A-Fa-f0-9]{3,4}){1,2}$/.test(hex))(hex))return"";const chunkSize=Math.floor((hex.length-1)/3),hexArr=((st,chunkSize)=>st.match(new RegExp(`.{${chunkSize}}`,"g")))(hex.slice(1),chunkSize),[r,g,b,a]=hexArr.map(convertHexUnitTo256);return`rgba(${r}, ${g}, ${b}, ${String((a=>void 0!==a?a/255:1)(a)).slice(0,3)})`},getTokenByColorValue=(colors,value)=>Object.keys(colors).find((token=>colors[token]===value&&token.includes("_"))),ColorItem=styled_components_browser_esm.Ay.div.withConfig({displayName:"Palette__ColorItem",componentId:"sc-ir1kn8-0"})(["display:flex;align-items:center;gap:8px;",";"],(props=>props.margin&&`margin-left: ${props.margin}px;`)),Text=(0,styled_components_browser_esm.Ay)(Typography.E).withConfig({displayName:"Palette__Text",componentId:"sc-ir1kn8-1"})(["",";",";"],(props=>props.width&&`width: ${props.width}px;`),(props=>props.margin&&`margin-left: ${props.margin}px;`)),ColorItemRow=styled_components_browser_esm.Ay.div.withConfig({displayName:"Palette__ColorItemRow",componentId:"sc-ir1kn8-2"})(["display:flex;padding:8px;justify-content:space-between;align-items:center;min-width:450px;.ds-colorBox{background-color:",";width:48px;height:32px;}",""],(props=>props.color),(props=>props.theme===ThemeKey.H.Dark&&`\n    background-color: ${js.Tj.coldgrey_900};\n    color: ${js.Tj.neutral_0};\n  `)),ColorBox=styled_components_browser_esm.Ay.div.withConfig({displayName:"Palette__ColorBox",componentId:"sc-ir1kn8-3"})(["margin:0 8px;.ds-colorBox{background-color:",";width:150px;height:50px;}"],(props=>props.color)),ColorGroup=styled_components_browser_esm.Ay.div.withConfig({displayName:"Palette__ColorGroup",componentId:"sc-ir1kn8-4"})(["padding:10px 10px 20px 10px;display:flex;"]),Container=styled_components_browser_esm.Ay.div.withConfig({displayName:"Palette__Container",componentId:"sc-ir1kn8-5"})(["display:flex;flex-direction:column;gap:16px;min-width:1200px;"]),StaticPalette=({source})=>{const groupedColors=(colorPalette=>{const groupedColors={};return Object.keys(colorPalette).forEach((key=>{const groupKey=key.split("_").slice(0,-1).join("_");groupedColors[groupKey]||(groupedColors[groupKey]={}),groupedColors[groupKey][key]=colorPalette[key]})),groupedColors})(source);return react.createElement(Container,null,Object.entries(groupedColors).map((([groupKey,groupValue])=>react.createElement(ColorGroup,{key:groupKey},Object.entries(groupValue).map((([colorKey,colorValue])=>react.createElement(ColorBox,{color:colorValue,key:colorKey},colorKey,react.createElement("div",{className:"ds-colorBox"}))))))))},KEY_TO_LEVEL_MAP={1:{textType:"H5",margin:0},2:{textType:"H6",margin:8},3:{textType:"BTM2",margin:16},4:{textType:"BTM3",margin:32},5:{textType:"BTM4",margin:64}},ThemedPalette=({source})=>{const withTokensAliases=(0,react.useMemo)((()=>{const addAliases=(obj,level=1)=>Object.keys(obj).reduce(((acc,key)=>("object"!=typeof obj[key]||"dark"in obj[key]?acc[key]={light:{value:obj[key].light,alias:getTokenByColorValue(js.Tj,obj[key].light)},dark:{value:obj[key].dark,alias:getTokenByColorValue(js.Tj,obj[key].dark)}}:acc[key]=addAliases(obj[key],level+1),acc)),{});return addAliases(source)}),[source]),displayPalette=(obj,level=1)=>Object.keys(obj).map((key=>{if("object"==typeof obj[key]&&"dark"in obj[key]&&"light"in obj[key]){const color=obj[key];return react.createElement(ColorItem,{margin:KEY_TO_LEVEL_MAP[level].margin,key},react.createElement(Text,{width:128},key),react.createElement(ColorItemRow,{color:color.light.value},react.createElement("div",{className:"ds-colorBox"}),react.createElement(Text,{width:120},color.light.alias),react.createElement(Text,{width:90},color.light.value),react.createElement(Text,{width:160},hexToRGBA(color.light.value))),react.createElement(ColorItemRow,{color:color.dark.value,theme:ThemeKey.H.Dark},react.createElement("div",{className:"ds-colorBox"}),react.createElement(Text,{width:120,theme:ThemeKey.H.Dark},color.dark.alias),react.createElement(Text,{width:90,theme:ThemeKey.H.Dark},color.dark.value),react.createElement(Text,{width:160,theme:ThemeKey.H.Dark},hexToRGBA(color.dark.value))))}return react.createElement("div",{key},react.createElement(Text,{type:KEY_TO_LEVEL_MAP[level].textType||"BTM4",margin:KEY_TO_LEVEL_MAP[level].margin},key,displayPalette(obj[key],level+1)))}));return react.createElement(Container,null,displayPalette(withTokensAliases))};StaticPalette.__docgenInfo={description:"",methods:[],displayName:"StaticPalette",props:{source:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n  [key: string]: string\n}",signature:{properties:[{key:{name:"string"},value:{name:"string",required:!0}}]}},description:""}}},ThemedPalette.__docgenInfo={description:"",methods:[],displayName:"ThemedPalette",props:{source:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n  [key: string]: T | Palette<T>\n}",signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"T | Palette<T>",elements:[{name:"signature",type:"object",raw:"{\n  light: string,\n  dark: string\n}",signature:{properties:[{key:"light",value:{name:"string",required:!0}},{key:"dark",value:{name:"string",required:!0}}]}},{name:"Palette"}],required:!0}}]}},description:""}}}},"./src/breadcrumbs/stories/Breadcrumbs.stories.tsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ColorTokens:()=>ColorTokens,WithMoreButton:()=>WithMoreButton,WithRouting:()=>WithRouting,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _design_system_palette__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./design-system/palette/Palette.tsx"),_sb_badges__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./.storybook/badges.tsx"),_sb_components_Meta__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./.storybook/components/Meta/withMeta.tsx"),_sb_helpers__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./.storybook/helpers.ts"),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/index.js"),_kaspersky_hexa_ui_core_colors_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@kaspersky/hexa-ui-core/esm/colors/js/index.js"),_meta_meta_json__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/breadcrumbs/__meta__/meta.json"),_Breadcrumbs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/breadcrumbs/Breadcrumbs.tsx");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}const storyRoutes=(0,__webpack_require__("./src/breadcrumbs/helpers.ts").S)(),__WEBPACK_DEFAULT_EXPORT__={title:"Hexa UI Components/Breadcrumbs",component:_Breadcrumbs__WEBPACK_IMPORTED_MODULE_7__.BI,argTypes:{...(0,_sb_helpers__WEBPACK_IMPORTED_MODULE_3__.Of)(["theme"])},args:{testId:"breadcrumbs-test-id",klId:"breadcrumbs-kl-id",size:"medium",routes:storyRoutes},parameters:{badges:[_sb_badges__WEBPACK_IMPORTED_MODULE_1__.j.stable,_sb_badges__WEBPACK_IMPORTED_MODULE_1__.j.reviewedByDesign],docs:{page:(0,_sb_components_Meta__WEBPACK_IMPORTED_MODULE_2__.C)(_meta_meta_json__WEBPACK_IMPORTED_MODULE_6__)},design:_meta_meta_json__WEBPACK_IMPORTED_MODULE_6__.pixsoView}},WithMoreButton={},WithRouting={render:args=>{const[routes,setRoutes]=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(storyRoutes),onClickHandler=(0,react__WEBPACK_IMPORTED_MODULE_4__.useCallback)((i=>{setRoutes((routes=>"medium"===args.size?routes.slice(0,i+1):routes.slice(0,i)))}),[args.size]);return react__WEBPACK_IMPORTED_MODULE_4__.createElement(_Breadcrumbs__WEBPACK_IMPORTED_MODULE_7__.BI,_extends({},args,{routes:routes.map(((route,i)=>({...route,onClick:()=>onClickHandler(i)})))}))}},ColorTokens={args:{source:_kaspersky_hexa_ui_core_colors_js__WEBPACK_IMPORTED_MODULE_5__.Ah.breadcrumbs},render:args=>react__WEBPACK_IMPORTED_MODULE_4__.createElement(_design_system_palette__WEBPACK_IMPORTED_MODULE_0__.r,args)},__namedExportsOrder=["WithMoreButton","WithRouting","ColorTokens"];WithMoreButton.parameters={...WithMoreButton.parameters,docs:{...WithMoreButton.parameters?.docs,source:{originalSource:"{}",...WithMoreButton.parameters?.docs?.source}}},WithRouting.parameters={...WithRouting.parameters,docs:{...WithRouting.parameters?.docs,source:{originalSource:"{\n  render: args => {\n    const [routes, setRoutes] = useState<Route[]>(storyRoutes);\n    const onClickHandler = useCallback(i => {\n      setRoutes(routes => args.size === 'medium' ? routes.slice(0, i + 1) : routes.slice(0, i));\n    }, [args.size]);\n    return <Breadcrumbs {...args} routes={routes.map((route, i) => ({\n      ...route,\n      onClick: () => onClickHandler(i)\n    }))} />;\n  }\n}",...WithRouting.parameters?.docs?.source}}},ColorTokens.parameters={...ColorTokens.parameters,docs:{...ColorTokens.parameters?.docs,source:{originalSource:"{\n  args: {\n    source: componentColors.breadcrumbs\n  },\n  render: args => <ThemedPalette {...args} />\n}",...ColorTokens.parameters?.docs?.source}}}}}]);