/*! For license information please see 2881.7d47f89c.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_kaspersky_hexa_ui=self.webpackChunk_kaspersky_hexa_ui||[]).push([[2881],{"./node_modules/@ant-design/icons/es/icons/CloseCircleFilled.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>icons_CloseCircleFilled});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js");const asn_CloseCircleFilled={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};var AntdIcon=__webpack_require__("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),CloseCircleFilled_CloseCircleFilled=function CloseCircleFilled(props,ref){return react.createElement(AntdIcon.A,(0,objectSpread2.A)((0,objectSpread2.A)({},props),{},{ref,icon:asn_CloseCircleFilled}))};const icons_CloseCircleFilled=react.forwardRef(CloseCircleFilled_CloseCircleFilled)},"./node_modules/@ant-design/icons/es/icons/DownOutlined.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>icons_DownOutlined});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js");const asn_DownOutlined={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};var AntdIcon=__webpack_require__("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),DownOutlined_DownOutlined=function DownOutlined(props,ref){return react.createElement(AntdIcon.A,(0,objectSpread2.A)((0,objectSpread2.A)({},props),{},{ref,icon:asn_DownOutlined}))};const icons_DownOutlined=react.forwardRef(DownOutlined_DownOutlined)},"./node_modules/@ant-design/icons/es/icons/SearchOutlined.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>icons_SearchOutlined});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react=__webpack_require__("./node_modules/react/index.js");const asn_SearchOutlined={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};var AntdIcon=__webpack_require__("./node_modules/@ant-design/icons/es/components/AntdIcon.js"),SearchOutlined_SearchOutlined=function SearchOutlined(props,ref){return react.createElement(AntdIcon.A,(0,objectSpread2.A)((0,objectSpread2.A)({},props),{},{ref,icon:asn_SearchOutlined}))};const icons_SearchOutlined=react.forwardRef(SearchOutlined_SearchOutlined)},"./node_modules/antd/es/_util/hooks/useForceUpdate.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>useForceUpdate});var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js");function useForceUpdate(){var _React$useReducer=react__WEBPACK_IMPORTED_MODULE_1__.useReducer((function(x){return x+1}),0);return(0,_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.A)(_React$useReducer,2)[1]}},"./node_modules/react-zoom-pan-pinch/dist/index.esm.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{GT:()=>TransformWrapper,WZ:()=>TransformComponent});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};function __spreadArray(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||from)}var roundNumber=function(num,decimal){return Number(num.toFixed(decimal))},handleCallback=function(context,event,callback){callback&&"function"==typeof callback&&callback(context,event)},animations={easeOut:function(t){return-Math.cos(t*Math.PI)/2+.5},linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}},handleCancelAnimationFrame=function(animation){"number"==typeof animation&&cancelAnimationFrame(animation)},handleCancelAnimation=function(contextInstance){contextInstance.mounted&&(handleCancelAnimationFrame(contextInstance.animation),contextInstance.animate=!1,contextInstance.animation=null,contextInstance.velocity=null)};function handleSetupAnimation(contextInstance,animationName,animationTime,callback){if(contextInstance.mounted){var startTime=(new Date).getTime();handleCancelAnimation(contextInstance),contextInstance.animation=function(){if(!contextInstance.mounted)return handleCancelAnimationFrame(contextInstance.animation);var frameTime=(new Date).getTime()-startTime,step=(0,animations[animationName])(frameTime/animationTime);frameTime>=animationTime?(callback(1),contextInstance.animation=null):contextInstance.animation&&(callback(step),requestAnimationFrame(contextInstance.animation))},requestAnimationFrame(contextInstance.animation)}}function animate(contextInstance,targetState,animationTime,animationName){var isValid=function isValidTargetState(targetState){var scale=targetState.scale,positionX=targetState.positionX,positionY=targetState.positionY;if(isNaN(scale)||isNaN(positionX)||isNaN(positionY))return!1;return!0}(targetState);if(contextInstance.mounted&&isValid){var setTransformState=contextInstance.setTransformState,_a=contextInstance.transformState,scale=_a.scale,positionX=_a.positionX,positionY=_a.positionY,scaleDiff=targetState.scale-scale,positionXDiff=targetState.positionX-positionX,positionYDiff=targetState.positionY-positionY;0===animationTime?setTransformState(targetState.scale,targetState.positionX,targetState.positionY):handleSetupAnimation(contextInstance,animationName,animationTime,(function(step){setTransformState(scale+scaleDiff*step,positionX+positionXDiff*step,positionY+positionYDiff*step)}))}}var calculateBounds=function(contextInstance,newScale){var wrapperComponent=contextInstance.wrapperComponent,contentComponent=contextInstance.contentComponent,centerZoomedOut=contextInstance.setup.centerZoomedOut;if(!wrapperComponent||!contentComponent)throw new Error("Components are not mounted");var _a=function getComponentsSizes(wrapperComponent,contentComponent,newScale){var wrapperWidth=wrapperComponent.offsetWidth,wrapperHeight=wrapperComponent.offsetHeight,newContentWidth=contentComponent.offsetWidth*newScale,newContentHeight=contentComponent.offsetHeight*newScale;return{wrapperWidth,wrapperHeight,newContentWidth,newDiffWidth:wrapperWidth-newContentWidth,newContentHeight,newDiffHeight:wrapperHeight-newContentHeight}}(wrapperComponent,contentComponent,newScale),wrapperWidth=_a.wrapperWidth,wrapperHeight=_a.wrapperHeight,bounds=function(wrapperWidth,newContentWidth,diffWidth,wrapperHeight,newContentHeight,diffHeight,centerZoomedOut){var scaleWidthFactor=wrapperWidth>newContentWidth?diffWidth*(centerZoomedOut?1:.5):0,scaleHeightFactor=wrapperHeight>newContentHeight?diffHeight*(centerZoomedOut?1:.5):0;return{minPositionX:wrapperWidth-newContentWidth-scaleWidthFactor,maxPositionX:scaleWidthFactor,minPositionY:wrapperHeight-newContentHeight-scaleHeightFactor,maxPositionY:scaleHeightFactor}}(wrapperWidth,_a.newContentWidth,_a.newDiffWidth,wrapperHeight,_a.newContentHeight,_a.newDiffHeight,Boolean(centerZoomedOut));return bounds},handleCalculateBounds=function(contextInstance,newScale){var bounds=calculateBounds(contextInstance,newScale);return contextInstance.bounds=bounds,bounds};function getMouseBoundedPosition(positionX,positionY,bounds,limitToBounds,paddingValueX,paddingValueY,wrapperComponent){var minPositionX=bounds.minPositionX,minPositionY=bounds.minPositionY,maxPositionX=bounds.maxPositionX,maxPositionY=bounds.maxPositionY,paddingX=0,paddingY=0;return wrapperComponent&&(paddingX=paddingValueX,paddingY=paddingValueY),{x:boundLimiter(positionX,minPositionX-paddingX,maxPositionX+paddingX,limitToBounds),y:boundLimiter(positionY,minPositionY-paddingY,maxPositionY+paddingY,limitToBounds)}}var boundLimiter=function(value,minBound,maxBound,isActive){return roundNumber(isActive?value<minBound?minBound:value>maxBound?maxBound:value:value,2)};function handleCalculateZoomPositions(contextInstance,mouseX,mouseY,newScale,bounds,limitToBounds){var _a=contextInstance.transformState,scale=_a.scale,positionX=_a.positionX,positionY=_a.positionY,scaleDifference=newScale-scale;return"number"!=typeof mouseX||"number"!=typeof mouseY?(console.error("Mouse X and Y position were not provided!"),{x:positionX,y:positionY}):getMouseBoundedPosition(positionX-mouseX*scaleDifference,positionY-mouseY*scaleDifference,bounds,limitToBounds,0,0,null)}function checkZoomBounds(zoom,minScale,maxScale,zoomPadding,enablePadding){var minScaleWithPadding=minScale-(enablePadding?zoomPadding:0);return!isNaN(maxScale)&&zoom>=maxScale?maxScale:!isNaN(minScale)&&zoom<=minScaleWithPadding?minScaleWithPadding:zoom}var isPanningStartAllowed=function(contextInstance,event){var excluded=contextInstance.setup.panning.excluded,isInitialized=contextInstance.isInitialized,wrapperComponent=contextInstance.wrapperComponent,target=event.target,isWrapperChild=null==wrapperComponent?void 0:wrapperComponent.contains(target);return!!(isInitialized&&target&&isWrapperChild)&&!isExcludedNode(target,excluded)},isPanningAllowed=function(contextInstance){var isInitialized=contextInstance.isInitialized,isPanning=contextInstance.isPanning,disabled=contextInstance.setup.panning.disabled;return!(!isInitialized||!isPanning||disabled)};var getPaddingValue=function(contextInstance,size){var setup=contextInstance.setup,scale=contextInstance.transformState.scale,minScale=setup.minScale;return size>0&&scale>=minScale?size:0};function getVelocityPosition(newPosition,startPosition,currentPosition,isLocked,limitToBounds,minPosition,maxPosition,minTarget,maxTarget,step){if(limitToBounds){var calculatedPosition;if(startPosition>maxPosition&&currentPosition>maxPosition)return(calculatedPosition=maxPosition+(newPosition-maxPosition)*step)>maxTarget?maxTarget:calculatedPosition<maxPosition?maxPosition:calculatedPosition;if(startPosition<minPosition&&currentPosition<minPosition)return(calculatedPosition=minPosition+(newPosition-minPosition)*step)<minTarget?minTarget:calculatedPosition>minPosition?minPosition:calculatedPosition}return isLocked?startPosition:boundLimiter(newPosition,minPosition,maxPosition,limitToBounds)}function handleCalculateVelocity(contextInstance,position){var isAllowed=function(contextInstance){var mounted=contextInstance.mounted,_a=contextInstance.setup,disabled=_a.disabled,velocityAnimation=_a.velocityAnimation,scale=contextInstance.transformState.scale;return!(velocityAnimation.disabled&&!(scale>1)&&disabled&&!mounted)}(contextInstance);if(isAllowed){var lastMousePosition=contextInstance.lastMousePosition,velocityTime=contextInstance.velocityTime,setup=contextInstance.setup,wrapperComponent=contextInstance.wrapperComponent,equalToMove=setup.velocityAnimation.equalToMove,now=Date.now();if(lastMousePosition&&velocityTime&&wrapperComponent){var sizeMultiplier=function getSizeMultiplier(wrapperComponent,equalToMove){return equalToMove?Math.min(1,wrapperComponent.offsetWidth/window.innerWidth):1}(wrapperComponent,equalToMove),distanceX=position.x-lastMousePosition.x,distanceY=position.y-lastMousePosition.y,velocityX=distanceX/sizeMultiplier,velocityY=distanceY/sizeMultiplier,interval=now-velocityTime,speed=distanceX*distanceX+distanceY*distanceY,velocity=Math.sqrt(speed)/interval;contextInstance.velocity={velocityX,velocityY,total:velocity}}contextInstance.lastMousePosition=position,contextInstance.velocityTime=now}}function handlePanningStart(contextInstance,event){var scale=contextInstance.transformState.scale;handleCancelAnimation(contextInstance),handleCalculateBounds(contextInstance,scale),event.touches?function(contextInstance,event){var touches=event.touches,_a=contextInstance.transformState,positionX=_a.positionX,positionY=_a.positionY;if(contextInstance.isPanning=!0,1===touches.length){var x=touches[0].clientX,y=touches[0].clientY;contextInstance.startCoords={x:x-positionX,y:y-positionY}}}(contextInstance,event):function(contextInstance,event){var _a=contextInstance.transformState,positionX=_a.positionX,positionY=_a.positionY;contextInstance.isPanning=!0;var x=event.clientX,y=event.clientY;contextInstance.startCoords={x:x-positionX,y:y-positionY}}(contextInstance,event)}function handlePanning(contextInstance,clientX,clientY){var startCoords=contextInstance.startCoords,_a=contextInstance.setup.alignmentAnimation,sizeX=_a.sizeX,sizeY=_a.sizeY;if(startCoords){var _b=function(contextInstance,clientX,clientY){var startCoords=contextInstance.startCoords,transformState=contextInstance.transformState,panning=contextInstance.setup.panning,lockAxisX=panning.lockAxisX,lockAxisY=panning.lockAxisY,positionX=transformState.positionX,positionY=transformState.positionY;if(!startCoords)return{x:positionX,y:positionY};var mouseX=clientX-startCoords.x,mouseY=clientY-startCoords.y;return{x:lockAxisX?positionX:mouseX,y:lockAxisY?positionY:mouseY}}(contextInstance,clientX,clientY),x=_b.x,y=_b.y,paddingValueX=getPaddingValue(contextInstance,sizeX),paddingValueY=getPaddingValue(contextInstance,sizeY);handleCalculateVelocity(contextInstance,{x,y}),function handleNewPosition(contextInstance,newPositionX,newPositionY,paddingValueX,paddingValueY){var limitToBounds=contextInstance.setup.limitToBounds,wrapperComponent=contextInstance.wrapperComponent,bounds=contextInstance.bounds,_a=contextInstance.transformState,scale=_a.scale,positionX=_a.positionX,positionY=_a.positionY;if(wrapperComponent&&newPositionX!==positionX&&newPositionY!==positionY&&bounds){var _b=getMouseBoundedPosition(newPositionX,newPositionY,bounds,limitToBounds,paddingValueX,paddingValueY,wrapperComponent),x=_b.x,y=_b.y;contextInstance.setTransformState(scale,x,y)}}(contextInstance,x,y,paddingValueX,paddingValueY)}}function handlePanningEnd(contextInstance){if(contextInstance.isPanning){var velocityDisabled=contextInstance.setup.panning.velocityDisabled,velocity=contextInstance.velocity,wrapperComponent=contextInstance.wrapperComponent,contentComponent=contextInstance.contentComponent;contextInstance.isPanning=!1,contextInstance.animate=!1,contextInstance.animation=null;var wrapperRect=null==wrapperComponent?void 0:wrapperComponent.getBoundingClientRect(),contentRect=null==contentComponent?void 0:contentComponent.getBoundingClientRect(),wrapperWidth=(null==wrapperRect?void 0:wrapperRect.width)||0,wrapperHeight=(null==wrapperRect?void 0:wrapperRect.height)||0,contentWidth=(null==contentRect?void 0:contentRect.width)||0,contentHeight=(null==contentRect?void 0:contentRect.height)||0,isZoomed=wrapperWidth<contentWidth||wrapperHeight<contentHeight;!velocityDisabled&&velocity&&(null==velocity?void 0:velocity.total)>.1&&isZoomed?function handleVelocityPanning(contextInstance){var velocity=contextInstance.velocity,bounds=contextInstance.bounds,setup=contextInstance.setup,wrapperComponent=contextInstance.wrapperComponent,isAllowed=function(contextInstance){var mounted=contextInstance.mounted,velocity=contextInstance.velocity,bounds=contextInstance.bounds,_a=contextInstance.setup,disabled=_a.disabled,velocityAnimation=_a.velocityAnimation,scale=contextInstance.transformState.scale;return!(velocityAnimation.disabled&&!(scale>1)&&disabled&&!mounted||!velocity||!bounds)}(contextInstance);if(isAllowed&&velocity&&bounds&&wrapperComponent){var velocityX=velocity.velocityX,velocityY=velocity.velocityY,total=velocity.total,maxPositionX=bounds.maxPositionX,minPositionX=bounds.minPositionX,maxPositionY=bounds.maxPositionY,minPositionY=bounds.minPositionY,limitToBounds=setup.limitToBounds,alignmentAnimation=setup.alignmentAnimation,zoomAnimation=setup.zoomAnimation,panning=setup.panning,lockAxisY=panning.lockAxisY,lockAxisX=panning.lockAxisX,animationType=zoomAnimation.animationType,sizeX=alignmentAnimation.sizeX,sizeY=alignmentAnimation.sizeY,alignAnimationTime=alignmentAnimation.velocityAlignmentTime,moveAnimationTime=function getVelocityMoveTime(contextInstance,velocity){var velocityAnimation=contextInstance.setup.velocityAnimation,equalToMove=velocityAnimation.equalToMove,animationTime=velocityAnimation.animationTime,sensitivity=velocityAnimation.sensitivity;return equalToMove?animationTime*velocity*sensitivity:animationTime}(contextInstance,total),finalAnimationTime=Math.max(moveAnimationTime,alignAnimationTime),paddingValueX=getPaddingValue(contextInstance,sizeX),paddingValueY=getPaddingValue(contextInstance,sizeY),paddingX=paddingValueX*wrapperComponent.offsetWidth/100,paddingY=paddingValueY*wrapperComponent.offsetHeight/100,maxTargetX=maxPositionX+paddingX,minTargetX=minPositionX-paddingX,maxTargetY=maxPositionY+paddingY,minTargetY=minPositionY-paddingY,startState=contextInstance.transformState,startTime=(new Date).getTime();handleSetupAnimation(contextInstance,animationType,finalAnimationTime,(function(step){var _a=contextInstance.transformState,scale=_a.scale,positionX=_a.positionX,positionY=_a.positionY,animationProgress=((new Date).getTime()-startTime)/alignAnimationTime,alignStep=1-(0,animations[alignmentAnimation.animationType])(Math.min(1,animationProgress)),customStep=1-step,newPositionX=positionX+velocityX*customStep,newPositionY=positionY+velocityY*customStep,currentPositionX=getVelocityPosition(newPositionX,startState.positionX,positionX,lockAxisX,limitToBounds,minPositionX,maxPositionX,minTargetX,maxTargetX,alignStep),currentPositionY=getVelocityPosition(newPositionY,startState.positionY,positionY,lockAxisY,limitToBounds,minPositionY,maxPositionY,minTargetY,maxTargetY,alignStep);positionX===newPositionX&&positionY===newPositionY||contextInstance.setTransformState(scale,currentPositionX,currentPositionY)}))}}(contextInstance):handleAlignToBounds(contextInstance)}}function handleAlignToBounds(contextInstance){var scale=contextInstance.transformState.scale,_a=contextInstance.setup,minScale=_a.minScale,alignmentAnimation=_a.alignmentAnimation,disabled=alignmentAnimation.disabled,sizeX=alignmentAnimation.sizeX,sizeY=alignmentAnimation.sizeY,animationTime=alignmentAnimation.animationTime,animationType=alignmentAnimation.animationType;if(!(disabled||scale<minScale||!sizeX&&!sizeY)){var targetState=function handlePanToBounds(contextInstance){var _a=contextInstance.transformState,positionX=_a.positionX,positionY=_a.positionY,scale=_a.scale,_b=contextInstance.setup,disabled=_b.disabled,limitToBounds=_b.limitToBounds,centerZoomedOut=_b.centerZoomedOut,wrapperComponent=contextInstance.wrapperComponent;if(!disabled&&wrapperComponent&&contextInstance.bounds){var _c=contextInstance.bounds,maxPositionX=_c.maxPositionX,minPositionX=_c.minPositionX,maxPositionY=_c.maxPositionY,minPositionY=_c.minPositionY,xChanged=positionX>maxPositionX||positionX<minPositionX,yChanged=positionY>maxPositionY||positionY<minPositionY,_d=handleCalculateZoomPositions(contextInstance,positionX>maxPositionX?wrapperComponent.offsetWidth:contextInstance.setup.minPositionX||0,positionY>maxPositionY?wrapperComponent.offsetHeight:contextInstance.setup.minPositionY||0,scale,contextInstance.bounds,limitToBounds||centerZoomedOut),x=_d.x,y=_d.y;return{scale,positionX:xChanged?x:positionX,positionY:yChanged?y:positionY}}}(contextInstance);targetState&&animate(contextInstance,targetState,animationTime,animationType)}}function handleAlignToScaleBounds(contextInstance,mousePositionX,mousePositionY){var scale=contextInstance.transformState.scale,wrapperComponent=contextInstance.wrapperComponent,_a=contextInstance.setup,minScale=_a.minScale,limitToBounds=_a.limitToBounds,zoomAnimation=_a.zoomAnimation,disabled=zoomAnimation.disabled,animationTime=zoomAnimation.animationTime,animationType=zoomAnimation.animationType,isDisabled=disabled||scale>=minScale;if((scale>=1||limitToBounds)&&handleAlignToBounds(contextInstance),!isDisabled&&wrapperComponent&&contextInstance.mounted){var targetState=handleZoomToPoint(contextInstance,minScale,mousePositionX||wrapperComponent.offsetWidth/2,mousePositionY||wrapperComponent.offsetHeight/2);targetState&&animate(contextInstance,targetState,animationTime,animationType)}}function handleZoomToPoint(contextInstance,scale,mouseX,mouseY){var _a=contextInstance.setup,minScale=_a.minScale,maxScale=_a.maxScale,limitToBounds=_a.limitToBounds,newScale=checkZoomBounds(roundNumber(scale,2),minScale,maxScale,0,!1),_b=handleCalculateZoomPositions(contextInstance,mouseX,mouseY,newScale,handleCalculateBounds(contextInstance,newScale),limitToBounds);return{scale:newScale,positionX:_b.x,positionY:_b.y}}var initialState={previousScale:1,scale:1,positionX:0,positionY:0},contextInitialState=__assign(__assign({},initialState),{setComponents:function(){},contextInstance:null}),initialSetup={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,wheel:{step:.2,disabled:!1,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},createState=function(props){var _a,_b,_c,_d;return{previousScale:null!==(_a=props.initialScale)&&void 0!==_a?_a:initialState.scale,scale:null!==(_b=props.initialScale)&&void 0!==_b?_b:initialState.scale,positionX:null!==(_c=props.initialPositionX)&&void 0!==_c?_c:initialState.positionX,positionY:null!==(_d=props.initialPositionY)&&void 0!==_d?_d:initialState.positionY}},createSetup=function(props){var newSetup=__assign({},initialSetup);return Object.keys(props).forEach((function(key){var validValue=void 0!==props[key];if(void 0!==initialSetup[key]&&validValue){var dataType=Object.prototype.toString.call(initialSetup[key]),isObject="[object Object]"===dataType,isArray="[object Array]"===dataType;newSetup[key]=isObject?__assign(__assign({},initialSetup[key]),props[key]):isArray?__spreadArray(__spreadArray([],initialSetup[key]),props[key]):props[key]}})),newSetup},handleCalculateButtonZoom=function(contextInstance,delta,step){var scale=contextInstance.transformState.scale,wrapperComponent=contextInstance.wrapperComponent,setup=contextInstance.setup,maxScale=setup.maxScale,minScale=setup.minScale,size=setup.zoomAnimation.size;if(!wrapperComponent)throw new Error("Wrapper is not mounted");var targetScale=scale*Math.exp(delta*step);return checkZoomBounds(roundNumber(targetScale,3),minScale,maxScale,size,!1)};function handleZoomToViewCenter(contextInstance,delta,step,animationTime,animationType){var wrapperComponent=contextInstance.wrapperComponent,_a=contextInstance.transformState,scale=_a.scale,positionX=_a.positionX,positionY=_a.positionY;if(!wrapperComponent)return console.error("No WrapperComponent found");var mouseX=(wrapperComponent.offsetWidth/2-positionX)/scale,mouseY=(wrapperComponent.offsetHeight/2-positionY)/scale,targetState=handleZoomToPoint(contextInstance,handleCalculateButtonZoom(contextInstance,delta,step),mouseX,mouseY);if(!targetState)return console.error("Error during zoom event. New transformation state was not calculated.");animate(contextInstance,targetState,animationTime,animationType)}function resetTransformations(contextInstance,animationTime,animationType){var setup=contextInstance.setup,wrapperComponent=contextInstance.wrapperComponent,limitToBounds=setup.limitToBounds,initialTransformation=createState(contextInstance.props),_a=contextInstance.transformState,scale=_a.scale,positionX=_a.positionX,positionY=_a.positionY;if(wrapperComponent){var newBounds=calculateBounds(contextInstance,initialTransformation.scale),boundedPositions=getMouseBoundedPosition(initialTransformation.positionX,initialTransformation.positionY,newBounds,limitToBounds,0,0,wrapperComponent),newState={scale:initialTransformation.scale,positionX:boundedPositions.x,positionY:boundedPositions.y};scale===initialTransformation.scale&&positionX===initialTransformation.positionX&&positionY===initialTransformation.positionY||animate(contextInstance,newState,animationTime,animationType)}}var zoomIn=function(contextInstance){return function(step,animationTime,animationType){void 0===step&&(step=.5),void 0===animationTime&&(animationTime=300),void 0===animationType&&(animationType="easeOut"),handleZoomToViewCenter(contextInstance,1,step,animationTime,animationType)}},zoomOut=function(contextInstance){return function(step,animationTime,animationType){void 0===step&&(step=.5),void 0===animationTime&&(animationTime=300),void 0===animationType&&(animationType="easeOut"),handleZoomToViewCenter(contextInstance,-1,step,animationTime,animationType)}},setTransform=function(contextInstance){return function(newPositionX,newPositionY,newScale,animationTime,animationType){void 0===animationTime&&(animationTime=300),void 0===animationType&&(animationType="easeOut");var _a=contextInstance.transformState,positionX=_a.positionX,positionY=_a.positionY,scale=_a.scale,wrapperComponent=contextInstance.wrapperComponent,contentComponent=contextInstance.contentComponent;if(!contextInstance.setup.disabled&&wrapperComponent&&contentComponent){var targetState={positionX:isNaN(newPositionX)?positionX:newPositionX,positionY:isNaN(newPositionY)?positionY:newPositionY,scale:isNaN(newScale)?scale:newScale};animate(contextInstance,targetState,animationTime,animationType)}}},resetTransform=function(contextInstance){return function(animationTime,animationType){void 0===animationTime&&(animationTime=200),void 0===animationType&&(animationType="easeOut"),resetTransformations(contextInstance,animationTime,animationType)}},centerView=function(contextInstance){return function(scale,animationTime,animationType){void 0===animationTime&&(animationTime=200),void 0===animationType&&(animationType="easeOut");var transformState=contextInstance.transformState,wrapperComponent=contextInstance.wrapperComponent,contentComponent=contextInstance.contentComponent;if(wrapperComponent&&contentComponent){var targetState=getCenterPosition(scale||transformState.scale,wrapperComponent,contentComponent);animate(contextInstance,targetState,animationTime,animationType)}}},zoomToElement=function(contextInstance){return function(node,scale,animationTime,animationType){void 0===animationTime&&(animationTime=600),void 0===animationType&&(animationType="easeOut"),handleCancelAnimation(contextInstance);var wrapperComponent=contextInstance.wrapperComponent,target="string"==typeof node?document.getElementById(node):node;if(wrapperComponent&&function isValidZoomNode(node){return node?void 0!==(null==node?void 0:node.offsetWidth)&&void 0!==(null==node?void 0:node.offsetHeight)||(console.error("Zoom node is not valid - it must contain offsetWidth and offsetHeight"),!1):(console.error("Zoom node not found"),!1)}(target)&&target&&wrapperComponent.contains(target)){var targetState=function calculateZoomToNode(contextInstance,node,customZoom){var wrapperComponent=contextInstance.wrapperComponent,_a=contextInstance.setup,limitToBounds=_a.limitToBounds,minScale=_a.minScale,maxScale=_a.maxScale;if(!wrapperComponent)return initialState;var wrapperRect=wrapperComponent.getBoundingClientRect(),nodeRect=function getOffset(element){for(var el=element,offsetLeft=0,offsetTop=0;el;)offsetLeft+=el.offsetLeft,offsetTop+=el.offsetTop,el=el.offsetParent;return{x:offsetLeft,y:offsetTop}}(node),nodeLeft=nodeRect.x,nodeTop=nodeRect.y,nodeWidth=node.offsetWidth,nodeHeight=node.offsetHeight,scaleX=wrapperComponent.offsetWidth/nodeWidth,scaleY=wrapperComponent.offsetHeight/nodeHeight,newScale=checkZoomBounds(customZoom||Math.min(scaleX,scaleY),minScale,maxScale,0,!1),offsetX=(wrapperRect.width-nodeWidth*newScale)/2,offsetY=(wrapperRect.height-nodeHeight*newScale)/2,_b=getMouseBoundedPosition((wrapperRect.left-nodeLeft)*newScale+offsetX,(wrapperRect.top-nodeTop)*newScale+offsetY,calculateBounds(contextInstance,newScale),limitToBounds,0,0,wrapperComponent);return{positionX:_b.x,positionY:_b.y,scale:newScale}}(contextInstance,target,scale);animate(contextInstance,targetState,animationTime,animationType)}}},getContext=function(contextInstance){return{instance:contextInstance,state:contextInstance.transformState,zoomIn:zoomIn(contextInstance),zoomOut:zoomOut(contextInstance),setTransform:setTransform(contextInstance),resetTransform:resetTransform(contextInstance),centerView:centerView(contextInstance),zoomToElement:zoomToElement(contextInstance)}};function makePassiveEventOption(){try{return{get passive(){return!1}}}catch(err){return!1}}var isExcludedNode=function(node,excluded){var targetTagName=node.tagName.toUpperCase();return!!excluded.find((function(tag){return tag.toUpperCase()===targetTagName}))||!!excluded.find((function(className){return node.classList.contains(className)}))},cancelTimeout=function(timeout){timeout&&clearTimeout(timeout)},getCenterPosition=function(scale,wrapperComponent,contentComponent){var contentWidth=contentComponent.offsetWidth*scale,contentHeight=contentComponent.offsetHeight*scale;return{scale,positionX:(wrapperComponent.offsetWidth-contentWidth)/2,positionY:(wrapperComponent.offsetHeight-contentHeight)/2}};function getMousePosition(event,contentComponent,scale){var contentRect=contentComponent.getBoundingClientRect(),mouseX=0,mouseY=0;if("clientX"in event)mouseX=(event.clientX-contentRect.left)/scale,mouseY=(event.clientY-contentRect.top)/scale;else{var touch=event.touches[0];mouseX=(touch.clientX-contentRect.left)/scale,mouseY=(touch.clientY-contentRect.top)/scale}return(isNaN(mouseX)||isNaN(mouseY))&&console.error("No mouse or touch offset found"),{x:mouseX,y:mouseY}}var getTouchDistance=function(event){return Math.sqrt(Math.pow(event.touches[0].pageX-event.touches[1].pageX,2)+Math.pow(event.touches[0].pageY-event.touches[1].pageY,2))},handleWheelZoom=function(contextInstance,event){var _a=contextInstance.props,onWheel=_a.onWheel,onZoom=_a.onZoom,contentComponent=contextInstance.contentComponent,setup=contextInstance.setup,scale=contextInstance.transformState.scale,limitToBounds=setup.limitToBounds,centerZoomedOut=setup.centerZoomedOut,zoomAnimation=setup.zoomAnimation,wheel=setup.wheel,size=zoomAnimation.size,disabled=zoomAnimation.disabled,step=wheel.step;if(!contentComponent)throw new Error("Component not mounted");event.preventDefault(),event.stopPropagation();var delta=function getDelta(event,customDelta){var num,defaultValue,deltaY=event?event.deltaY<0?1:-1:0;return defaultValue=deltaY,"number"==typeof(num=customDelta)?num:defaultValue}(event,null),newScale=function(contextInstance,delta,step,disablePadding,getTarget){var scale=contextInstance.transformState.scale,wrapperComponent=contextInstance.wrapperComponent,setup=contextInstance.setup,maxScale=setup.maxScale,minScale=setup.minScale,zoomAnimation=setup.zoomAnimation,size=zoomAnimation.size,disabled=zoomAnimation.disabled;if(!wrapperComponent)throw new Error("Wrapper is not mounted");var targetScale=scale+delta*(scale-scale*step)*step;if(getTarget)return targetScale;var paddingEnabled=!disablePadding&&!disabled;return checkZoomBounds(roundNumber(targetScale,3),minScale,maxScale,size,paddingEnabled)}(contextInstance,delta,step,!event.ctrlKey);if(scale!==newScale){var bounds=handleCalculateBounds(contextInstance,newScale),mousePosition=getMousePosition(event,contentComponent,scale),isLimitedToBounds=limitToBounds&&(disabled||0===size||centerZoomedOut),_b=handleCalculateZoomPositions(contextInstance,mousePosition.x,mousePosition.y,newScale,bounds,isLimitedToBounds),x=_b.x,y=_b.y;contextInstance.previousWheelEvent=event,contextInstance.setTransformState(newScale,x,y),handleCallback(getContext(contextInstance),event,onWheel),handleCallback(getContext(contextInstance),event,onZoom)}},handleWheelStop=function(contextInstance,event){var _a=contextInstance.props,onWheelStop=_a.onWheelStop,onZoomStop=_a.onZoomStop;cancelTimeout(contextInstance.wheelAnimationTimer),contextInstance.wheelAnimationTimer=setTimeout((function(){contextInstance.mounted&&(handleAlignToScaleBounds(contextInstance,event.x,event.y),contextInstance.wheelAnimationTimer=null)}),100);var hasStoppedZooming=function(contextInstance,event){var previousWheelEvent=contextInstance.previousWheelEvent,scale=contextInstance.transformState.scale,_a=contextInstance.setup,maxScale=_a.maxScale,minScale=_a.minScale;return!!previousWheelEvent&&(scale<maxScale||scale>minScale||Math.sign(previousWheelEvent.deltaY)!==Math.sign(event.deltaY)||previousWheelEvent.deltaY>0&&previousWheelEvent.deltaY<event.deltaY||previousWheelEvent.deltaY<0&&previousWheelEvent.deltaY>event.deltaY||Math.sign(previousWheelEvent.deltaY)!==Math.sign(event.deltaY))}(contextInstance,event);hasStoppedZooming&&(cancelTimeout(contextInstance.wheelStopEventTimer),contextInstance.wheelStopEventTimer=setTimeout((function(){contextInstance.mounted&&(contextInstance.wheelStopEventTimer=null,handleCallback(getContext(contextInstance),event,onWheelStop),handleCallback(getContext(contextInstance),event,onZoomStop))}),160))},handlePinchZoom=function(contextInstance,event){var contentComponent=contextInstance.contentComponent,pinchStartDistance=contextInstance.pinchStartDistance,scale=contextInstance.transformState.scale,_a=contextInstance.setup,limitToBounds=_a.limitToBounds,centerZoomedOut=_a.centerZoomedOut,zoomAnimation=_a.zoomAnimation,disabled=zoomAnimation.disabled,size=zoomAnimation.size;if(null!==pinchStartDistance&&contentComponent){var midPoint=function(event,scale,contentComponent){var contentRect=contentComponent.getBoundingClientRect(),touches=event.touches,firstPointX=roundNumber(touches[0].clientX-contentRect.left,5),firstPointY=roundNumber(touches[0].clientY-contentRect.top,5);return{x:(firstPointX+roundNumber(touches[1].clientX-contentRect.left,5))/2/scale,y:(firstPointY+roundNumber(touches[1].clientY-contentRect.top,5))/2/scale}}(event,scale,contentComponent);if(isFinite(midPoint.x)&&isFinite(midPoint.y)){var currentDistance=getTouchDistance(event),newScale=function(contextInstance,currentDistance){var pinchStartScale=contextInstance.pinchStartScale,pinchStartDistance=contextInstance.pinchStartDistance,setup=contextInstance.setup,maxScale=setup.maxScale,minScale=setup.minScale,zoomAnimation=setup.zoomAnimation,size=zoomAnimation.size,disabled=zoomAnimation.disabled;if(!pinchStartScale||null===pinchStartDistance||!currentDistance)throw new Error("Pinch touches distance was not provided");return currentDistance<0?contextInstance.transformState.scale:checkZoomBounds(roundNumber(currentDistance/pinchStartDistance*pinchStartScale,2),minScale,maxScale,size,!disabled)}(contextInstance,currentDistance);if(newScale!==scale){var bounds=handleCalculateBounds(contextInstance,newScale),isLimitedToBounds=limitToBounds&&(disabled||0===size||centerZoomedOut),_b=handleCalculateZoomPositions(contextInstance,midPoint.x,midPoint.y,newScale,bounds,isLimitedToBounds),x=_b.x,y=_b.y;contextInstance.pinchMidpoint=midPoint,contextInstance.lastDistance=currentDistance,contextInstance.setTransformState(newScale,x,y)}}}};var Context=react__WEBPACK_IMPORTED_MODULE_0__.createContext(contextInitialState),TransformContext=function(_super){function TransformContext(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.mounted=!0,_this.transformState=createState(_this.props),_this.setup=createSetup(_this.props),_this.wrapperComponent=null,_this.contentComponent=null,_this.isInitialized=!1,_this.bounds=null,_this.previousWheelEvent=null,_this.wheelStopEventTimer=null,_this.wheelAnimationTimer=null,_this.isPanning=!1,_this.startCoords=null,_this.lastTouch=null,_this.distance=null,_this.lastDistance=null,_this.pinchStartDistance=null,_this.pinchStartScale=null,_this.pinchMidpoint=null,_this.velocity=null,_this.velocityTime=null,_this.lastMousePosition=null,_this.animate=!1,_this.animation=null,_this.maxBounds=null,_this.pressedKeys={},_this.handleInitializeWrapperEvents=function(wrapper){var passive=makePassiveEventOption();wrapper.addEventListener("wheel",_this.onWheelZoom,passive),wrapper.addEventListener("dblclick",_this.onDoubleClick,passive),wrapper.addEventListener("touchstart",_this.onTouchPanningStart,passive),wrapper.addEventListener("touchmove",_this.onTouchPanning,passive),wrapper.addEventListener("touchend",_this.onTouchPanningStop,passive)},_this.handleInitialize=function(){var centerOnInit=_this.setup.centerOnInit;_this.applyTransformation(),_this.forceUpdate(),centerOnInit&&(setTimeout((function(){_this.mounted&&_this.setCenter()}),50),setTimeout((function(){_this.mounted&&_this.setCenter()}),100),setTimeout((function(){_this.mounted&&_this.setCenter()}),200))},_this.onWheelZoom=function(event){if(!_this.setup.disabled){var isAllowed=function(contextInstance,event){var _a=contextInstance.setup.wheel,disabled=_a.disabled,wheelDisabled=_a.wheelDisabled,touchPadDisabled=_a.touchPadDisabled,excluded=_a.excluded,isInitialized=contextInstance.isInitialized,isPanning=contextInstance.isPanning,target=event.target;return!(!isInitialized||isPanning||disabled||!target||wheelDisabled&&!event.ctrlKey||touchPadDisabled&&event.ctrlKey||isExcludedNode(target,excluded))}(_this,event);if(isAllowed)_this.isPressingKeys(_this.setup.wheel.activationKeys)&&(!function(contextInstance,event){var _a=contextInstance.props,onWheelStart=_a.onWheelStart,onZoomStart=_a.onZoomStart;contextInstance.wheelStopEventTimer||(handleCancelAnimation(contextInstance),handleCallback(getContext(contextInstance),event,onWheelStart),handleCallback(getContext(contextInstance),event,onZoomStart))}(_this,event),handleWheelZoom(_this,event),handleWheelStop(_this,event))}},_this.onPanningStart=function(event){var disabled=_this.setup.disabled,onPanningStart=_this.props.onPanningStart;disabled||isPanningStartAllowed(_this,event)&&_this.isPressingKeys(_this.setup.panning.activationKeys)&&(event.preventDefault(),event.stopPropagation(),handleCancelAnimation(_this),handlePanningStart(_this,event),handleCallback(getContext(_this),event,onPanningStart))},_this.onPanning=function(event){var disabled=_this.setup.disabled,onPanning=_this.props.onPanning;disabled||isPanningAllowed(_this)&&_this.isPressingKeys(_this.setup.panning.activationKeys)&&(event.preventDefault(),event.stopPropagation(),handlePanning(_this,event.clientX,event.clientY),handleCallback(getContext(_this),event,onPanning))},_this.onPanningStop=function(event){var onPanningStop=_this.props.onPanningStop;_this.isPanning&&(handlePanningEnd(_this),handleCallback(getContext(_this),event,onPanningStop))},_this.onPinchStart=function(event){var disabled=_this.setup.disabled,_a=_this.props,onPinchingStart=_a.onPinchingStart,onZoomStart=_a.onZoomStart;if(!disabled){var isAllowed=function(contextInstance,event){var _a=contextInstance.setup.pinch,disabled=_a.disabled,excluded=_a.excluded,isInitialized=contextInstance.isInitialized,target=event.target;return!(!isInitialized||disabled||!target||isExcludedNode(target,excluded))}(_this,event);isAllowed&&(!function(contextInstance,event){var distance=getTouchDistance(event);contextInstance.pinchStartDistance=distance,contextInstance.lastDistance=distance,contextInstance.pinchStartScale=contextInstance.transformState.scale,contextInstance.isPanning=!1,handleCancelAnimation(contextInstance)}(_this,event),handleCancelAnimation(_this),handleCallback(getContext(_this),event,onPinchingStart),handleCallback(getContext(_this),event,onZoomStart))}},_this.onPinch=function(event){var disabled=_this.setup.disabled,_a=_this.props,onPinching=_a.onPinching,onZoom=_a.onZoom;if(!disabled){var isAllowed=function(contextInstance){var disabled=contextInstance.setup.pinch.disabled,isInitialized=contextInstance.isInitialized,pinchStartDistance=contextInstance.pinchStartDistance;return!(!isInitialized||disabled||!pinchStartDistance)}(_this);isAllowed&&(event.preventDefault(),event.stopPropagation(),handlePinchZoom(_this,event),handleCallback(getContext(_this),event,onPinching),handleCallback(getContext(_this),event,onZoom))}},_this.onPinchStop=function(event){var contextInstance,pinchMidpoint,_a=_this.props,onPinchingStop=_a.onPinchingStop,onZoomStop=_a.onZoomStop;_this.pinchStartScale&&(pinchMidpoint=(contextInstance=_this).pinchMidpoint,contextInstance.velocity=null,contextInstance.lastDistance=null,contextInstance.pinchMidpoint=null,contextInstance.pinchStartScale=null,contextInstance.pinchStartDistance=null,handleAlignToScaleBounds(contextInstance,null==pinchMidpoint?void 0:pinchMidpoint.x,null==pinchMidpoint?void 0:pinchMidpoint.y),handleCallback(getContext(_this),event,onPinchingStop),handleCallback(getContext(_this),event,onZoomStop))},_this.onTouchPanningStart=function(event){var disabled=_this.setup.disabled,onPanningStart=_this.props.onPanningStart;if(!disabled&&isPanningStartAllowed(_this,event))if(_this.lastTouch&&+new Date-_this.lastTouch<200&&1===event.touches.length)_this.onDoubleClick(event);else{_this.lastTouch=+new Date,handleCancelAnimation(_this);var touches=event.touches,isPanningAction=1===touches.length,isPinchAction=2===touches.length;isPanningAction&&(handleCancelAnimation(_this),handlePanningStart(_this,event),handleCallback(getContext(_this),event,onPanningStart)),isPinchAction&&_this.onPinchStart(event)}},_this.onTouchPanning=function(event){var disabled=_this.setup.disabled,onPanning=_this.props.onPanning;if(_this.isPanning&&1===event.touches.length){if(disabled)return;if(!isPanningAllowed(_this))return;event.preventDefault(),event.stopPropagation();var touch=event.touches[0];handlePanning(_this,touch.clientX,touch.clientY),handleCallback(getContext(_this),event,onPanning)}else event.touches.length>1&&_this.onPinch(event)},_this.onTouchPanningStop=function(event){_this.onPanningStop(event),_this.onPinchStop(event)},_this.onDoubleClick=function(event){if(!_this.setup.disabled){var isAllowed=function(contextInstance,event){var isInitialized=contextInstance.isInitialized,setup=contextInstance.setup,wrapperComponent=contextInstance.wrapperComponent,_a=setup.doubleClick,disabled=_a.disabled,excluded=_a.excluded,target=event.target,isWrapperChild=null==wrapperComponent?void 0:wrapperComponent.contains(target),isAllowed=isInitialized&&target&&isWrapperChild&&!disabled;return!!isAllowed&&!isExcludedNode(target,excluded)&&!!isAllowed}(_this,event);isAllowed&&function handleDoubleClick(contextInstance,event){var _a=contextInstance.setup.doubleClick,disabled=_a.disabled,mode=_a.mode,step=_a.step,animationTime=_a.animationTime,animationType=_a.animationType;if(!disabled){if("reset"===mode)return resetTransformations(contextInstance,animationTime,animationType);var scale=contextInstance.transformState.scale,contentComponent=contextInstance.contentComponent;if(!contentComponent)return console.error("No ContentComponent found");var newScale=handleCalculateButtonZoom(contextInstance,"zoomOut"===mode?-1:1,step),mousePosition=getMousePosition(event,contentComponent,scale),targetState=handleZoomToPoint(contextInstance,newScale,mousePosition.x,mousePosition.y);if(!targetState)return console.error("Error during zoom event. New transformation state was not calculated.");animate(contextInstance,targetState,animationTime,animationType)}}(_this,event)}},_this.clearPanning=function(event){_this.isPanning&&_this.onPanningStop(event)},_this.setKeyPressed=function(e){_this.pressedKeys[e.key]=!0},_this.setKeyUnPressed=function(e){_this.pressedKeys[e.key]=!1},_this.isPressingKeys=function(keys){return!keys.length||Boolean(keys.find((function(key){return _this.pressedKeys[key]})))},_this.setComponents=function(wrapperComponent,contentComponent){_this.wrapperComponent=wrapperComponent,_this.contentComponent=contentComponent,handleCalculateBounds(_this,_this.transformState.scale),_this.handleInitializeWrapperEvents(wrapperComponent),_this.handleInitialize(),_this.handleRef(),_this.isInitialized=!0,handleCallback(getContext(_this),void 0,_this.props.onInit)},_this.setTransformState=function(scale,positionX,positionY){isNaN(scale)||isNaN(positionX)||isNaN(positionY)?console.error("Detected NaN set state values"):(scale!==_this.transformState.scale&&(_this.transformState.previousScale=_this.transformState.scale,_this.transformState.scale=scale),_this.transformState.positionX=positionX,_this.transformState.positionY=positionY,_this.applyTransformation())},_this.setCenter=function(){if(_this.wrapperComponent&&_this.contentComponent){var targetState=getCenterPosition(_this.transformState.scale,_this.wrapperComponent,_this.contentComponent);_this.setTransformState(targetState.scale,targetState.positionX,targetState.positionY)}},_this.applyTransformation=function(){if(_this.mounted&&_this.contentComponent){var _a=_this.transformState,scale=_a.scale,transform=function(x,y,scale){return"translate3d("+x+"px, "+y+"px, 0) scale("+scale+")"}(_a.positionX,_a.positionY,scale);_this.contentComponent.style.transform=transform,_this.handleRef()}},_this.handleRef=function(){_this.props.setRef(getContext(_this))},_this}return function __extends(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}(TransformContext,_super),TransformContext.prototype.componentDidMount=function(){var passive=makePassiveEventOption();window.addEventListener("mousedown",this.onPanningStart,passive),window.addEventListener("mousemove",this.onPanning,passive),window.addEventListener("mouseup",this.onPanningStop,passive),document.addEventListener("mouseleave",this.clearPanning,passive),window.addEventListener("keyup",this.setKeyUnPressed,passive),window.addEventListener("keydown",this.setKeyPressed,passive),this.handleRef()},TransformContext.prototype.componentWillUnmount=function(){var passive=makePassiveEventOption();window.removeEventListener("mousedown",this.onPanningStart,passive),window.removeEventListener("mousemove",this.onPanning,passive),window.removeEventListener("mouseup",this.onPanningStop,passive),window.removeEventListener("keyup",this.setKeyUnPressed,passive),window.removeEventListener("keydown",this.setKeyPressed,passive),handleCancelAnimation(this)},TransformContext.prototype.componentDidUpdate=function(oldProps){oldProps!==this.props&&(handleCalculateBounds(this,this.transformState.scale),this.setup=createSetup(this.props))},TransformContext.prototype.render=function(){var value=getContext(this),children=this.props.children,content="function"==typeof children?children(value):children;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Context.Provider,{value:__assign(__assign({},this.transformState),{setComponents:this.setComponents,contextInstance:this})},content)},TransformContext}(react__WEBPACK_IMPORTED_MODULE_0__.Component),TransformWrapper=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function(props,ref){var _a=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),innerRef=_a[0],setRef=_a[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref,(function(){return innerRef}),[innerRef]),react__WEBPACK_IMPORTED_MODULE_0__.createElement(TransformContext,__assign({},props,{setRef}))}));var styles_wrapper="transform-component-module_wrapper__1_Fgj",styles_content="transform-component-module_content__2jYgh";!function styleInject(css,ref){void 0===ref&&(ref={});var insertAt=ref.insertAt;if(css&&"undefined"!=typeof document){var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");style.type="text/css","top"===insertAt&&head.firstChild?head.insertBefore(style,head.firstChild):head.appendChild(style),style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css))}}(".transform-component-module_wrapper__1_Fgj {\n  position: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n}\n.transform-component-module_content__2jYgh {\n  display: flex;\n  flex-wrap: wrap;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n.transform-component-module_content__2jYgh img {\n  pointer-events: none;\n}\n");var TransformComponent=function(_a){var children=_a.children,_b=_a.wrapperClass,wrapperClass=void 0===_b?"":_b,_c=_a.contentClass,contentClass=void 0===_c?"":_c,wrapperStyle=_a.wrapperStyle,contentStyle=_a.contentStyle,setComponents=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(Context).setComponents,wrapperRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),contentRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var wrapper=wrapperRef.current,content=contentRef.current;null!==wrapper&&null!==content&&setComponents&&setComponents(wrapper,content)}),[]),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:wrapperRef,className:"react-transform-wrapper "+styles_wrapper+" "+wrapperClass,style:wrapperStyle},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:contentRef,className:"react-transform-component "+styles_content+" "+contentClass,style:contentStyle},children))}}}]);