"use strict";(self.webpackChunk_kaspersky_components=self.webpackChunk_kaspersky_components||[]).push([[3385],{"./helpers/hocs/MetaComponent/MetaDod.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.MetaDod=void 0;var _react=function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}(__webpack_require__("./node_modules/react/index.js")),_styledComponents=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js")),_blocks=__webpack_require__("./node_modules/@storybook/blocks/dist/index.js"),_types=__webpack_require__("./helpers/hocs/MetaComponent/types.ts"),_tag=__webpack_require__("./src/tag/index.ts"),_jsxRuntime=__webpack_require__("./node_modules/react/jsx-runtime.js");function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function(e){return e?t:r})(e)}const StyledTableContainer=_styledComponents.default.div.withConfig({displayName:"MetaDod__StyledTableContainer",componentId:"sc-1gxe50k-0"})(["&&&&&{width:300px;td,th,tr{background:transparent;border:none;}}"]),MetaDod=_ref=>{let{list}=_ref;const metaDodKeys=(0,_react.useMemo)((()=>Object.keys(_types.metaDod)),[]);return(0,_jsxRuntime.jsxs)(_jsxRuntime.Fragment,{children:[(0,_jsxRuntime.jsx)(_blocks.Subtitle,{children:`Definition of done ${(new Date).getDate()}.${(new Date).getMonth()}.${(new Date).getFullYear()}`}),(0,_jsxRuntime.jsx)(StyledTableContainer,{children:(0,_jsxRuntime.jsxs)("table",{children:[(0,_jsxRuntime.jsx)("thead",{children:(0,_jsxRuntime.jsxs)("tr",{children:[(0,_jsxRuntime.jsx)("td",{children:(0,_jsxRuntime.jsx)("b",{children:"Point"})}),(0,_jsxRuntime.jsx)("td",{children:(0,_jsxRuntime.jsx)("b",{children:"Status"})})]})}),(0,_jsxRuntime.jsx)("tbody",{children:metaDodKeys.map((key=>(0,_jsxRuntime.jsxs)("tr",{children:[(0,_jsxRuntime.jsx)("td",{children:_types.metaDod[key]}),(0,_jsxRuntime.jsx)("td",{children:(0,_jsxRuntime.jsx)(_tag.Tag,{mode:list[key]?"grass":"red",children:list[key]?"ready":"need"})})]},key)))})]})})]})};exports.MetaDod=MetaDod;try{MetaDod.displayName="MetaDod",MetaDod.__docgenInfo={description:"",displayName:"MetaDod",props:{list:{defaultValue:null,description:"",name:"list",required:!0,type:{name:'Partial<Record<"storybook" | "designTokens" | "useThemedHook" | "unitTests" | "screenshotTests" | "migration" | "apiTable" | "figmaView", boolean>>'}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["helpers/hocs/MetaComponent/MetaDod.tsx#MetaDod"]={docgenInfo:MetaDod.__docgenInfo,name:"MetaDod",path:"helpers/hocs/MetaComponent/MetaDod.tsx#MetaDod"})}catch(__react_docgen_typescript_loader_error){}},"./helpers/hocs/MetaComponent/types.ts":(__unused_webpack_module,exports)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.metaDod=void 0;exports.metaDod={designTokens:"Дизайн токены",useThemedHook:"Использование theme hook",unitTests:"Unit tests",screenshotTests:"Screenshot tests",migration:"Описание миграции",apiTable:"api table",storybook:"storybook",figmaView:"Отображение в Фигме"}},"./helpers/hocs/MetaComponent/withMeta.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.withMeta=function withMeta(list,Component){return props=>(0,_jsxRuntime.jsxs)(_jsxRuntime.Fragment,{children:[(0,_jsxRuntime.jsx)(_blocks.Title,{children:list.component}),(0,_jsxRuntime.jsx)(_MetaDod.MetaDod,{list:list.dod}),(0,_jsxRuntime.jsx)(_blocks.Subtitle,{children:"Описание"}),list.description?(0,_jsxRuntime.jsx)(_blocks.Markdown,{children:list.description}):"-",(0,_jsxRuntime.jsx)(_blocks.Subtitle,{children:"Использование"}),(0,_jsxRuntime.jsx)(_blocks.Markdown,{children:list.usage}),(0,_jsxRuntime.jsx)(_blocks.Markdown,{children:`[Дизайн](${list.designLink})`}),Component&&(0,_jsxRuntime.jsx)(Component,{...props}),(0,_jsxRuntime.jsx)(_blocks.Primary,{}),(0,_jsxRuntime.jsx)(_blocks.ArgsTable,{story:_blocks.PRIMARY_STORY}),(0,_jsxRuntime.jsx)(_blocks.Stories,{title:"Variants of View"})]})};(function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}})(__webpack_require__("./node_modules/react/index.js"));var _MetaDod=__webpack_require__("./helpers/hocs/MetaComponent/MetaDod.tsx"),_blocks=__webpack_require__("./node_modules/@storybook/blocks/dist/index.js"),_jsxRuntime=__webpack_require__("./node_modules/react/jsx-runtime.js")},"./src/tenantFilter/stories/TenantFilter.stories.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.__namedExportsOrder=exports.WithoutSearch=exports.WithoutHeader=exports.WithButton=exports.WithAllSomeTenants=exports.WithAllSelectedTenants=exports.Basic=void 0;var _Basic$parameters,_Basic$parameters2,_Basic$parameters2$do,_WithAllSelectedTenan,_WithAllSelectedTenan2,_WithAllSelectedTenan3,_WithAllSomeTenants$p,_WithAllSomeTenants$p2,_WithAllSomeTenants$p3,_WithoutSearch$parame,_WithoutSearch$parame2,_WithoutSearch$parame3,_WithoutHeader$parame,_WithoutHeader$parame2,_WithoutHeader$parame3,_WithButton$parameter,_WithButton$parameter2,_WithButton$parameter3,_storybookHelpers=__webpack_require__("./helpers/storybookHelpers.ts"),_withMeta=__webpack_require__("./helpers/hocs/MetaComponent/withMeta.tsx"),_meta=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./src/tenantFilter/__meta__/meta.json")),_TenantFilter=__webpack_require__("./src/tenantFilter/TenantFilter.tsx"),_badges=__webpack_require__("./.storybook/badges.ts"),_tenantFilter=__webpack_require__("./src/tenantFilter/index.ts");const{mappedTenants,tenantsIds}=(0,_tenantFilter.getPreparedTenantTreeData)([{name:"0-0",id:"0-0",subtenants:[{name:"0-0-1",id:"0-0-1",subtenants:[{name:"0-0-1-1",id:"0-0-1-1",subtenants:[]},{name:"0-0-1-2",id:"0-0-1-2",subtenants:[]}]},{name:"0-0-2",id:"0-0-2",subtenants:[{name:"0-0-2-1",id:"0-0-2-1",subtenants:[]},{name:"0-0-2-2",id:"0-0-2-2",subtenants:[]}]}]},{name:"0-1",id:"0-1",subtenants:[]},{name:"0-2",id:"0-2",subtenants:[{name:"0-2-1",id:"0-2-1",subtenants:[{name:"0-2-1-1",id:"0-2-1-1",subtenants:[]},{name:"0-2-1-2",id:"0-2-1-2",subtenants:[]}]}]},{name:"0-3",id:"0-3",subtenants:[{name:"0-3-1",id:"0-3-1",subtenants:[{name:"0-3-1-1",id:"0-3-1-1",subtenants:[]},{name:"0-3-1-2",id:"0-3-1-2",subtenants:[]}]},{name:"0-3-2",id:"0-3-2",subtenants:[{name:"0-3-2-1",id:"0-3-2-1",subtenants:[]},{name:"0-3-2-2",id:"0-3-2-2",subtenants:[]}]}]},{name:"0-4",id:"0-4",subtenants:[{name:"0-4-1",id:"0-4-1",subtenants:[{name:"0-4-1-1",id:"0-4-1-1",subtenants:[]},{name:"0-4-1-2",id:"0-4-1-2",subtenants:[]}]},{name:"0-4-2",id:"0-4-2",subtenants:[{name:"0-4-2-1",id:"0-4-2-1",subtenants:[]},{name:"0-4-2-2",id:"0-4-2-2",subtenants:[]}]}]}]),meta={title:"Organisms/TenantFilter",component:_TenantFilter.TenantFilter,argTypes:{...(0,_storybookHelpers.sbHideControls)(["theme","allTenantsKeys"])},args:{titleText:"Tenant filter",counterText:"Selected",withButton:!1,withSearch:!0,withIcon:!1,defaultSelectedKeys:[],data:mappedTenants,allTenantsKeys:tenantsIds,applyHandler:keys=>{const mappedKeys=keys.map((key=>"\n "+key));alert(`${mappedKeys.length} keys checked: ${mappedKeys}`)},testId:"tenant-filter-test-id",klId:"tenant-filter-kl-id"},parameters:{storySource:{source:"import { sbHideControls } from '@helpers/storybookHelpers';\nimport { withMeta } from '@helpers/hocs/MetaComponent/withMeta';\nimport MetaData from '../__meta__/meta.json';\nimport { TenantFilter } from '../TenantFilter';\nimport { TenantFilterProps } from '../types';\nimport { badges } from '@sb/badges';\nimport { Meta, StoryObj } from '@storybook/react';\nimport { getPreparedTenantTreeData } from '@src/tenantFilter';\nconst treeDataMock = [{\n  name: '0-0',\n  id: '0-0',\n  subtenants: [{\n    name: '0-0-1',\n    id: '0-0-1',\n    subtenants: [{\n      name: '0-0-1-1',\n      id: '0-0-1-1',\n      subtenants: []\n    }, {\n      name: '0-0-1-2',\n      id: '0-0-1-2',\n      subtenants: []\n    }]\n  }, {\n    name: '0-0-2',\n    id: '0-0-2',\n    subtenants: [{\n      name: '0-0-2-1',\n      id: '0-0-2-1',\n      subtenants: []\n    }, {\n      name: '0-0-2-2',\n      id: '0-0-2-2',\n      subtenants: []\n    }]\n  }]\n}, {\n  name: '0-1',\n  id: '0-1',\n  subtenants: []\n}, {\n  name: '0-2',\n  id: '0-2',\n  subtenants: [{\n    name: '0-2-1',\n    id: '0-2-1',\n    subtenants: [{\n      name: '0-2-1-1',\n      id: '0-2-1-1',\n      subtenants: []\n    }, {\n      name: '0-2-1-2',\n      id: '0-2-1-2',\n      subtenants: []\n    }]\n  }]\n}, {\n  name: '0-3',\n  id: '0-3',\n  subtenants: [{\n    name: '0-3-1',\n    id: '0-3-1',\n    subtenants: [{\n      name: '0-3-1-1',\n      id: '0-3-1-1',\n      subtenants: []\n    }, {\n      name: '0-3-1-2',\n      id: '0-3-1-2',\n      subtenants: []\n    }]\n  }, {\n    name: '0-3-2',\n    id: '0-3-2',\n    subtenants: [{\n      name: '0-3-2-1',\n      id: '0-3-2-1',\n      subtenants: []\n    }, {\n      name: '0-3-2-2',\n      id: '0-3-2-2',\n      subtenants: []\n    }]\n  }]\n}, {\n  name: '0-4',\n  id: '0-4',\n  subtenants: [{\n    name: '0-4-1',\n    id: '0-4-1',\n    subtenants: [{\n      name: '0-4-1-1',\n      id: '0-4-1-1',\n      subtenants: []\n    }, {\n      name: '0-4-1-2',\n      id: '0-4-1-2',\n      subtenants: []\n    }]\n  }, {\n    name: '0-4-2',\n    id: '0-4-2',\n    subtenants: [{\n      name: '0-4-2-1',\n      id: '0-4-2-1',\n      subtenants: []\n    }, {\n      name: '0-4-2-2',\n      id: '0-4-2-2',\n      subtenants: []\n    }]\n  }]\n}];\nconst {\n  mappedTenants,\n  tenantsIds\n} = getPreparedTenantTreeData(treeDataMock);\nconst defaultSelectedKeys = ['0-0-2-1'];\nconst callback = (keys: string[]) => {\n  const mappedKeys = keys.map(key => '\\n ' + key);\n  alert(`${mappedKeys.length} keys checked: ${mappedKeys}`);\n};\nconst meta: Meta<TenantFilterProps> = {\n  title: 'Organisms/TenantFilter',\n  component: TenantFilter,\n  argTypes: {\n    ...sbHideControls(['theme', 'allTenantsKeys'])\n  },\n  args: {\n    titleText: 'Tenant filter',\n    counterText: 'Selected',\n    withButton: false,\n    withSearch: true,\n    withIcon: false,\n    defaultSelectedKeys: [],\n    data: mappedTenants,\n    allTenantsKeys: tenantsIds,\n    applyHandler: callback,\n    testId: 'tenant-filter-test-id',\n    klId: 'tenant-filter-kl-id'\n  },\n  parameters: {\n    badges: [badges.dev],\n    docs: {\n      page: withMeta(MetaData)\n    }\n  }\n};\nexport default meta;\ntype Story = StoryObj<TenantFilterProps>;\nexport const Basic: Story = {};\nexport const WithAllSelectedTenants: Story = {\n  args: {\n    defaultSelectedKeys: tenantsIds\n  }\n};\nexport const WithAllSomeTenants: Story = {\n  args: {\n    defaultSelectedKeys: defaultSelectedKeys\n  }\n};\nexport const WithoutSearch: Story = {\n  args: {\n    withSearch: false\n  }\n};\nexport const WithoutHeader: Story = {\n  args: {\n    titleText: undefined,\n    counterText: undefined\n  }\n};\nexport const WithButton: Story = {\n  args: {\n    buttonText: 'Apply filter',\n    withButton: true\n  }\n};\nBasic.parameters = {\n  ...Basic.parameters,\n  docs: {\n    ...Basic.parameters?.docs,\n    source: {\n      originalSource: \"{}\",\n      ...Basic.parameters?.docs?.source\n    }\n  }\n};\nWithAllSelectedTenants.parameters = {\n  ...WithAllSelectedTenants.parameters,\n  docs: {\n    ...WithAllSelectedTenants.parameters?.docs,\n    source: {\n      originalSource: \"{\\n  args: {\\n    defaultSelectedKeys: tenantsIds\\n  }\\n}\",\n      ...WithAllSelectedTenants.parameters?.docs?.source\n    }\n  }\n};\nWithAllSomeTenants.parameters = {\n  ...WithAllSomeTenants.parameters,\n  docs: {\n    ...WithAllSomeTenants.parameters?.docs,\n    source: {\n      originalSource: \"{\\n  args: {\\n    defaultSelectedKeys: defaultSelectedKeys\\n  }\\n}\",\n      ...WithAllSomeTenants.parameters?.docs?.source\n    }\n  }\n};\nWithoutSearch.parameters = {\n  ...WithoutSearch.parameters,\n  docs: {\n    ...WithoutSearch.parameters?.docs,\n    source: {\n      originalSource: \"{\\n  args: {\\n    withSearch: false\\n  }\\n}\",\n      ...WithoutSearch.parameters?.docs?.source\n    }\n  }\n};\nWithoutHeader.parameters = {\n  ...WithoutHeader.parameters,\n  docs: {\n    ...WithoutHeader.parameters?.docs,\n    source: {\n      originalSource: \"{\\n  args: {\\n    titleText: undefined,\\n    counterText: undefined\\n  }\\n}\",\n      ...WithoutHeader.parameters?.docs?.source\n    }\n  }\n};\nWithButton.parameters = {\n  ...WithButton.parameters,\n  docs: {\n    ...WithButton.parameters?.docs,\n    source: {\n      originalSource: \"{\\n  args: {\\n    buttonText: 'Apply filter',\\n    withButton: true\\n  }\\n}\",\n      ...WithButton.parameters?.docs?.source\n    }\n  }\n};",locationsMap:{basic:{startLoc:{col:28,line:151},endLoc:{col:30,line:151},startBody:{col:28,line:151},endBody:{col:30,line:151}},"with-all-selected-tenants":{startLoc:{col:45,line:152},endLoc:{col:1,line:156},startBody:{col:45,line:152},endBody:{col:1,line:156}},"with-all-some-tenants":{startLoc:{col:41,line:157},endLoc:{col:1,line:161},startBody:{col:41,line:157},endBody:{col:1,line:161}},"without-search":{startLoc:{col:36,line:162},endLoc:{col:1,line:166},startBody:{col:36,line:162},endBody:{col:1,line:166}},"without-header":{startLoc:{col:36,line:167},endLoc:{col:1,line:172},startBody:{col:36,line:167},endBody:{col:1,line:172}},"with-button":{startLoc:{col:33,line:173},endLoc:{col:1,line:178},startBody:{col:33,line:173},endBody:{col:1,line:178}}}},badges:[_badges.badges.dev],docs:{page:(0,_withMeta.withMeta)(_meta.default)}}};exports.default=meta;const Basic=exports.Basic={},WithAllSelectedTenants=exports.WithAllSelectedTenants={args:{defaultSelectedKeys:tenantsIds}},WithAllSomeTenants=exports.WithAllSomeTenants={args:{defaultSelectedKeys:["0-0-2-1"]}},WithoutSearch=exports.WithoutSearch={args:{withSearch:!1}},WithoutHeader=exports.WithoutHeader={args:{titleText:void 0,counterText:void 0}},WithButton=exports.WithButton={args:{buttonText:"Apply filter",withButton:!0}};Basic.parameters={...Basic.parameters,docs:{...null===(_Basic$parameters=Basic.parameters)||void 0===_Basic$parameters?void 0:_Basic$parameters.docs,source:{originalSource:"{}",...null===(_Basic$parameters2=Basic.parameters)||void 0===_Basic$parameters2||null===(_Basic$parameters2$do=_Basic$parameters2.docs)||void 0===_Basic$parameters2$do?void 0:_Basic$parameters2$do.source}}},WithAllSelectedTenants.parameters={...WithAllSelectedTenants.parameters,docs:{...null===(_WithAllSelectedTenan=WithAllSelectedTenants.parameters)||void 0===_WithAllSelectedTenan?void 0:_WithAllSelectedTenan.docs,source:{originalSource:"{\n  args: {\n    defaultSelectedKeys: tenantsIds\n  }\n}",...null===(_WithAllSelectedTenan2=WithAllSelectedTenants.parameters)||void 0===_WithAllSelectedTenan2||null===(_WithAllSelectedTenan3=_WithAllSelectedTenan2.docs)||void 0===_WithAllSelectedTenan3?void 0:_WithAllSelectedTenan3.source}}},WithAllSomeTenants.parameters={...WithAllSomeTenants.parameters,docs:{...null===(_WithAllSomeTenants$p=WithAllSomeTenants.parameters)||void 0===_WithAllSomeTenants$p?void 0:_WithAllSomeTenants$p.docs,source:{originalSource:"{\n  args: {\n    defaultSelectedKeys: defaultSelectedKeys\n  }\n}",...null===(_WithAllSomeTenants$p2=WithAllSomeTenants.parameters)||void 0===_WithAllSomeTenants$p2||null===(_WithAllSomeTenants$p3=_WithAllSomeTenants$p2.docs)||void 0===_WithAllSomeTenants$p3?void 0:_WithAllSomeTenants$p3.source}}},WithoutSearch.parameters={...WithoutSearch.parameters,docs:{...null===(_WithoutSearch$parame=WithoutSearch.parameters)||void 0===_WithoutSearch$parame?void 0:_WithoutSearch$parame.docs,source:{originalSource:"{\n  args: {\n    withSearch: false\n  }\n}",...null===(_WithoutSearch$parame2=WithoutSearch.parameters)||void 0===_WithoutSearch$parame2||null===(_WithoutSearch$parame3=_WithoutSearch$parame2.docs)||void 0===_WithoutSearch$parame3?void 0:_WithoutSearch$parame3.source}}},WithoutHeader.parameters={...WithoutHeader.parameters,docs:{...null===(_WithoutHeader$parame=WithoutHeader.parameters)||void 0===_WithoutHeader$parame?void 0:_WithoutHeader$parame.docs,source:{originalSource:"{\n  args: {\n    titleText: undefined,\n    counterText: undefined\n  }\n}",...null===(_WithoutHeader$parame2=WithoutHeader.parameters)||void 0===_WithoutHeader$parame2||null===(_WithoutHeader$parame3=_WithoutHeader$parame2.docs)||void 0===_WithoutHeader$parame3?void 0:_WithoutHeader$parame3.source}}},WithButton.parameters={...WithButton.parameters,docs:{...null===(_WithButton$parameter=WithButton.parameters)||void 0===_WithButton$parameter?void 0:_WithButton$parameter.docs,source:{originalSource:"{\n  args: {\n    buttonText: 'Apply filter',\n    withButton: true\n  }\n}",...null===(_WithButton$parameter2=WithButton.parameters)||void 0===_WithButton$parameter2||null===(_WithButton$parameter3=_WithButton$parameter2.docs)||void 0===_WithButton$parameter3?void 0:_WithButton$parameter3.source}}};exports.__namedExportsOrder=["Basic","WithAllSelectedTenants","WithAllSomeTenants","WithoutSearch","WithoutHeader","WithButton"]},"./src/tenantFilter/__meta__/meta.json":module=>{module.exports=JSON.parse('{"dod":{"designTokens":false,"useThemedHook":false,"unitTests":false,"screenshotTests":false,"migration":true,"apiTable":true,"storybook":true},"component":"TenantFilter","description":"Составной компонент. Включает в себя Label, Search, Tree, Button","usage":"Компонент TenantFilter предназначен для фильтрации данных по тенантам. `runtime.trigger(\'interface.tenant-filter.toggle\', params)` - вызов из кодов NWC. `runtime.app.features.tenantFilter.openTenantFilter(params)` - вызов из плагинов. `params: {treeData, defaultCheckedKeys, handler}`","designLink":"https://www.figma.com/file/o7vdftt3lbgQBw5gPB6ufz/IRP-On-prem-(xDR)?node-id=18211-307102&t=Lr8TrsREnLuSETHG-0"}')}}]);